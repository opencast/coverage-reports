<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>StatusData.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">Opencast :: jacoco-reports</a> &gt; <a href="../index.html" class="el_bundle">opencast-runtime-info</a> &gt; <a href="index.source.html" class="el_package">org.opencastproject.runtimeinfo.rest</a> &gt; <span class="el_source">StatusData.java</span></div><h1>StatusData.java</h1><pre class="source lang-java linenums">/*
 * Licensed to The Apereo Foundation under one or more contributor license
 * agreements. See the NOTICE file distributed with this work for additional
 * information regarding copyright ownership.
 *
 *
 * The Apereo Foundation licenses this file to you under the Educational
 * Community License, Version 2.0 (the &quot;License&quot;); you may not use this file
 * except in compliance with the License. You may obtain a copy of the License
 * at:
 *
 *   http://opensource.org/licenses/ecl2.txt
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 * License for the specific language governing permissions and limitations under
 * the License.
 *
 */

package org.opencastproject.runtimeinfo.rest;

import org.opencastproject.util.doc.rest.RestResponse;

import javax.servlet.http.HttpServletResponse;

/**
 * Represents a possible status result for an endpoint
 */
public class StatusData {

  /**
   * The HTTP response code.
   */
  private int code;

  /**
   * The name of this status.
   */
  private String name;

  /**
   * The description for this HTTP response.
   */
  private String description;

  /**
   * The XML schema for the response, if applicable.
   */
  private String xmlSchema;

  /**
   * A constructor that takes a RestResponse annotation type object and constructs a StatusData object.
   *
   * @param restResponse
   *          a RestResponse annotation type object that stores a response code and its description
   * @throws IllegalArgumentException
   *           if the response code is out of range (e.g. &amp;lt;100 or &amp;gt;1100)
   */
  public StatusData(RestResponse restResponse) throws IllegalArgumentException {
<span class="fc" id="L62">    this(restResponse.responseCode(), restResponse.description());</span>
<span class="fc" id="L63">  }</span>

  /**
   * A constructor that takes a HTTP response code and a description for this response, and an XML schema for the
   * response and constructs a StatusData object. A reference of response code constants can be found in &lt;a
   * href=&quot;http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html&quot;
   * &gt;javax.servlet.http.HttpServletResponse&lt;/a&gt;.
   *
   * @param code
   *          a HTTP response code
   * @param description
   *          a description of the response
   * @throws IllegalArgumentException
   *           if code is out of range (e.g. &amp;lt;100 or &amp;gt;1100)
   */
<span class="fc" id="L78">  public StatusData(int code, String description, String xmlSchema) throws IllegalArgumentException {</span>
<span class="pc bpc" id="L79" title="2 of 4 branches missed.">    if (code &lt; 100 || code &gt; 1100) {</span>
<span class="nc" id="L80">      throw new IllegalArgumentException(&quot;Code (&quot; + code + &quot;) is outside of the valid range: 100-1100.&quot;);</span>
    }
<span class="fc" id="L82">    this.code = code;</span>
<span class="fc" id="L83">    name = findName(code);</span>
<span class="fc bfc" id="L84" title="All 2 branches covered.">    if (description.isEmpty()) {</span>
<span class="fc" id="L85">      this.description = null;</span>
    } else {
<span class="fc" id="L87">      this.description = description;</span>
    }
<span class="fc" id="L89">    this.xmlSchema = xmlSchema;</span>
<span class="fc" id="L90">  }</span>

  /**
   * A constructor that takes a HTTP response code and a description for this response and constructs a StatusData
   * object. A reference of response code constants can be found in &lt;a
   * href=&quot;http://download.oracle.com/javaee/6/api/javax/servlet/http/HttpServletResponse.html&quot;
   * &gt;javax.servlet.http.HttpServletResponse&lt;/a&gt;.
   *
   * @param code
   *          a HTTP response code
   * @param description
   *          a description of the response
   * @throws IllegalArgumentException
   *           if code is out of range (e.g. &amp;lt;100 or &amp;gt; 1100)
   */
  public StatusData(int code, String description) throws IllegalArgumentException {
<span class="fc" id="L106">    this(code, description, null);</span>
<span class="fc" id="L107">  }</span>

  @Override
  /**
   * @return a string representation of this object
   */
  public String toString() {
<span class="nc" id="L114">    return &quot;SC:&quot; + code + &quot;:&quot; + name;</span>
  }

  /**
   * @return the response code of this status
   */
  public int getCode() {
<span class="fc" id="L121">    return code;</span>
  }

  /**
   * @return a string name of this status
   */
  public String getName() {
<span class="nc" id="L128">    return name;</span>
  }

  /**
   * @return a description of this status
   */
  public String getDescription() {
<span class="fc" id="L135">    return description;</span>
  }

  /**
   * This will resolve a human readable name for all known status codes.
   *
   * @param code
   *          the status code
   * @return the name OR UNKNOWN if none found
   * @throws IllegalArgumentException
   *           if the code is outside the valid range
   */
  public static String findName(int code) throws IllegalArgumentException {
<span class="pc bpc" id="L148" title="2 of 4 branches missed.">    if (code &lt; 100 || code &gt; 1100) {</span>
<span class="nc" id="L149">      throw new IllegalArgumentException(&quot;Code (&quot; + code + &quot;) is outside of the valid range: 100-1100.&quot;);</span>
    }

    // list from http://en.wikipedia.org/wiki/List_of_HTTP_status_codes
    String result;
<span class="pc bpc" id="L154" title="38 of 41 branches missed.">    switch (code) {</span>
    // 1xx Informational
      case HttpServletResponse.SC_CONTINUE: // 100
<span class="nc" id="L157">        result = &quot;Continue&quot;;</span>
<span class="nc" id="L158">        break;</span>
      case HttpServletResponse.SC_SWITCHING_PROTOCOLS: // 101
<span class="nc" id="L160">        result = &quot;Switching Protocols&quot;;</span>
<span class="nc" id="L161">        break;</span>
      // 2xx Success
      case HttpServletResponse.SC_OK: // 200
<span class="fc" id="L164">        result = &quot;OK&quot;;</span>
<span class="fc" id="L165">        break;</span>
      case HttpServletResponse.SC_CREATED: // 201
<span class="nc" id="L167">        result = &quot;Created&quot;;</span>
<span class="nc" id="L168">        break;</span>
      case HttpServletResponse.SC_ACCEPTED: // 202
<span class="nc" id="L170">        result = &quot;Accepted&quot;;</span>
<span class="nc" id="L171">        break;</span>
      case HttpServletResponse.SC_NON_AUTHORITATIVE_INFORMATION: // 203
<span class="nc" id="L173">        result = &quot;Non-Authoritative Information&quot;;</span>
<span class="nc" id="L174">        break;</span>
      case HttpServletResponse.SC_NO_CONTENT: // 204
<span class="nc" id="L176">        result = &quot;No Content&quot;;</span>
<span class="nc" id="L177">        break;</span>
      case HttpServletResponse.SC_RESET_CONTENT: // 205
<span class="nc" id="L179">        result = &quot;Reset Content&quot;;</span>
<span class="nc" id="L180">        break;</span>
      case HttpServletResponse.SC_PARTIAL_CONTENT: // 206
<span class="nc" id="L182">        result = &quot;Partial Content&quot;;</span>
<span class="nc" id="L183">        break;</span>
      // 3xx Redirection
      case HttpServletResponse.SC_MULTIPLE_CHOICES: // 300
<span class="nc" id="L186">        result = &quot;Multiple Choices&quot;;</span>
<span class="nc" id="L187">        break;</span>
      case HttpServletResponse.SC_MOVED_PERMANENTLY: // 301
<span class="nc" id="L189">        result = &quot;Moved Permanently&quot;;</span>
<span class="nc" id="L190">        break;</span>
      case HttpServletResponse.SC_MOVED_TEMPORARILY: // 302
<span class="nc" id="L192">        result = &quot;Found&quot;;</span>
<span class="nc" id="L193">        break;</span>
      case HttpServletResponse.SC_SEE_OTHER: // 303
<span class="nc" id="L195">        result = &quot;See Other&quot;;</span>
<span class="nc" id="L196">        break;</span>
      case HttpServletResponse.SC_NOT_MODIFIED: // 304
<span class="nc" id="L198">        result = &quot;Not Modified&quot;;</span>
<span class="nc" id="L199">        break;</span>
      case HttpServletResponse.SC_USE_PROXY: // 305
<span class="nc" id="L201">        result = &quot;Use Proxy&quot;;</span>
<span class="nc" id="L202">        break;</span>
      case HttpServletResponse.SC_TEMPORARY_REDIRECT: // 307
<span class="nc" id="L204">        result = &quot;Temporary Redirect&quot;;</span>
<span class="nc" id="L205">        break;</span>
      // 4xx Client Error
      case HttpServletResponse.SC_BAD_REQUEST: // 400
<span class="fc" id="L208">        result = &quot;Bad Request&quot;;</span>
<span class="fc" id="L209">        break;</span>
      case HttpServletResponse.SC_UNAUTHORIZED: // 401
<span class="nc" id="L211">        result = &quot;Unauthorized&quot;;</span>
<span class="nc" id="L212">        break;</span>
      case HttpServletResponse.SC_PAYMENT_REQUIRED: // 402
<span class="nc" id="L214">        result = &quot;Payment Required&quot;;</span>
<span class="nc" id="L215">        break;</span>
      case HttpServletResponse.SC_FORBIDDEN: // 403
<span class="nc" id="L217">        result = &quot;Forbidden&quot;;</span>
<span class="nc" id="L218">        break;</span>
      case HttpServletResponse.SC_NOT_FOUND: // 404
<span class="nc" id="L220">        result = &quot;Not Found&quot;;</span>
<span class="nc" id="L221">        break;</span>
      case HttpServletResponse.SC_METHOD_NOT_ALLOWED: // 405
<span class="nc" id="L223">        result = &quot;Method Not Allowed&quot;;</span>
<span class="nc" id="L224">        break;</span>
      case HttpServletResponse.SC_NOT_ACCEPTABLE: // 406
<span class="nc" id="L226">        result = &quot;Not Acceptable&quot;;</span>
<span class="nc" id="L227">        break;</span>
      case HttpServletResponse.SC_PROXY_AUTHENTICATION_REQUIRED: // 407
<span class="nc" id="L229">        result = &quot;Proxy Authentication Required&quot;;</span>
<span class="nc" id="L230">        break;</span>
      case HttpServletResponse.SC_REQUEST_TIMEOUT: // 408
<span class="nc" id="L232">        result = &quot;Request Timeout&quot;;</span>
<span class="nc" id="L233">        break;</span>
      case HttpServletResponse.SC_CONFLICT: // 409
<span class="nc" id="L235">        result = &quot;Conflict&quot;;</span>
<span class="nc" id="L236">        break;</span>
      case HttpServletResponse.SC_GONE: // 410
<span class="nc" id="L238">        result = &quot;Gone&quot;;</span>
<span class="nc" id="L239">        break;</span>
      case HttpServletResponse.SC_LENGTH_REQUIRED: // 411
<span class="nc" id="L241">        result = &quot;Length Required&quot;;</span>
<span class="nc" id="L242">        break;</span>
      case HttpServletResponse.SC_PRECONDITION_FAILED: // 412
<span class="nc" id="L244">        result = &quot;Precondition Failed&quot;;</span>
<span class="nc" id="L245">        break;</span>
      case HttpServletResponse.SC_REQUEST_ENTITY_TOO_LARGE: // 413
<span class="nc" id="L247">        result = &quot;Request Entity Too Large&quot;;</span>
<span class="nc" id="L248">        break;</span>
      case HttpServletResponse.SC_REQUEST_URI_TOO_LONG: // 414
<span class="nc" id="L250">        result = &quot;Request URI Too Long&quot;;</span>
<span class="nc" id="L251">        break;</span>
      case HttpServletResponse.SC_UNSUPPORTED_MEDIA_TYPE: // 415
<span class="nc" id="L253">        result = &quot;Unsupported Media Type&quot;;</span>
<span class="nc" id="L254">        break;</span>
      case HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE: // 416
<span class="nc" id="L256">        result = &quot;Requested Range Not Satisfiable&quot;;</span>
<span class="nc" id="L257">        break;</span>
      case HttpServletResponse.SC_EXPECTATION_FAILED: // 417
<span class="nc" id="L259">        result = &quot;Expectation Failed&quot;;</span>
<span class="nc" id="L260">        break;</span>
      // 5xx Server Error
      case HttpServletResponse.SC_INTERNAL_SERVER_ERROR: // 500
<span class="fc" id="L263">        result = &quot;Internal Server Error&quot;;</span>
<span class="fc" id="L264">        break;</span>
      case HttpServletResponse.SC_NOT_IMPLEMENTED: // 501
<span class="nc" id="L266">        result = &quot;Not Implemented&quot;;</span>
<span class="nc" id="L267">        break;</span>
      case HttpServletResponse.SC_BAD_GATEWAY: // 502
<span class="nc" id="L269">        result = &quot;Bad Gateway&quot;;</span>
<span class="nc" id="L270">        break;</span>
      case HttpServletResponse.SC_SERVICE_UNAVAILABLE: // 503
<span class="nc" id="L272">        result = &quot;Service Unavailable&quot;;</span>
<span class="nc" id="L273">        break;</span>
      case HttpServletResponse.SC_GATEWAY_TIMEOUT: // 504
<span class="nc" id="L275">        result = &quot;Gateway Timeout&quot;;</span>
<span class="nc" id="L276">        break;</span>
      case HttpServletResponse.SC_HTTP_VERSION_NOT_SUPPORTED: // 505
<span class="nc" id="L278">        result = &quot;Version Not Supported&quot;;</span>
<span class="nc" id="L279">        break;</span>
      default:
<span class="nc" id="L281">        result = &quot;UNKNOWN&quot;;</span>
    }
<span class="fc" id="L283">    return result;</span>
  }

  /**
   * @return the xmlSchema
   */
  public String getXmlSchema() {
<span class="nc" id="L290">    return xmlSchema;</span>
  }

  /**
   * @param xmlSchema
   *          the xmlSchema to set
   */
  public void setXmlSchema(String xmlSchema) {
<span class="nc" id="L298">    this.xmlSchema = xmlSchema;</span>
<span class="nc" id="L299">  }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>