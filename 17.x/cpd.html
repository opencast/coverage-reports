<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from org.apache.maven.plugins:maven-pmd-plugin:3.27.0:aggregate-cpd at 2025-09-09
 | Rendered using Apache Maven Fluido Skin 2.0.0-M9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>CPD Results â€“ opencast</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.0-M9.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.0-M9.min.js"></script>
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1>opencast</h1></div></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2025-09-09<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 17-SNAPSHOT</li>
        <li class="pull-right"><a href="./">opencast</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Modules</li>
    <li><a href="modules/opencast-admin-ui/index.html">Opencast :: admin-ui</a></li>
    <li><a href="modules/opencast-admin-ui-interface/index.html">Opencast :: admin-ui-interface</a></li>
    <li><a href="modules/opencast-adopter-registration-api/index.html">Opencast :: adopter-registration-api</a></li>
    <li><a href="modules/opencast-adopter-registration-impl/index.html">Opencast :: adopter-registration-impl</a></li>
    <li><a href="modules/opencast-analyze-mediapackage-workflowoperation/index.html">Opencast :: analyze-mediapackage-workflowoperation</a></li>
    <li><a href="modules/opencast-animate-api/index.html">Opencast :: animate-api</a></li>
    <li><a href="modules/opencast-animate-impl/index.html">Opencast :: animate-impl</a></li>
    <li><a href="modules/opencast-animate-remote/index.html">Opencast :: animate-remote</a></li>
    <li><a href="modules/opencast-animate-workflowoperation/index.html">Opencast :: animate-workflowoperation</a></li>
    <li><a href="modules/opencast-annotation-api/index.html">Opencast :: annotation-api</a></li>
    <li><a href="modules/opencast-annotation-impl/index.html">Opencast :: annotation-impl</a></li>
    <li><a href="modules/opencast-asset-manager-api/index.html">Opencast :: asset-manager-api</a></li>
    <li><a href="modules/opencast-asset-manager-impl/index.html">Opencast :: asset-manager-impl</a></li>
    <li><a href="modules/opencast-asset-manager-static-file-authorization/index.html">Opencast :: asset-manager-static-file-authorization</a></li>
    <li><a href="modules/opencast-asset-manager-storage-aws/index.html">Opencast :: asset-manager-storage-aws</a></li>
    <li><a href="modules/opencast-asset-manager-storage-fs/index.html">Opencast :: asset-manager-storage-fs</a></li>
    <li><a href="modules/opencast-asset-manager-workflowoperation/index.html">Opencast :: asset-manager-workflowoperation</a></li>
    <li><a href="modules/opencast-authorization-manager/index.html">Opencast :: authorization-manager</a></li>
    <li><a href="modules/opencast-authorization-xacml/index.html">Opencast :: authorization-xacml</a></li>
    <li><a href="modules/opencast-caption-api/index.html">Opencast :: caption-api</a></li>
    <li><a href="modules/opencast-caption-impl/index.html">Opencast :: caption-impl</a></li>
    <li><a href="modules/opencast-caption-remote/index.html">Opencast :: caption-remote</a></li>
    <li><a href="modules/opencast-capture-admin-service-api/index.html">Opencast :: capture-admin-service-api</a></li>
    <li><a href="modules/opencast-capture-admin-service-impl/index.html">Opencast :: capture-admin-service-impl</a></li>
    <li><a href="modules/opencast-comments-workflowoperation/index.html">Opencast :: comments-workflowoperation</a></li>
    <li><a href="modules/opencast-common-jpa-impl/index.html">Opencast :: common-jpa-impl</a></li>
    <li><a href="modules/opencast-common/index.html">Opencast :: common</a></li>
    <li><a href="modules/opencast-composer-ffmpeg/index.html">Opencast :: composer-ffmpeg</a></li>
    <li><a href="modules/opencast-composer-service-api/index.html">Opencast :: composer-service-api</a></li>
    <li><a href="modules/opencast-composer-service-remote/index.html">Opencast :: composer-service-remote</a></li>
    <li><a href="modules/opencast-composer-workflowoperation/index.html">Opencast :: composer-workflowoperation</a></li>
    <li><a href="modules/opencast-conductor/index.html">Opencast :: conductor</a></li>
    <li><a href="modules/opencast-cover-image-api/index.html">Opencast :: cover-image-api</a></li>
    <li><a href="modules/opencast-cover-image-impl/index.html">Opencast :: cover-image-impl</a></li>
    <li><a href="modules/opencast-cover-image-remote/index.html">Opencast :: cover-image-remote</a></li>
    <li><a href="modules/opencast-cover-image-workflowoperation/index.html">Opencast :: cover-image-workflowoperation</a></li>
    <li><a href="modules/opencast-crop-api/index.html">Opencast :: crop-api</a></li>
    <li><a href="modules/opencast-crop-ffmpeg/index.html">Opencast :: crop-ffmpeg</a></li>
    <li><a href="modules/opencast-crop-remote/index.html">Opencast :: crop-remote</a></li>
    <li><a href="modules/opencast-crop-workflowoperation/index.html">Opencast :: crop-workflowoperation</a></li>
    <li><a href="modules/opencast-db/index.html">Opencast :: db</a></li>
    <li><a href="modules/opencast-dictionary-api/index.html">Opencast :: dictionary-api</a></li>
    <li><a href="modules/opencast-dictionary-hunspell/index.html">Opencast :: dictionary-hunspell</a></li>
    <li><a href="modules/opencast-dictionary-none/index.html">Opencast :: dictionary-none</a></li>
    <li><a href="modules/opencast-dictionary-regexp/index.html">Opencast :: dictionary-regexp</a></li>
    <li><a href="modules/opencast-distribution-service-api/index.html">Opencast :: distribution-service-api</a></li>
    <li><a href="modules/opencast-distribution-service-aws-s3-api/index.html">Opencast :: distribution-service-aws-s3-api</a></li>
    <li><a href="modules/opencast-distribution-service-aws-s3-remote/index.html">Opencast :: distribution-service-aws-s3-remote</a></li>
    <li><a href="modules/opencast-distribution-service-aws-s3/index.html">Opencast :: distribution-service-aws-s3</a></li>
    <li><a href="modules/opencast-distribution-service-download-remote/index.html">Opencast :: distribution-service-download-remote</a></li>
    <li><a href="modules/opencast-distribution-service-download/index.html">Opencast :: distribution-service-download</a></li>
    <li><a href="modules/opencast-distribution-service-streaming-remote/index.html">Opencast :: distribution-service-streaming-remote</a></li>
    <li><a href="modules/opencast-distribution-service-streaming-wowza/index.html">Opencast :: distribution-service-streaming-wowza</a></li>
    <li><a href="modules/opencast-distribution-workflowoperation/index.html">Opencast :: distribution-workflowoperation</a></li>
    <li><a href="modules/opencast-dublincore/index.html">Opencast :: dublincore</a></li>
    <li><a href="modules/opencast-editor-service-api/index.html">Opencast :: editor-service-api</a></li>
    <li><a href="modules/opencast-editor-service-remote/index.html">Opencast :: editor-service-remote</a></li>
    <li><a href="modules/opencast-editor-service/index.html">Opencast :: editor-service</a></li>
    <li><a href="modules/opencast-editor/index.html">Opencast :: editor</a></li>
    <li><a href="modules/opencast-elasticsearch-api/index.html">Opencast :: elasticsearch-api</a></li>
    <li><a href="modules/opencast-elasticsearch-impl/index.html">Opencast :: elasticsearch-impl</a></li>
    <li><a href="modules/opencast-elasticsearch-index/index.html">Opencast :: elasticsearch-index</a></li>
    <li><a href="modules/opencast-email-template-service-api/index.html">Opencast :: email-template-service-api</a></li>
    <li><a href="modules/opencast-email-template-service-impl/index.html">Opencast :: email-template-service-impl</a></li>
    <li><a href="modules/opencast-engage-paella-player-7/index.html">Opencast :: engage-paella-player-7</a></li>
    <li><a href="modules/opencast-engage-ui/index.html">Opencast :: engage-ui</a></li>
    <li><a href="modules/opencast-event-comment/index.html">Opencast :: event-comment</a></li>
    <li><a href="modules/opencast-execute-api/index.html">Opencast :: execute-api</a></li>
    <li><a href="modules/opencast-execute-impl/index.html">Opencast :: execute-impl</a></li>
    <li><a href="modules/opencast-execute-remote/index.html">Opencast :: execute-remote</a></li>
    <li><a href="modules/opencast-execute-workflowoperation/index.html">Opencast :: execute-workflowoperation</a></li>
    <li><a href="modules/opencast-external-api/index.html">Opencast :: external-api</a></li>
    <li><a href="modules/opencast-fileupload/index.html">Opencast :: fileupload</a></li>
    <li><a href="modules/opencast-graphql/index.html">Opencast :: graphql</a></li>
    <li><a href="modules/opencast-graphql-ui/index.html">Opencast :: graphql-ui</a></li>
    <li><a href="modules/opencast-hello-world-api/index.html">Opencast :: hello-world-api</a></li>
    <li><a href="modules/opencast-hello-world-impl/index.html">Opencast :: hello-world-impl</a></li>
    <li><a href="modules/opencast-hello-world-workflowoperation/index.html">Opencast :: hello-world-workflowoperation</a></li>
    <li><a href="modules/opencast-subtitle-timeshift-workflowoperation/index.html">Opencast :: subtitle-timeshift-workflowoperation</a></li>
    <li><a href="modules/opencast-incident-workflowoperation/index.html">Opencast :: incident-workflowoperation</a></li>
    <li><a href="modules/opencast-index-service/index.html">Opencast :: index-service</a></li>
    <li><a href="modules/opencast-ingest-download-service-api/index.html">Opencast :: ingest-download-service-api</a></li>
    <li><a href="modules/opencast-ingest-download-service-impl/index.html">Opencast :: ingest-download-service-impl</a></li>
    <li><a href="modules/opencast-ingest-download-service-remote/index.html">Opencast :: ingestdownloadservice-remote</a></li>
    <li><a href="modules/opencast-ingest-download-service-workflowoperation/index.html">Opencast :: ingest-download-service-workflowoperation</a></li>
    <li><a href="modules/opencast-ingest-service-api/index.html">Opencast :: ingest-service-api</a></li>
    <li><a href="modules/opencast-ingest-service-impl/index.html">Opencast :: ingest-service-impl</a></li>
    <li><a href="modules/opencast-inspection-service-api/index.html">Opencast :: inspection-service-api</a></li>
    <li><a href="modules/opencast-inspection-service-ffmpeg/index.html">Opencast :: inspection-service-ffmpeg</a></li>
    <li><a href="modules/opencast-inspection-service-remote/index.html">Opencast :: inspection-service-remote</a></li>
    <li><a href="modules/opencast-inspection-workflowoperation/index.html">Opencast :: inspection-workflowoperation</a></li>
    <li><a href="modules/opencast-jacoco-reports/index.html">Opencast :: jacoco-reports</a></li>
    <li><a href="modules/opencast-kernel/index.html">Opencast :: kernel</a></li>
    <li><a href="modules/opencast-list-providers-service/index.html">Opencast :: list-providers-service</a></li>
    <li><a href="modules/opencast-live-schedule-api/index.html">Opencast :: live-schedule-api</a></li>
    <li><a href="modules/opencast-live-schedule-impl/index.html">Opencast :: live-schedule-impl</a></li>
    <li><a href="modules/opencast-logging-workflowoperation/index.html">Opencast :: logging-workflowoperation</a></li>
    <li><a href="modules/opencast-lti-service-api/index.html">Opencast :: lti-service-api</a></li>
    <li><a href="modules/opencast-lti-service-impl/index.html">Opencast :: lti-service-impl</a></li>
    <li><a href="modules/opencast-lti-service-remote/index.html">Opencast :: lti-service-remote</a></li>
    <li><a href="modules/opencast-lti/index.html">Opencast :: lti</a></li>
    <li><a href="modules/opencast-mattermost-notification-workflowoperation/index.html">Opencast :: mattermost-notification-workflowoperation</a></li>
    <li><a href="modules/opencast-message-broker-api/index.html">Opencast :: message-broker-api</a></li>
    <li><a href="modules/opencast-metadata-api/index.html">Opencast :: metadata-api</a></li>
    <li><a href="modules/opencast-metadata-to-acl-workflowoperation/index.html">Opencast :: metadata-to-acl-workflowoperation</a></li>
    <li><a href="modules/opencast-metadata/index.html">Opencast :: metadata</a></li>
    <li><a href="modules/opencast-metrics-exporter/index.html">Opencast :: metrics-exporter</a></li>
    <li><a href="modules/opencast-mpeg7/index.html">Opencast :: mpeg7</a></li>
    <li><a href="modules/opencast-notification-workflowoperation/index.html">Opencast :: notification-workflowoperation</a></li>
    <li><a href="modules/opencast-oaipmh-api/index.html">Opencast :: oaipmh-api</a></li>
    <li><a href="modules/opencast-oaipmh-persistence/index.html">Opencast :: oaipmh-persistence</a></li>
    <li><a href="modules/opencast-oaipmh-remote/index.html">Opencast :: oaipmh-remote</a></li>
    <li><a href="modules/opencast-oaipmh/index.html">Opencast :: oaipmh</a></li>
    <li><a href="modules/opencast-runtime-info-openapi-ui/index.html">Opencast :: runtime-info-openapi-ui</a></li>
    <li><a href="modules/opencast-playlists/index.html">Opencast :: playlists</a></li>
    <li><a href="modules/opencast-plugin-manager/index.html">Opencast :: plugin-manager</a></li>
    <li><a href="modules/opencast-presets/index.html">Opencast :: presets</a></li>
    <li><a href="modules/opencast-publication-service-api/index.html">Opencast :: publication-service-api</a></li>
    <li><a href="modules/opencast-publication-service-configurable-remote/index.html">Opencast :: publication-service-configurable-remote</a></li>
    <li><a href="modules/opencast-publication-service-configurable/index.html">Opencast :: publication-service-configurable</a></li>
    <li><a href="modules/opencast-publication-service-oaipmh-remote/index.html">Opencast :: publication-service-oaipmh-remote</a></li>
    <li><a href="modules/opencast-publication-service-oaipmh/index.html">Opencast :: publication-service-oaipmh</a></li>
    <li><a href="modules/opencast-publication-service-youtube-remote/index.html">Opencast :: publication-service-youtube-remote</a></li>
    <li><a href="modules/opencast-publication-service-youtube-v3/index.html">Opencast :: publication-service-youtube-v3</a></li>
    <li><a href="modules/opencast-redirect/index.html">Opencast :: redirect</a></li>
    <li><a href="modules/opencast-rename-files-workflowoperation/index.html">Opencast :: rename-files-workflowoperation</a></li>
    <li><a href="modules/opencast-rest-test-environment/index.html">Opencast :: rest-test-environment</a></li>
    <li><a href="modules/opencast-runtime-info-ui/index.html">Opencast :: runtime-info-ui</a></li>
    <li><a href="modules/opencast-runtime-info/index.html">Opencast :: runtime-info</a></li>
    <li><a href="modules/opencast-scheduler-api/index.html">Opencast :: scheduler-api</a></li>
    <li><a href="modules/opencast-scheduler-impl/index.html">Opencast :: scheduler-impl</a></li>
    <li><a href="modules/opencast-scheduler-remote/index.html">Opencast :: scheduler-remote</a></li>
    <li><a href="modules/opencast-schema/index.html">Opencast :: schema</a></li>
    <li><a href="modules/opencast-search-service-api/index.html">Opencast :: search-service-api</a></li>
    <li><a href="modules/opencast-search-service-impl/index.html">Opencast :: search-service-impl</a></li>
    <li><a href="modules/opencast-security-aai/index.html">Opencast :: security-aai</a></li>
    <li><a href="modules/opencast-security-cas-client-wrapper/index.html">Opencast :: security-cas-client-wrapper</a></li>
    <li><a href="modules/opencast-security-cas/index.html">Opencast :: security-cas</a></li>
    <li><a href="modules/opencast-security-jwt/index.html">Opencast :: security-jwt</a></li>
    <li><a href="modules/opencast-security-ldap/index.html">Opencast :: security-ldap</a></li>
    <li><a href="modules/opencast-security-lti/index.html">Opencast :: security-lti</a></li>
    <li><a href="modules/opencast-security-shibboleth/index.html">Opencast :: security-shibboleth</a></li>
    <li><a href="modules/opencast-series-service-api/index.html">Opencast :: series-service-api</a></li>
    <li><a href="modules/opencast-series-service-impl/index.html">Opencast :: series-service-impl</a></li>
    <li><a href="modules/opencast-series-service-remote/index.html">Opencast :: series-service-remote</a></li>
    <li><a href="modules/opencast-serviceregistry/index.html">Opencast :: serviceregistry</a></li>
    <li><a href="modules/opencast-shared-filesystem-utils/index.html">Opencast :: shared-filesystem-utils</a></li>
    <li><a href="modules/opencast-silencedetection-api/index.html">Opencast :: silencedetection-api</a></li>
    <li><a href="modules/opencast-silencedetection-impl/index.html">Opencast :: silencedetection-impl</a></li>
    <li><a href="modules/opencast-silencedetection-remote/index.html">Opencast :: silencedetection-remote</a></li>
    <li><a href="modules/opencast-smil-api/index.html">Opencast :: smil-api</a></li>
    <li><a href="modules/opencast-smil-impl/index.html">Opencast :: smil-impl</a></li>
    <li><a href="modules/opencast-smil-workflowoperation/index.html">Opencast :: smil-workflowoperation</a></li>
    <li><a href="modules/opencast-sox-api/index.html">Opencast :: sox-api</a></li>
    <li><a href="modules/opencast-sox-impl/index.html">Opencast :: sox-impl</a></li>
    <li><a href="modules/opencast-sox-remote/index.html">Opencast :: sox-remote</a></li>
    <li><a href="modules/opencast-sox-workflowoperation/index.html">Opencast :: sox-workflowoperation</a></li>
    <li><a href="modules/opencast-speech-to-text-api/index.html">Opencast :: speech-to-text-api</a></li>
    <li><a href="modules/opencast-speech-to-text-impl/index.html">Opencast :: speech-to-text-impl</a></li>
    <li><a href="modules/opencast-speech-to-text-remote/index.html">Opencast :: speech-to-text-remote</a></li>
    <li><a href="modules/opencast-speech-to-text-workflowoperation/index.html">Opencast :: speech-to-text-workflowoperation</a></li>
    <li><a href="modules/opencast-subtitle-parser/index.html">Opencast :: subtitle-parser</a></li>
    <li><a href="modules/opencast-static-file-service-api/index.html">Opencast :: static-file-service-api</a></li>
    <li><a href="modules/opencast-static-file-service-impl/index.html">Opencast :: static-file-service-impl</a></li>
    <li><a href="modules/opencast-static/index.html">Opencast :: static</a></li>
    <li><a href="modules/opencast-statistics-export-service-api/index.html">Opencast :: statistics-export-service-api</a></li>
    <li><a href="modules/opencast-statistics-export-service-impl/index.html">Opencast :: statistics-export-service-impl</a></li>
    <li><a href="modules/opencast-statistics-provider-influx/index.html">Opencast :: statistics-provider-influx</a></li>
    <li><a href="modules/opencast-statistics-provider-random/index.html">Opencast :: statistics-provider-random</a></li>
    <li><a href="modules/opencast-statistics-service-api/index.html">Opencast :: statistics-service-api</a></li>
    <li><a href="modules/opencast-statistics-service-impl/index.html">Opencast :: statistics-service-impl</a></li>
    <li><a href="modules/opencast-statistics-service-remote/index.html">Opencast :: statistics-service-remote</a></li>
    <li><a href="modules/opencast-statistics-writer-workflowoperation/index.html">Opencast :: statistics-writer-workflowoperation</a></li>
    <li><a href="modules/opencast-studio/index.html">Opencast :: studio</a></li>
    <li><a href="modules/opencast-studio-service/index.html">Opencast :: studio-service</a></li>
    <li><a href="modules/opencast-termination-state-api/index.html">Opencast :: termination-state-api</a></li>
    <li><a href="modules/opencast-termination-state-aws/index.html">Opencast :: termination-state-aws</a></li>
    <li><a href="modules/opencast-termination-state-impl/index.html">Opencast :: termination-state-impl</a></li>
    <li><a href="modules/opencast-textanalyzer-api/index.html">Opencast :: textanalyzer-api</a></li>
    <li><a href="modules/opencast-textanalyzer-impl/index.html">Opencast :: textanalyzer-impl</a></li>
    <li><a href="modules/opencast-textanalyzer-remote/index.html">Opencast :: textanalyzer-remote</a></li>
    <li><a href="modules/opencast-textanalyzer-workflowoperation/index.html">Opencast :: textanalyzer-workflowoperation</a></li>
    <li><a href="modules/opencast-textextractor-tesseract/index.html">Opencast :: textextractor-tesseract</a></li>
    <li><a href="modules/opencast-themes-workflowoperation/index.html">Opencast :: themes-workflowoperation</a></li>
    <li><a href="modules/opencast-themes/index.html">Opencast :: themes</a></li>
    <li><a href="modules/opencast-timelinepreviews-api/index.html">Opencast :: timelinepreviews-api</a></li>
    <li><a href="modules/opencast-timelinepreviews-ffmpeg/index.html">Opencast :: timelinepreviews-ffmpeg</a></li>
    <li><a href="modules/opencast-timelinepreviews-remote/index.html">Opencast :: timelinepreviews-remote</a></li>
    <li><a href="modules/opencast-timelinepreviews-workflowoperation/index.html">Opencast :: timelinepreviews-workflowoperation</a></li>
    <li><a href="modules/opencast-tobira/index.html">Opencast :: tobira</a></li>
    <li><a href="modules/opencast-transcription-service-amberscript/index.html">Opencast :: transcription-service-amberscript</a></li>
    <li><a href="modules/opencast-transcription-service-api/index.html">Opencast :: transcription-service-api</a></li>
    <li><a href="modules/opencast-transcription-service-google-speech-impl/index.html">Opencast :: transcription-service-google-speech-impl</a></li>
    <li><a href="modules/opencast-transcription-service-ibm-watson-impl/index.html">Opencast :: transcription-service-ibm-watson-impl</a></li>
    <li><a href="modules/opencast-transcription-service-microsoft-azure/index.html">Opencast :: transcription-service-microsoft-azure</a></li>
    <li><a href="modules/opencast-transcription-service-persistence/index.html">Opencast :: transcription-service-persistence</a></li>
    <li><a href="modules/opencast-transcription-service-workflowoperation/index.html">Opencast :: transcription-service-workflowoperation</a></li>
    <li><a href="modules/opencast-urlsigning-common/index.html">Opencast :: urlsigning-common</a></li>
    <li><a href="modules/opencast-urlsigning-service-api/index.html">Opencast :: urlsigning-service-api</a></li>
    <li><a href="modules/opencast-urlsigning-service-impl/index.html">Opencast :: urlsigning-service-impl</a></li>
    <li><a href="modules/opencast-urlsigning-verifier-service-api/index.html">Opencast :: urlsigning-verifier-service-api</a></li>
    <li><a href="modules/opencast-urlsigning-verifier-service-impl/index.html">Opencast :: urlsigning-verifier-service-impl</a></li>
    <li><a href="modules/opencast-user-interface-configuration/index.html">Opencast :: user-interface-configuration</a></li>
    <li><a href="modules/opencast-userdirectory-brightspace/index.html">Opencast :: userdirectory-brightspace</a></li>
    <li><a href="modules/opencast-userdirectory-canvas/index.html">Opencast :: userdirectory-canvas</a></li>
    <li><a href="modules/opencast-userdirectory-ldap/index.html">Opencast :: userdirectory-ldap</a></li>
    <li><a href="modules/opencast-userdirectory-moodle/index.html">Opencast :: userdirectory-moodle</a></li>
    <li><a href="modules/opencast-userdirectory-sakai/index.html">Opencast :: userdirectory-sakai</a></li>
    <li><a href="modules/opencast-userdirectory-studip/index.html">Opencast :: userdirectory-studip</a></li>
    <li><a href="modules/opencast-userdirectory/index.html">Opencast :: userdirectory</a></li>
    <li><a href="modules/opencast-usertracking-api/index.html">Opencast :: usertracking-api</a></li>
    <li><a href="modules/opencast-usertracking-impl/index.html">Opencast :: usertracking-impl</a></li>
    <li><a href="modules/opencast-videoeditor-api/index.html">Opencast :: videoeditor-api</a></li>
    <li><a href="modules/opencast-videoeditor-ffmpeg-impl/index.html">Opencast :: videoeditor-ffmpeg-impl</a></li>
    <li><a href="modules/opencast-videoeditor-remote/index.html">Opencast :: videoeditor-remote</a></li>
    <li><a href="modules/opencast-videoeditor-workflowoperation/index.html">Opencast :: videoeditor-workflowoperation</a></li>
    <li><a href="modules/opencast-videogrid-remote/index.html">Opencast :: videogrid-remote</a></li>
    <li><a href="modules/opencast-videogrid-service-api/index.html">Opencast :: videogrid-service-api</a></li>
    <li><a href="modules/opencast-videogrid-service-impl/index.html">Opencast :: videogrid-service-impl</a></li>
    <li><a href="modules/opencast-videogrid-workflowoperation/index.html">Opencast :: videogrid-workflowoperation</a></li>
    <li><a href="modules/opencast-videosegmenter-api/index.html">Opencast :: videosegmenter-api</a></li>
    <li><a href="modules/opencast-videosegmenter-ffmpeg/index.html">Opencast :: videosegmenter-ffmpeg</a></li>
    <li><a href="modules/opencast-videosegmenter-remote/index.html">Opencast :: videosegmenter-remote</a></li>
    <li><a href="modules/opencast-videosegmenter-workflowoperation/index.html">Opencast :: videosegmenter-workflowoperation</a></li>
    <li><a href="modules/opencast-waveform-api/index.html">Opencast :: waveform-api</a></li>
    <li><a href="modules/opencast-waveform-ffmpeg/index.html">Opencast :: waveform-ffmpeg</a></li>
    <li><a href="modules/opencast-waveform-remote/index.html">Opencast :: waveform-remote</a></li>
    <li><a href="modules/opencast-waveform-workflowoperation/index.html">Opencast :: waveform-workflowoperation</a></li>
    <li><a href="modules/opencast-workflow-condition-parser/index.html">Opencast :: workflow-condition-parser</a></li>
    <li><a href="modules/opencast-workflow-service-api/index.html">Opencast :: workflow-service-api</a></li>
    <li><a href="modules/opencast-workflow-service-impl/index.html">Opencast :: workflow-service-impl</a></li>
    <li><a href="modules/opencast-workflow-service-remote/index.html">Opencast :: workflow-service-remote</a></li>
    <li><a href="modules/opencast-workflow-workflowoperation/index.html">Opencast :: workflow-workflowoperation</a></li>
    <li><a href="modules/opencast-working-file-repository-service-api/index.html">Opencast :: working-file-repository-service-api</a></li>
    <li><a href="modules/opencast-working-file-repository-service-impl/index.html">Opencast :: working-file-repository-service-impl</a></li>
    <li><a href="modules/opencast-workspace-api/index.html">Opencast :: workspace-api</a></li>
    <li><a href="modules/opencast-workspace-impl/index.html">Opencast :: workspace-impl</a></li>
    <li><a href="opencast-assemblies/index.html">Assemblies</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-down"></span>Project Reports</a>
     <ul class="nav nav-list">
      <li><a href="surefire-report.html">Surefire Report</a></li>
      <li><a href="apidocs/index.html">Javadoc</a></li>
      <li><a href="jacoco-aggregate/index.html">JaCoCo Aggregate</a></li>
      <li><a href="xref/index.html">Source Xref</a></li>
      <li><a href="xref-test/index.html">Test Source Xref</a></li>
      <li class="active"><a>CPD</a></li>
      <li><a href="pmd.html">PMD</a></li>
     </ul></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="CPD_Results"></a>
<h1>CPD Results</h1>
<p>The following document contains the results of PMD's  <a class="externalLink" href="https://pmd.github.io/latest/pmd_userdocs_cpd.html">CPD</a> 7.14.0.</p><section><a id="Duplications"></a>
<h2>Duplications</h2>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/ingest/endpoint/IngestRestService.java</td>
<td>Opencast :: ingest-service-impl</td>
<td><a href="./xref/org/opencastproject/ingest/endpoint/IngestRestService.html#L623">623</a></td></tr>
<tr class="a">
<td>org/opencastproject/ingest/endpoint/IngestRestService.java</td>
<td>Opencast :: ingest-service-impl</td>
<td><a href="./xref/org/opencastproject/ingest/endpoint/IngestRestService.html#L703">703</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>+ &quot;&lt;/pre&gt;&lt;/p&gt;&quot;,
      restParameters = {
          @RestParameter(description = &quot;The kind of media track. This has to be specified prior to each media track&quot;, isRequired = true, name = &quot;flavor&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;abstract&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;accessRights&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;available&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;contributor&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;coverage&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;created&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;creator&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;date&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;description&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;extent&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;format&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;identifier&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;isPartOf&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;isReferencedBy&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;isReplacedBy&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;language&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;license&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;publisher&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;relation&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;replaces&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;rights&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;rightsHolder&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;source&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;spatial&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;subject&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;temporal&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;title&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode metadata value&quot;, isRequired = false, name = &quot;type&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;URL of episode DublinCore Catalog&quot;, isRequired = false, name = &quot;episodeDCCatalogUri&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Episode DublinCore Catalog&quot;, isRequired = false, name = &quot;episodeDCCatalog&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;URL of series DublinCore Catalog&quot;, isRequired = false, name = &quot;seriesDCCatalogUri&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Series DublinCore Catalog&quot;, isRequired = false, name = &quot;seriesDCCatalog&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Access control list in XACML or JSON form&quot;, isRequired = false, name = &quot;acl&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;Tag of the next media file&quot;, isRequired = false, name = &quot;tag&quot;, type = RestParameter.Type.STRING),
          @RestParameter(description = &quot;URL of a media track file&quot;, isRequired = false, name = &quot;mediaUri&quot;, type = RestParameter.Type.STRING) },
      bodyParameter = @RestParameter(description = &quot;The media track file&quot;, isRequired = true, name = &quot;BODY&quot;, type = RestParameter.Type.FILE),
      responses = {
          @RestResponse(description = &quot;Ingest successful. Returns workflow instance as xml&quot;, responseCode = HttpServletResponse.SC_OK),</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/schema/OcDublinCoreBuilder.java</td>
<td>Opencast :: schema</td>
<td><a href="./xref/org/opencastproject/schema/OcDublinCoreBuilder.html#L754">754</a></td></tr>
<tr class="a">
<td>org/opencastproject/schema/test/TestUtil.java</td>
<td>Opencast :: schema</td>
<td><a href="./xref/org/opencastproject/schema/test/TestUtil.html#L144">144</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  @Override public Option&lt;String&gt; getCreator() {
    return creator;
  }

  @Override public Option&lt;Date&gt; getDate() {
    return date;
  }

  @Override public Option&lt;Date&gt; getDateAccepted() {
    return dateAccepted;
  }

  @Override public Option&lt;Date&gt; getDateCopyrighted() {
    return dateCopyrighted;
  }

  @Override public Option&lt;Date&gt; getDateSubmitted() {
    return dateSubmitted;
  }

  @Override public Option&lt;String&gt; getDescription() {
    return description;
  }

  @Override public Option&lt;String&gt; getEducationLevel() {
    return educationLevel;
  }

  @Override public Option&lt;Long&gt; getExtent() {
    return extent;
  }

  @Override public Option&lt;String&gt; getFormat() {
    return format;
  }

  @Override public Option&lt;String&gt; getHasFormat() {
    return hasFormat;
  }

  @Override public Option&lt;String&gt; getHasPart() {
    return hasPart;
  }

  @Override public Option&lt;String&gt; getHasVersion() {
    return hasVersion;
  }

  @Override public Option&lt;String&gt; getIdentifier() {
    return identifier;
  }

  @Override public Option&lt;String&gt; getInstructionalMethod() {
    return instructionalMethod;
  }

  @Override public Option&lt;String&gt; getIsFormatOf() {
    return isFormatOf;
  }

  @Override public Option&lt;String&gt; getIsPartOf() {
    return isPartOf;
  }

  @Override public Option&lt;String&gt; getIsReferencedBy() {
    return isReferencedBy;
  }

  @Override public Option&lt;String&gt; getIsReplacedBy() {
    return isReplacedBy;
  }

  @Override public Option&lt;String&gt; getIsRequiredBy() {
    return isRequiredBy;
  }

  @Override public Option&lt;String&gt; getIssued() {
    return issued;
  }

  @Override public Option&lt;String&gt; getIsVersionOf() {
    return isVersionOf;
  }

  @Override public Option&lt;String&gt; getLanguage() {
    return language;
  }

  @Override public Option&lt;String&gt; getLicense() {
    return license;
  }

  @Override public Option&lt;String&gt; getMediator() {
    return mediator;
  }

  @Override public Option&lt;String&gt; getMedium() {
    return medium;
  }

  @Override public Option&lt;String&gt; getModified() {
    return modified;
  }

  @Override public Option&lt;String&gt; getProvenance() {
    return provenance;
  }

  @Override public Option&lt;String&gt; getPublisher() {
    return publisher;
  }

  @Override public Option&lt;String&gt; getReferences() {
    return references;
  }

  @Override public Option&lt;String&gt; getRelation() {
    return relation;
  }

  @Override public Option&lt;String&gt; getReplaces() {
    return replaces;
  }

  @Override public Option&lt;String&gt; getRequires() {
    return requires;
  }

  @Override public Option&lt;String&gt; getRights() {
    return rights;
  }

  @Override public Option&lt;String&gt; getRightsHolder() {
    return rightsHolder;
  }

  @Override public Option&lt;String&gt; getSource() {
    return source;
  }

  @Override public Option&lt;String&gt; getSpatial() {
    return spatial;
  }

  @Override public Option&lt;String&gt; getSubject() {
    return subject;
  }

  @Override public Option&lt;String&gt; getTableOfContents() {
    return tableOfContents;
  }

  @Override public Option&lt;String&gt; getTemporal() {
    return temporal;
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/SeriesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/SeriesEndpoint.html#L370">370</a></td></tr>
<tr class="a">
<td>org/opencastproject/external/endpoint/SeriesEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/SeriesEndpoint.html#L566">566</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>return okJson(MetadataJson.listToJson(metadataList, true));
  }

  /**
   * Loads the metadata for the given series
   *
   * @param series
   *          the source {@link Series}
   * @return a {@link DublinCoreMetadataCollection} instance with all the series metadata
   */
  private DublinCoreMetadataCollection getSeriesMetadata(Series series) {
    DublinCoreMetadataCollection metadata = indexService.getCommonSeriesCatalogUIAdapter().getRawFields();

    MetadataField title = metadata.getOutputFields().get(DublinCore.PROPERTY_TITLE.getLocalName());
    metadata.removeField(title);
    MetadataField newTitle = new MetadataField(title);
    newTitle.setValue(series.getTitle());
    metadata.addField(newTitle);

    MetadataField subject = metadata.getOutputFields().get(DublinCore.PROPERTY_SUBJECT.getLocalName());
    metadata.removeField(subject);
    MetadataField newSubject = new MetadataField(subject);
    newSubject.setValue(series.getSubject());
    metadata.addField(newSubject);

    MetadataField description = metadata.getOutputFields().get(DublinCore.PROPERTY_DESCRIPTION.getLocalName());
    metadata.removeField(description);
    MetadataField newDescription = new MetadataField(description);
    newDescription.setValue(series.getDescription());
    metadata.addField(newDescription);

    MetadataField language = metadata.getOutputFields().get(DublinCore.PROPERTY_LANGUAGE.getLocalName());
    metadata.removeField(language);
    MetadataField newLanguage = new MetadataField(language);
    newLanguage.setValue(series.getLanguage());
    metadata.addField(newLanguage);

    MetadataField rightsHolder = metadata.getOutputFields().get(DublinCore.PROPERTY_RIGHTS_HOLDER.getLocalName());
    metadata.removeField(rightsHolder);
    MetadataField newRightsHolder = new MetadataField(rightsHolder);
    newRightsHolder.setValue(series.getRightsHolder());
    metadata.addField(newRightsHolder);

    MetadataField license = metadata.getOutputFields().get(DublinCore.PROPERTY_LICENSE.getLocalName());
    metadata.removeField(license);
    MetadataField newLicense = new MetadataField(license);
    newLicense.setValue(series.getLicense());
    metadata.addField(newLicense);

    MetadataField organizers = metadata.getOutputFields().get(DublinCore.PROPERTY_CREATOR.getLocalName());
    metadata.removeField(organizers);
    MetadataField newOrganizers = new MetadataField(organizers);
    newOrganizers.setValue(series.getOrganizers());</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/ThemesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/ThemesEndpoint.html#L327">327</a></td></tr>
<tr class="a">
<td>org/opencastproject/adminui/endpoint/ThemesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/ThemesEndpoint.html#L389">389</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@RestParameter(name = &quot;name&quot;, description = &quot;The theme name&quot;, isRequired = true, type = Type.STRING),
          @RestParameter(name = &quot;description&quot;, description = &quot;The theme description&quot;, isRequired = false, type = Type.TEXT),
          @RestParameter(name = &quot;bumperActive&quot;, description = &quot;Whether the theme bumper is active&quot;, isRequired = false, type = Type.BOOLEAN),
          @RestParameter(name = &quot;trailerActive&quot;, description = &quot;Whether the theme trailer is active&quot;, isRequired = false, type = Type.BOOLEAN),
          @RestParameter(name = &quot;titleSlideActive&quot;, description = &quot;Whether the theme title slide is active&quot;, isRequired = false, type = Type.BOOLEAN),
          @RestParameter(name = &quot;licenseSlideActive&quot;, description = &quot;Whether the theme license slide is active&quot;, isRequired = false, type = Type.BOOLEAN),
          @RestParameter(name = &quot;watermarkActive&quot;, description = &quot;Whether the theme watermark is active&quot;, isRequired = false, type = Type.BOOLEAN),
          @RestParameter(name = &quot;bumperFile&quot;, description = &quot;The theme bumper file&quot;, isRequired = false, type = Type.STRING),
          @RestParameter(name = &quot;trailerFile&quot;, description = &quot;The theme trailer file&quot;, isRequired = false, type = Type.STRING),
          @RestParameter(name = &quot;watermarkFile&quot;, description = &quot;The theme watermark file&quot;, isRequired = false, type = Type.STRING),
          @RestParameter(name = &quot;titleSlideBackground&quot;, description = &quot;The theme title slide background file&quot;, isRequired = false, type = Type.STRING),
          @RestParameter(name = &quot;licenseSlideBackground&quot;, description = &quot;The theme license slide background file&quot;, isRequired = false, type = Type.STRING),
          @RestParameter(name = &quot;titleSlideMetadata&quot;, description = &quot;The theme title slide metadata&quot;, isRequired = false, type = Type.STRING),
          @RestParameter(name = &quot;licenseSlideDescription&quot;, description = &quot;The theme license slide description&quot;, isRequired = false, type = Type.STRING),
          @RestParameter(name = &quot;watermarkPosition&quot;, description = &quot;The theme watermark position&quot;, isRequired = false, type = Type.STRING), }, responses = {
          @RestResponse(responseCode = SC_OK, description = &quot;Theme created&quot;),</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/distribution/aws/s3/remote/AwsS3DistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-aws-s3-remote</td>
<td><a href="./xref/org/opencastproject/distribution/aws/s3/remote/AwsS3DistributionServiceRemoteImpl.html#L159">159</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/download/remote/DownloadDistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-download-remote</td>
<td><a href="./xref/org/opencastproject/distribution/download/remote/DownloadDistributionServiceRemoteImpl.html#L163">163</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>return distributeSync(channelId, mediaPackage, elementIds, true);
  }

  @Override
  public List&lt;MediaPackageElement&gt; distributeSync(String channelId, MediaPackage mediapackage, Set&lt;String&gt; elementIds,
         boolean checkAvailability) throws DistributionException {
    logger.info(&quot;Distributing {} elements to {}@{}&quot;, elementIds.size(), channelId, distributionChannel);
    final HttpPost req = post(&quot;/distributesync&quot;, param(PARAM_CHANNEL_ID, channelId),
        param(PARAM_MEDIAPACKAGE, MediaPackageParser.getAsXml(mediapackage)),
        param(PARAM_ELEMENT_ID, gson.toJson(elementIds)),
        param(PARAM_CHECK_AVAILABILITY, Boolean.toString(checkAvailability)));
    for (List&lt;MediaPackageElement&gt; elements : join(runRequest(req, elementsFromHttpResponse))) {
      return elements;
    }
    throw new DistributionException(format(&quot;Unable to distribute '%s' elements of &quot;
            + &quot;mediapackage '%s' using a remote destribution service proxy&quot;,
        elementIds.size(), mediapackage.getIdentifier().toString()));
  }

  @Override
  public List&lt;MediaPackageElement&gt; retractSync(String channelId, MediaPackage mediaPackage, String elementId)
          throws DistributionException {
    Set&lt;String&gt; elementIds = new HashSet&lt;String&gt;();
    elementIds.add(elementId);
    return retractSync(channelId, mediaPackage, elementIds);
  }

  @Override
  public List&lt;MediaPackageElement&gt; retractSync(String channelId, MediaPackage mediaPackage, Set&lt;String&gt; elementIds)
          throws DistributionException {
    logger.info(&quot;Retracting {} elements from {}@{}&quot;, elementIds.size(), channelId, distributionChannel);
    final HttpPost req = post(&quot;/retractsync&quot;,
        param(PARAM_MEDIAPACKAGE, MediaPackageParser.getAsXml(mediaPackage)),
        param(PARAM_ELEMENT_ID, gson.toJson(elementIds)),
        param(PARAM_CHANNEL_ID, channelId));
    for (List&lt;MediaPackageElement&gt; elements : join(runRequest(req, elementsFromHttpResponse))) {
      return elements;
    }
    throw new DistributionException(format(&quot;Unable to retract '%s' elements of &quot;
            + &quot;mediapackage '%s' using a remote destribution service proxy&quot;,
        elementIds.size(), mediaPackage.getIdentifier().toString()));
  }

  @Override</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/security/aai/DynamicLoginHandler.java</td>
<td>Opencast :: security-aai</td>
<td><a href="./xref/org/opencastproject/security/aai/DynamicLoginHandler.html#L263">263</a></td></tr>
<tr class="a">
<td>org/opencastproject/security/jwt/JWTRoleProvider.java</td>
<td>Opencast :: security-jwt</td>
<td><a href="./xref/org/opencastproject/security/jwt/JWTRoleProvider.html#L67">67</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>ArrayList&lt;Role&gt; roles = new ArrayList&lt;Role&gt;();
    User user = userReferenceProvider.loadUser(userName);
    if (user != null) {
      roles.addAll(user.getRoles());
    }
    return roles;
  }

  /**
   * @see org.opencastproject.security.api.RoleProvider#getOrganization()
   */
  @Override
  public String getOrganization() {
    return UserProvider.ALL_ORGANIZATIONS;
  }

  /**
   * @see org.opencastproject.security.api.RoleProvider#findRoles(String, Role.Target, int, int)
   */
  @Override
  public Iterator&lt;Role&gt; findRoles(String query, Role.Target target, int offset, int limit) {
    if (query == null) {
      throw new IllegalArgumentException(&quot;Query must be set&quot;);
    }
    HashSet&lt;Role&gt; foundRoles = new HashSet&lt;Role&gt;();
    for (Iterator&lt;Role&gt; it = getRoles(); it.hasNext();) {
      Role role = it.next();
      if (like(role.getName(), query) || like(role.getDescription(), query)) {
        foundRoles.add(role);
      }
    }
    return offsetLimitCollection(offset, limit, foundRoles).iterator();

  }

  private &lt;T&gt; HashSet&lt;T&gt; offsetLimitCollection(int offset, int limit, HashSet&lt;T&gt; entries) {
    HashSet&lt;T&gt; result = new HashSet&lt;T&gt;();
    int i = 0;
    for (T entry : entries) {
      if (limit != 0 &amp;&amp; result.size() &gt;= limit) {
        break;
      }
      if (i &gt;= offset) {
        result.add(entry);
      }
      i++;
    }
    return result;
  }

  private boolean like(String string, final String query) {
    if (string == null) {
      return false;
    }
    String regex = query.replace(&quot;_&quot;, &quot;.&quot;).replace(&quot;%&quot;, &quot;.*?&quot;);
    Pattern p = Pattern.compile(regex, Pattern.CASE_INSENSITIVE | Pattern.DOTALL);
    return p.matcher(string).matches();
  }

  @Override
  public void afterPropertiesSet() throws Exception {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/SeriesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/SeriesEndpoint.html#L941">941</a></td></tr>
<tr class="a">
<td>org/opencastproject/series/endpoint/SeriesRestService.java</td>
<td>Opencast :: series-service-impl</td>
<td><a href="./xref/org/opencastproject/series/endpoint/SeriesRestService.html#L1041">1041</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>throw new WebApplicationException(Status.INTERNAL_SERVER_ERROR);
  }

  @POST
  @Path(&quot;/{seriesId}/property&quot;)
  @RestQuery(name = &quot;updateSeriesProperty&quot;, description = &quot;Updates a series property&quot;, returnDescription = &quot;No content.&quot;, restParameters = {
          @RestParameter(name = &quot;name&quot;, isRequired = true, description = &quot;The property's name&quot;, type = TEXT),
          @RestParameter(name = &quot;value&quot;, isRequired = true, description = &quot;The property's value&quot;, type = TEXT) }, pathParameters = { @RestParameter(name = &quot;seriesId&quot;, isRequired = true, description = &quot;The series identifier&quot;, type = STRING) }, responses = {
          @RestResponse(responseCode = SC_NOT_FOUND, description = &quot;No series with this identifier was found.&quot;),
          @RestResponse(responseCode = SC_NO_CONTENT, description = &quot;The access control list has been updated.&quot;),
          @RestResponse(responseCode = SC_UNAUTHORIZED, description = &quot;If the current user is not authorized to perform this action&quot;),
          @RestResponse(responseCode = SC_BAD_REQUEST, description = &quot;The required path or form params were missing in the request.&quot;) })
  public Response updateSeriesProperty(@PathParam(&quot;seriesId&quot;) String seriesId, @FormParam(&quot;name&quot;) String name,
          @FormParam(&quot;value&quot;) String value) throws UnauthorizedException {
    if (StringUtils.isBlank(seriesId)) {
      logger.warn(&quot;Series id parameter is blank '{}'.&quot;, seriesId);
      return Response.status(BAD_REQUEST).build();
    }
    if (StringUtils.isBlank(name)) {
      logger.warn(&quot;Name parameter is blank '{}'.&quot;, name);
      return Response.status(BAD_REQUEST).build();
    }
    if (StringUtils.isBlank(value)) {
      logger.warn(&quot;Series id parameter is blank '{}'.&quot;, value);
      return Response.status(BAD_REQUEST).build();
    }
    try {
      seriesService.updateSeriesProperty(seriesId, name, value);
      return Response.status(NO_CONTENT).build();
    } catch (NotFoundException e) {
      return Response.status(NOT_FOUND).build();
    } catch (SeriesException e) {
      logger.warn(&quot;Could not update series property for series {} property {}:{}&quot;, seriesId, name, value, e);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/external/endpoint/EventsEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/EventsEndpoint.html#L891">891</a></td></tr>
<tr class="a">
<td>org/opencastproject/external/endpoint/EventsEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/EventsEndpoint.html#L970">970</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>if (optSort.isSome()) {
          ArrayList&lt;SortCriterion&gt; sortCriteria = RestUtils.parseSortQueryParameter(optSort.get());
          for (SortCriterion criterion : sortCriteria) {

            switch (criterion.getFieldName()) {
              case EventIndexSchema.TITLE:
                query.sortByTitle(criterion.getOrder());
                break;
              case EventIndexSchema.PRESENTER:
                query.sortByPresenter(criterion.getOrder());
                break;
              case EventIndexSchema.TECHNICAL_START:
              case &quot;technical_date&quot;:
                query.sortByTechnicalStartDate(criterion.getOrder());
                break;
              case EventIndexSchema.TECHNICAL_END:
                query.sortByTechnicalEndDate(criterion.getOrder());
                break;
              case EventIndexSchema.START_DATE:
              case &quot;date&quot;:
                query.sortByStartDate(criterion.getOrder());
                break;
              case EventIndexSchema.END_DATE:
                query.sortByEndDate(criterion.getOrder());
                break;
              case EventIndexSchema.WORKFLOW_STATE:
                query.sortByWorkflowState(criterion.getOrder());
                break;
              case EventIndexSchema.SERIES_NAME:
                query.sortBySeriesName(criterion.getOrder());
                break;
              case EventIndexSchema.LOCATION:
                query.sortByLocation(criterion.getOrder());
                break;
              // For compatibility, we mimic to support the old review_status and scheduling_status sort criteria (MH-13407)
              case &quot;review_status&quot;:
              case &quot;scheduling_status&quot;:
                break;
              default:
                return RestUtil.R.badRequest(String.format(&quot;Unknown sort criterion in request: %s&quot;, criterion.getFieldName()));
            }
          }
        }

        // TODO: Add the comment resolution filter to the query
        if (StringUtils.isNotBlank(resolutionFilter)) {
          try {
            CommentResolution.valueOf(resolutionFilter);
          } catch (Exception e) {
            logger.debug(&quot;Unable to parse comment resolution filter {}&quot;, resolutionFilter);
            return Response.status(Status.BAD_REQUEST).build();
          }
        }

        if (optLimit.isSome())
          query.withLimit(optLimit.get());
        if (optOffset.isSome())
          query.withOffset(offset);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/ThemesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/ThemesEndpoint.html#L574">574</a></td></tr>
<tr class="a">
<td>org/opencastproject/adminui/endpoint/ThemesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/ThemesEndpoint.html#L622">622</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>fields.add(f(&quot;creator&quot;, v(theme.getCreator())));
    fields.add(f(&quot;description&quot;, v(theme.getDescription(), Jsons.BLANK)));
    fields.add(f(&quot;bumperActive&quot;, v(theme.isBumperActive())));
    fields.add(f(&quot;bumperFile&quot;, v(theme.getBumperFile(), Jsons.BLANK)));
    fields.add(f(&quot;trailerActive&quot;, v(theme.isTrailerActive())));
    fields.add(f(&quot;trailerFile&quot;, v(theme.getTrailerFile(), Jsons.BLANK)));
    fields.add(f(&quot;titleSlideActive&quot;, v(theme.isTitleSlideActive())));
    fields.add(f(&quot;titleSlideMetadata&quot;, v(theme.getTitleSlideMetadata(), Jsons.BLANK)));
    fields.add(f(&quot;titleSlideBackground&quot;, v(theme.getTitleSlideBackground(), Jsons.BLANK)));
    fields.add(f(&quot;licenseSlideActive&quot;, v(theme.isLicenseSlideActive())));
    fields.add(f(&quot;licenseSlideDescription&quot;, v(theme.getLicenseSlideDescription(), Jsons.BLANK)));
    fields.add(f(&quot;licenseSlideBackground&quot;, v(theme.getLicenseSlideBackground(), Jsons.BLANK)));
    fields.add(f(&quot;watermarkActive&quot;, v(theme.isWatermarkActive())));
    fields.add(f(&quot;watermarkFile&quot;, v(theme.getWatermarkFile(), Jsons.BLANK)));
    fields.add(f(&quot;watermarkPosition&quot;, v(theme.getWatermarkPosition(), Jsons.BLANK)));</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/googlespeech/GoogleSpeechTranscriptionService.java</td>
<td>Opencast :: transcription-service-google-speech-impl</td>
<td><a href="./xref/org/opencastproject/transcription/googlespeech/GoogleSpeechTranscriptionService.html#L967">967</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/ibmwatson/IBMWatsonTranscriptionService.java</td>
<td>Opencast :: transcription-service-ibm-watson-impl</td>
<td><a href="./xref/org/opencastproject/transcription/ibmwatson/IBMWatsonTranscriptionService.html#L863">863</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  @Reference
  public void setServiceRegistry(ServiceRegistry serviceRegistry) {
    this.serviceRegistry = serviceRegistry;
  }

  @Reference
  public void setSecurityService(SecurityService securityService) {
    this.securityService = securityService;
  }

  @Reference
  public void setUserDirectoryService(UserDirectoryService userDirectoryService) {
    this.userDirectoryService = userDirectoryService;
  }

  @Reference
  public void setOrganizationDirectoryService(OrganizationDirectoryService organizationDirectoryService) {
    this.organizationDirectoryService = organizationDirectoryService;
  }

  @Reference
  public void setSmtpService(SmtpService service) {
    this.smtpService = service;
  }

  @Reference
  public void setWorkspace(Workspace ws) {
    this.workspace = ws;
  }

  @Reference
  public void setWorkingFileRepository(WorkingFileRepository wfr) {
    this.wfr = wfr;
  }

  @Reference
  public void setDatabase(TranscriptionDatabase service) {
    this.database = service;
  }

  @Reference
  public void setAssetManager(AssetManager service) {
    this.assetManager = service;
  }

  @Reference
  public void setWorkflowService(WorkflowService service) {
    this.workflowService = service;
  }

  @Override
  protected ServiceRegistry getServiceRegistry() {
    return serviceRegistry;
  }

  @Override
  protected SecurityService getSecurityService() {
    return securityService;
  }

  @Override
  protected UserDirectoryService getUserDirectoryService() {
    return userDirectoryService;
  }

  @Override
  protected OrganizationDirectoryService getOrganizationDirectoryService() {
    return organizationDirectoryService;
  }

  // Only used by unit tests!
  void setWfUtil(Workflows wfUtil) {
    this.wfUtil = wfUtil;
  }

  class WorkflowDispatcher implements Runnable {

    /**
     * {@inheritDoc}
     *
     * @see java.lang.Thread#run()
     */
    @Override
    public void run() {
      logger.debug(&quot;WorkflowDispatcher waking up...&quot;);

      try {
        // Find jobs that are in progress and jobs that had transcription complete

        long providerId;
        TranscriptionProviderControl providerInfo = database.findIdByProvider(PROVIDER);
        if (providerInfo != null) {
          providerId = providerInfo.getId();
        } else {
          logger.debug(&quot;No jobs yet for provider {}&quot;, PROVIDER);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/workflow/handler/composer/CompositeWorkflowOperationHandler.java</td>
<td>Opencast :: composer-workflowoperation</td>
<td><a href="./xref/org/opencastproject/workflow/handler/composer/CompositeWorkflowOperationHandler.html#L642">642</a></td></tr>
<tr class="a">
<td>org/opencastproject/workflow/handler/composer/CompositeWorkflowOperationHandler.java</td>
<td>Opencast :: composer-workflowoperation</td>
<td><a href="./xref/org/opencastproject/workflow/handler/composer/CompositeWorkflowOperationHandler.html#L780">780</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>.&lt;LaidOutElement&lt;Track&gt;&gt; none(), lowerLaidOutElement, watermarkOption, compositeSettings.getProfile()
              .getIdentifier(), compositeSettings.getOutputBackground(), compositeSettings.getSourceAudioName());

      // Wait for the jobs to return
      if (!waitForStatus(compositeJob).isSuccess())
        throw new WorkflowOperationException(&quot;The composite job did not complete successfully&quot;);

      if (compositeJob.getPayload().length() &gt; 0) {

        Track compoundTrack = (Track) MediaPackageElementParser.getFromXml(compositeJob.getPayload());

        compoundTrack.setURI(workspace.moveTo(compoundTrack.getURI(), mediaPackage.getIdentifier().toString(),
                compoundTrack.getIdentifier(),
                &quot;composite.&quot; + FilenameUtils.getExtension(compoundTrack.getURI().toString())));

        // Adjust the target tags
        for (String tag : compositeSettings.getTargetTags()) {
          logger.trace(&quot;Tagging compound track with '{}'&quot;, tag);
          compoundTrack.addTag(tag);
        }

        // Adjust the target flavor.
        compoundTrack.setFlavor(compositeSettings.getTargetFlavor());
        logger.debug(&quot;Compound track has flavor '{}'&quot;, compoundTrack.getFlavor());

        // store new tracks to mediaPackage
        mediaPackage.add(compoundTrack);
        WorkflowOperationResult result = createResult(mediaPackage, Action.CONTINUE, compositeJob.getQueueTime());
        logger.debug(&quot;Composite operation completed&quot;);
        return result;
      } else {
        logger.info(&quot;Composite operation unsuccessful, no payload returned: {}&quot;, compositeJob);
        return createResult(mediaPackage, Action.SKIP);
      }
    } finally {
      if (compositeSettings.getSourceUrlWatermark() != null)
        workspace.deleteFromCollection(
                COLLECTION,
                compositeSettings.getWatermarkIdentifier() + &quot;.&quot;
                        + FilenameUtils.getExtension(compositeSettings.getSourceUrlWatermark()));
    }
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.html#L114">114</a></td></tr>
<tr class="a">
<td>org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.html#L270">270</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>public Response getStorageClass(@PathParam(&quot;mediaPackageId&quot;) final String mediaPackageId) {
    return handleException(new Function0&lt;Response&gt;() {
      private String getMediaPackageId() {
        return StringUtils.trimToNull(mediaPackageId);
      }

      @Override public Response apply() {
        AQueryBuilder q = assetManager.createQuery();
        final ASelectQuery idQuery = q.select(q.snapshot())
            .where(
                q.organizationId(securityService.getOrganization().getId())
                    .and(q.mediaPackageId(getMediaPackageId()))
                    .and(q.version().isLatest()));
        final AResult result = idQuery.run();
        if (result.getSize() &gt; 1) {
          return serverError();
        }
        if (result.getSize() == 0) {
          return notFound();
        }
        final ARecord item = result.getRecords().stream().findFirst().get();

        StringBuilder info = new StringBuilder();
        for (MediaPackageElement e : assetManager.getMediaPackage(item.getMediaPackageId()).get().elements()) {
          if (e.getElementType() == MediaPackageElement.Type.Publication) {
            continue;
          }

          StoragePath storagePath = new StoragePath(securityService.getOrganization().getId(),
              getMediaPackageId(),
              item.getSnapshot().get().getVersion(),
              e.getIdentifier());
          if (awsS3AssetStore.contains(storagePath)) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/SeriesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/SeriesEndpoint.html#L910">910</a></td></tr>
<tr class="a">
<td>org/opencastproject/series/endpoint/SeriesRestService.java</td>
<td>Opencast :: series-service-impl</td>
<td><a href="./xref/org/opencastproject/series/endpoint/SeriesRestService.html#L986">986</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>throw new WebApplicationException(Status.INTERNAL_SERVER_ERROR);
  }

  @GET
  @Produces(MediaType.APPLICATION_JSON)
  @Path(&quot;{seriesId}/property/{propertyName}.json&quot;)
  @RestQuery(name = &quot;getSeriesProperty&quot;, description = &quot;Returns a series property value&quot;, returnDescription = &quot;Returns the series property value&quot;, pathParameters = {
          @RestParameter(name = &quot;seriesId&quot;, description = &quot;ID of series&quot;, isRequired = true, type = Type.STRING),
          @RestParameter(name = &quot;propertyName&quot;, description = &quot;Name of series property&quot;, isRequired = true, type = Type.STRING) }, responses = {
          @RestResponse(responseCode = SC_OK, description = &quot;The access control list.&quot;),
          @RestResponse(responseCode = SC_UNAUTHORIZED, description = &quot;If the current user is not authorized to perform this action&quot;) })
  public Response getSeriesProperty(@PathParam(&quot;seriesId&quot;) String seriesId,
          @PathParam(&quot;propertyName&quot;) String propertyName) throws UnauthorizedException, NotFoundException {
    if (StringUtils.isBlank(seriesId)) {
      logger.warn(&quot;Series id parameter is blank '{}'.&quot;, seriesId);
      return Response.status(BAD_REQUEST).build();
    }
    if (StringUtils.isBlank(propertyName)) {
      logger.warn(&quot;Series property name parameter is blank '{}'.&quot;, propertyName);
      return Response.status(BAD_REQUEST).build();
    }
    try {
      String propertyValue = seriesService.getSeriesProperty(seriesId, propertyName);
      return Response.ok(propertyValue).build();
    } catch (UnauthorizedException e) {
      throw e;
    } catch (NotFoundException e) {
      throw e;
    } catch (Exception e) {
      logger.warn(&quot;Could not perform search query&quot;, e);
    }
    throw new WebApplicationException(Status.INTERNAL_SERVER_ERROR);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.html#L117">117</a></td></tr>
<tr class="a">
<td>org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.html#L199">199</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>return StringUtils.trimToNull(mediaPackageId);
      }

      @Override public Response apply() {
        AQueryBuilder q = assetManager.createQuery();
        final ASelectQuery idQuery = q.select(q.snapshot())
            .where(
                q.organizationId(securityService.getOrganization().getId())
                    .and(q.mediaPackageId(getMediaPackageId()))
                    .and(q.version().isLatest()));
        final AResult result = idQuery.run();
        if (result.getSize() &gt; 1) {
          return serverError();
        }
        if (result.getSize() == 0) {
          return notFound();
        }
        final ARecord item = result.getRecords().stream().findFirst().get();

        StringBuilder info = new StringBuilder();
        for (MediaPackageElement e : assetManager.getMediaPackage(item.getMediaPackageId()).get().elements()) {
          if (e.getElementType() == MediaPackageElement.Type.Publication) {
            continue;
          }

          StoragePath storagePath = new StoragePath(securityService.getOrganization().getId(),
              getMediaPackageId(),
              item.getSnapshot().get().getVersion(),
              e.getIdentifier());
          if (awsS3AssetStore.contains(storagePath)) {
            try {
              info.append(String.format(&quot;%s,%s\n&quot;, awsS3AssetStore.getAssetObjectKey(storagePath),
                                                   awsS3AssetStore.getAssetStorageClass(storagePath)));</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/security/aai/ConfigurableLoginHandler.java</td>
<td>Opencast :: security-aai</td>
<td><a href="./xref/org/opencastproject/security/aai/ConfigurableLoginHandler.html#L343">343</a></td></tr>
<tr class="a">
<td>org/opencastproject/security/aai/DynamicLoginHandler.java</td>
<td>Opencast :: security-aai</td>
<td><a href="./xref/org/opencastproject/security/aai/DynamicLoginHandler.html#L74">74</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  /**
   * Handle a new user login.
   *
   * @param id
   *          The identity of the user, ideally the Shibboleth persistent unique identifier
   * @param request
   *          The request, for accessing any other Shibboleth variables
   */
  @Override
  public void newUserLogin(String id, HttpServletRequest request) {
    String name = extractName(request);
    String email = extractEmail(request);
    Date loginDate = new Date();
    JpaOrganization organization = fromOrganization(securityService.getOrganization());

    // Compile the list of roles
    Set&lt;JpaRole&gt; roles = extractRoles(id, request);

    // Create the user reference
    JpaUserReference userReference = new JpaUserReference(id, name, email, MECH_SHIBBOLETH, loginDate, organization,
            roles);

    logger.debug(&quot;Shibboleth user '{}' logged in for the first time&quot;, id);
    userReferenceProvider.addUserReference(userReference, MECH_SHIBBOLETH);
  }

  /**
   * Handle an existing user login.
   *
   * @param id
   *          The identity of the user, ideally the Shibboleth persistent unique identifier
   * @param request
   *          The request, for accessing any other Shibboleth variables
   */
  @Override
  public void existingUserLogin(String id, HttpServletRequest request) {
    Organization organization = securityService.getOrganization();

    // Load the user reference
    JpaUserReference userReference = userReferenceProvider.findUserReference(id, organization.getId());
    if (userReference == null) {
      throw new UsernameNotFoundException(&quot;User reference '&quot; + id + &quot;' was not found&quot;);
    }

    // Update the reference
    userReference.setName(extractName(request));
    userReference.setEmail(extractEmail(request));
    userReference.setLastLogin(new Date());
    Set&lt;JpaRole&gt; roles = extractRoles(id, request);
    userReference.setRoles(roles);

    logger.debug(&quot;Shibboleth user '{}' logged in&quot;, id);
    userReferenceProvider.updateUserReference(userReference);
  }

  /**
   * Sets the security service.
   *
   * @param securityService
   *          the security service
   */
  public void setSecurityService(SecurityService securityService) {
    this.securityService = securityService;
  }

  /**
   * Sets the user reference provider.
   *
   * @param userReferenceProvider
   *          the user reference provider
   */
  public void setUserReferenceProvider(UserReferenceProvider userReferenceProvider) {
    this.userReferenceProvider = userReferenceProvider;
  }

  /**
   * Extracts the name from the request.
   *
   * @param request
   *          the request
   * @return the name
   */
  private String extractName(HttpServletRequest request) {
    String givenName = StringUtils.isBlank(request.getHeader(headerGivenName)) ? &quot;&quot;</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/index/service/impl/IndexServiceImpl.java</td>
<td>Opencast :: index-service</td>
<td><a href="./xref/org/opencastproject/index/service/impl/IndexServiceImpl.html#L582">582</a></td></tr>
<tr class="a">
<td>org/opencastproject/index/service/impl/IndexServiceImpl.java</td>
<td>Opencast :: index-service</td>
<td><a href="./xref/org/opencastproject/index/service/impl/IndexServiceImpl.html#L672">672</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>} else if (item.getFieldName().toLowerCase().matches(attachmentRegex)) {
              assetList.add(item.getFieldName());
              mp =  ingestService.addAttachment(item.openStream(), item.getName(),
                      new MediaPackageElementFlavor(item.getFieldName(), &quot;*&quot;), mp);
            } else if (item.getFieldName().toLowerCase().matches(catalogRegex)) {
              // Cannot get flavor at this point, so saving with temporary flavor
              assetList.add(item.getFieldName());
              mp =  ingestService.addCatalog(item.openStream(), item.getName(),
                      new MediaPackageElementFlavor(item.getFieldName(), &quot;*&quot;), mp);
            } else if (item.getFieldName().toLowerCase().matches(trackRegex)) {
              // Cannot get flavor at this point, so saving with temporary flavor
              assetList.add(item.getFieldName());
              mp = ingestService.addTrack(item.openStream(), item.getName(),
                      new MediaPackageElementFlavor(item.getFieldName(), &quot;*&quot;), mp);
            } else {
              logger.warn(&quot;Unknown field name found {}&quot;, item.getFieldName());
            }
          }
        }
        // MH-12085 update the flavors of any newly added assets.
        try {
          JSONArray assetMetadata = (JSONArray)((JSONObject) metadataJson.get(&quot;assets&quot;)).get(&quot;options&quot;);
          if (assetMetadata != null) {
            mp = updateMpAssetFlavor(assetList, mp, assetMetadata);
           }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/external/util/AclUtils.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/util/AclUtils.html#L65">65</a></td></tr>
<tr class="a">
<td>org/opencastproject/index/service/impl/util/EventHttpServletRequest.java</td>
<td>Opencast :: index-service</td>
<td><a href="./xref/org/opencastproject/index/service/impl/util/EventHttpServletRequest.html#L363">363</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>throws IllegalArgumentException, ParseException {
    JSONParser parser = new JSONParser();
    JSONArray aclJson = (JSONArray) parser.parse(json);
    @SuppressWarnings(&quot;unchecked&quot;)
    ListIterator&lt;Object&gt; iterator = aclJson.listIterator();
    JSONObject aceJson;
    List&lt;AccessControlEntry&gt; entries = new ArrayList&lt;AccessControlEntry&gt;();
    while (iterator.hasNext()) {
      aceJson = (JSONObject) iterator.next();
      String action = aceJson.get(ACTION_JSON_KEY) != null ? aceJson.get(ACTION_JSON_KEY).toString() : &quot;&quot;;
      String allow;
      if (assumeAllow) {
        allow = &quot;true&quot;;
      } else {
        allow = aceJson.get(ALLOW_JSON_KEY) != null ? aceJson.get(ALLOW_JSON_KEY).toString() : &quot;&quot;;
      }
      String role = aceJson.get(ROLE_JSON_KEY) != null ? aceJson.get(ROLE_JSON_KEY).toString() : &quot;&quot;;
      if (StringUtils.trimToNull(action) != null &amp;&amp; StringUtils.trimToNull(allow) != null
              &amp;&amp; StringUtils.trimToNull(role) != null) {
        AccessControlEntry ace = new AccessControlEntry(role, action, Boolean.parseBoolean(allow));
        entries.add(ace);
      } else {
        throw new IllegalArgumentException(
                String.format(
                        &quot;One of the access control elements is missing a property. The action was '%s', allow was '%s' and the role was '%s'&quot;,
                        action, allow, role));
      }
    }
    return new AccessControlList(entries);
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/index/service/resources/list/query/JobsListQuery.java</td>
<td>Opencast :: index-service</td>
<td><a href="./xref/org/opencastproject/index/service/resources/list/query/JobsListQuery.html#L71">71</a></td></tr>
<tr class="a">
<td>org/opencastproject/index/service/resources/list/query/ServersListQuery.java</td>
<td>Opencast :: index-service</td>
<td><a href="./xref/org/opencastproject/index/service/resources/list/query/ServersListQuery.html#L70">70</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>public JobsListQuery(ResourceListQuery query) {
    this();
    availableFilters.addAll(query.getAvailableFilters());

    for (ResourceListFilter filter : query.getFilters())
      addFilter(filter);

    sortBy = query.getSortBy();
    if (query.getOffset().isSome())
      setOffset(query.getOffset().get());
    if (query.getLimit().isSome())
      setLimit(query.getLimit().get());
  }

  /**
   * Add a {@link ResourceListFilter} filter to the query with the given hostname.
   *
   * @param hostname the hostname to filter for
   */
  public void withHostname(String hostname) {
    addFilter(createHostnameFilter(Option.option(hostname)));
  }

  /**
   * Add a {@link ResourceListFilter} filter to the query with the given node name.
   *
   * @param nodeName the node name to filter for
   */
  public void withNodeName(String nodeName) {
    addFilter(createNodeNameFilter(Option.option(nodeName)));
  }

  /**
   * Add a {@link ResourceListFilter} filter to the query with the given status.
   *
   * @param status the status to filter for
   */
  public void withStatus(String status) {
    addFilter(createStatusFilter(Option.option(status)));
  }

  /**
   * Add a {@link ResourceListFilter} filter to the query with the given free text.
   *
   * @param freeText the free text to filter for
   */
  public void withFreeText(String freeText) {
    addFilter(createFreeTextFilter(Option.option(freeText)));
  }

  /**
   * Returns an {@link Option} containing the hostname used to filter if set.
   * {@link Option#none()} otherwise.
   *
   * @return an {@link Option} containing the hostname or none.
   */
  public Option&lt;String&gt; getHostname() {
    return getFilterValue(FILTER_NAME_HOSTNAME);
  }

  /**
   * Returns an {@link Option} containing the node name used to filter if set.
   * {@link Option#none()} otherwise.
   *
   * @return an {@link Option} containing the node name or none.
   */
  public Option&lt;String&gt; getNodeName() {
    return getFilterValue(FILTER_NAME_NODE_NAME);
  }

  /**
   * Returns an {@link Option} containing the status used to filter if set.
   * {@link Option#none()} otherwise.
   *
   * @return an {@link Option} containing the status or none.
   */
  public Option&lt;String&gt; getStatus() {
    return getFilterValue(FILTER_NAME_STATUS);
  }

  /**
   * Returns an {@link Option} containing the free text used to filter if set.
   * {@link Option#none()} otherwise.
   *
   * @return an {@link Option} containing the free text or none.
   */
  public Option&lt;String&gt; getFreeText() {
    return getFilterValue(ResourceListFilter.FREETEXT);
  }

  /**
   * Create a new {@link ResourceListFilter} based on a hostname.
   *
   * @param value the hostname to filter on wrapped in an {@link Option} or {@link Option#none()}
   * @return a new {@link ResourceListFilter} for a hostname based query
   */
  public static &lt;String&gt; ResourceListFilter&lt;String&gt; createHostnameFilter(Option&lt;String&gt; value) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/SeriesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/SeriesEndpoint.html#L884">884</a></td></tr>
<tr class="a">
<td>org/opencastproject/series/endpoint/SeriesRestService.java</td>
<td>Opencast :: series-service-impl</td>
<td><a href="./xref/org/opencastproject/series/endpoint/SeriesRestService.html#L945">945</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@Path(&quot;{id}/properties&quot;)
  @RestQuery(name = &quot;getSeriesProperties&quot;, description = &quot;Returns the series properties&quot;, returnDescription = &quot;Returns the series properties as JSON&quot;, pathParameters = { @RestParameter(name = &quot;id&quot;, description = &quot;ID of series&quot;, isRequired = true, type = Type.STRING) }, responses = {
          @RestResponse(responseCode = SC_OK, description = &quot;The access control list.&quot;),
          @RestResponse(responseCode = SC_UNAUTHORIZED, description = &quot;If the current user is not authorized to perform this action&quot;) })
  public Response getSeriesPropertiesAsJson(@PathParam(&quot;id&quot;) String seriesId) throws UnauthorizedException,
          NotFoundException {
    if (StringUtils.isBlank(seriesId)) {
      logger.warn(&quot;Series id parameter is blank '{}'.&quot;, seriesId);
      return Response.status(BAD_REQUEST).build();
    }
    try {
      Map&lt;String, String&gt; properties = seriesService.getSeriesProperties(seriesId);
      JSONArray jsonProperties = new JSONArray();
      for (String name : properties.keySet()) {
        JSONObject property = new JSONObject();
        property.put(name, properties.get(name));
        jsonProperties.add(property);
      }
      return Response.ok(jsonProperties.toString()).build();
    } catch (UnauthorizedException e) {
      throw e;
    } catch (NotFoundException e) {
      throw e;
    } catch (Exception e) {
      logger.warn(&quot;Could not perform search query: {}&quot;, e.getMessage());
    }
    throw new WebApplicationException(Status.INTERNAL_SERVER_ERROR);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/distribution/aws/s3/remote/AwsS3DistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-aws-s3-remote</td>
<td><a href="./xref/org/opencastproject/distribution/aws/s3/remote/AwsS3DistributionServiceRemoteImpl.html#L123">123</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/download/remote/DownloadDistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-download-remote</td>
<td><a href="./xref/org/opencastproject/distribution/download/remote/DownloadDistributionServiceRemoteImpl.html#L127">127</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>param(PARAM_CHECK_AVAILABILITY, Boolean.toString(checkAvailability)));
    for (Job job : join(runRequest(req, jobFromHttpResponse))) {
      return job;
    }
    throw new DistributionException(format(&quot;Unable to distribute '%s' elements of &quot;
                    + &quot;mediapackage '%s' using a remote destribution service proxy&quot;,
            elementIds.size(), mediaPackage.getIdentifier().toString()));
  }

  @Override
  public Job retract(String channelId, MediaPackage mediaPackage, String elementId) throws DistributionException {
    Set&lt;String&gt; elementIds = new HashSet&lt;String&gt;();
    elementIds.add(elementId);
    return retract(channelId, mediaPackage, elementIds);
  }

  @Override
  public Job retract(String channelId, MediaPackage mediaPackage, Set&lt;String&gt; elementIds) throws DistributionException {
    logger.info(&quot;Retracting {} elements from {}@{}&quot;, elementIds.size(), channelId, distributionChannel);
    final HttpPost req = post(&quot;/retract&quot;,
            param(PARAM_MEDIAPACKAGE, MediaPackageParser.getAsXml(mediaPackage)),
            param(PARAM_ELEMENT_ID, gson.toJson(elementIds)),
            param(PARAM_CHANNEL_ID, channelId));
    for (Job job : join(runRequest(req, jobFromHttpResponse))) {
      return job;
    }
    throw new DistributionException(format(&quot;Unable to retract '%s' elements of &quot;
                    + &quot;mediapackage '%s' using a remote destribution service proxy&quot;,
            elementIds.size(), mediaPackage.getIdentifier().toString()));
  }

  @Override
  public List&lt;MediaPackageElement&gt;  distributeSync(String channelId, MediaPackage mediaPackage, String elementId)</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.html#L199">199</a></td></tr>
<tr class="a">
<td>org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.html#L273">273</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>return StringUtils.trimToNull(storageClass);
      }

      @Override public Response apply() {
        AQueryBuilder q = assetManager.createQuery();
        final ASelectQuery idQuery = q.select(q.snapshot())
            .where(
                q.organizationId(securityService.getOrganization().getId())
                    .and(q.mediaPackageId(getMediaPackageId()))
                    .and(q.version().isLatest()));
        final AResult result = idQuery.run();
        if (result.getSize() &gt; 1) {
          return serverError();
        }
        if (result.getSize() == 0) {
          return notFound();
        }
        final ARecord item = result.getRecords().stream().findFirst().get();

        StringBuilder info = new StringBuilder();
        for (MediaPackageElement e : assetManager.getMediaPackage(item.getMediaPackageId()).get().elements()) {
          if (e.getElementType() == MediaPackageElement.Type.Publication) {
            continue;
          }

          StoragePath storagePath = new StoragePath(securityService.getOrganization().getId(),
              getMediaPackageId(),
              item.getSnapshot().get().getVersion(),
              e.getIdentifier());
          if (awsS3AssetStore.contains(storagePath)) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/SeriesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/SeriesEndpoint.html#L975">975</a></td></tr>
<tr class="a">
<td>org/opencastproject/series/endpoint/SeriesRestService.java</td>
<td>Opencast :: series-service-impl</td>
<td><a href="./xref/org/opencastproject/series/endpoint/SeriesRestService.html#L1101">1101</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>throw new WebApplicationException(Status.INTERNAL_SERVER_ERROR);
  }

  @DELETE
  @Path(&quot;{seriesId}/property/{propertyName}&quot;)
  @RestQuery(name = &quot;deleteSeriesProperty&quot;, description = &quot;Deletes a series property&quot;, returnDescription = &quot;No Content&quot;, pathParameters = {
          @RestParameter(name = &quot;seriesId&quot;, description = &quot;ID of series&quot;, isRequired = true, type = Type.STRING),
          @RestParameter(name = &quot;propertyName&quot;, description = &quot;Name of series property&quot;, isRequired = true, type = Type.STRING) }, responses = {
          @RestResponse(responseCode = SC_NO_CONTENT, description = &quot;The series property has been deleted.&quot;),
          @RestResponse(responseCode = SC_NOT_FOUND, description = &quot;The series or property has not been found.&quot;),
          @RestResponse(responseCode = SC_UNAUTHORIZED, description = &quot;If the current user is not authorized to perform this action&quot;) })
  public Response deleteSeriesProperty(@PathParam(&quot;seriesId&quot;) String seriesId,
          @PathParam(&quot;propertyName&quot;) String propertyName) throws UnauthorizedException, NotFoundException {
    if (StringUtils.isBlank(seriesId)) {
      logger.warn(&quot;Series id parameter is blank '{}'.&quot;, seriesId);
      return Response.status(BAD_REQUEST).build();
    }
    if (StringUtils.isBlank(propertyName)) {
      logger.warn(&quot;Series property name parameter is blank '{}'.&quot;, propertyName);
      return Response.status(BAD_REQUEST).build();
    }
    try {
      seriesService.deleteSeriesProperty(seriesId, propertyName);
      return Response.status(NO_CONTENT).build();
    } catch (UnauthorizedException | NotFoundException e) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/ingest/impl/jmx/IngestStatistics.java</td>
<td>Opencast :: ingest-service-impl</td>
<td><a href="./xref/org/opencastproject/ingest/impl/jmx/IngestStatistics.html#L53">53</a></td></tr>
<tr class="a">
<td>org/opencastproject/staticfiles/jmx/UploadStatistics.java</td>
<td>Opencast :: static-file-service-impl</td>
<td><a href="./xref/org/opencastproject/staticfiles/jmx/UploadStatistics.html#L53">53</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>public int getFailedIngestOperations() {
    return failed;
  }

  /**
   * @see org.opencastproject.ingest.impl.jmx.IngestStatisticsMXBean#getTotalBytes()
   */
  @Override
  public long getTotalBytes() {
    return totalNumBytesRead;
  }

  /**
   * @see org.opencastproject.ingest.impl.jmx.IngestStatisticsMXBean#getBytesInLastMinute()
   */
  @Override
  public long getBytesInLastMinute() {
    long key = getKeyByTime(new DateTime().minusMinutes(1).getMillis());
    return key != 0 ? totalNumBytesRead - bytesCounter.getIfPresent(key) : 0;
  }

  /**
   * @see org.opencastproject.ingest.impl.jmx.IngestStatisticsMXBean#getBytesInLastFiveMinutes()
   */
  @Override
  public long getBytesInLastFiveMinutes() {
    long key = getKeyByTime(new DateTime().minusMinutes(5).getMillis());
    return key != 0 ? totalNumBytesRead - bytesCounter.getIfPresent(key) : 0;
  }

  /**
   * @see org.opencastproject.ingest.impl.jmx.IngestStatisticsMXBean#getBytesInLastFifteenMinutes()
   */
  @Override
  public long getBytesInLastFifteenMinutes() {
    long key = getKeyByTime(new DateTime().minusMinutes(15).getMillis());
    return key != 0 ? totalNumBytesRead - bytesCounter.getIfPresent(key) : 0;
  }

  private long getKeyByTime(long timeBeforeFiveMinute) {
    long key = 0L;
    List&lt;Long&gt; bytes = new ArrayList&lt;Long&gt;(bytesCounter.asMap().keySet());
    Collections.sort(bytes);
    for (Long milis : bytes) {
      if (milis &gt; timeBeforeFiveMinute) {
        key = milis;
        break;
      }
    }
    return key;
  }

  public void add(long bytes) {
    if (totalNumBytesRead == 0)</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/graphql/command/UpdateSeriesAclCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateSeriesAclCommand.html#L56">56</a></td></tr>
<tr class="a">
<td>org/opencastproject/graphql/command/UpdateSeriesCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateSeriesCommand.html#L81">81</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>final SeriesService seriesService = context.getService(SeriesService.class);

    final AccessControlListInput aclInput = GraphQLObjectMapper.newInstance()
        .convertValue(environment.getArgument(&quot;acl&quot;), AccessControlListInput.class);
    if (aclInput != null) {
      try {
        AccessControlList acl = new AccessControlList();
        for (var entry : aclInput.getEntries()) {
          for (var action : entry.getAction()) {
            acl.getEntries().add(new AccessControlEntry(entry.getRole(), action, true));
          }
        }

        if (aclInput.getManagedAclId() != null) {
          AclService aclService = context.getService(AclServiceFactory.class)
              .serviceFor(context.getService(SecurityService.class).getOrganization());
          aclService.getAcl(aclInput.getManagedAclId())
              .ifPresent(value -&gt; acl.merge(value.getAcl()));
        }
        seriesService.updateAccessControl(seriesId, acl);
      } catch (UnauthorizedException e) {
        throw new GraphQLUnauthorizedException(e.getMessage());
      } catch (NotFoundException e) {
        throw new GraphQLNotFoundException(e.getMessage());
      } catch (SeriesException e) {
        throw new GraphQLRuntimeException(e);
      }
    }

    try {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/composer/impl/EncoderEngine.java</td>
<td>Opencast :: composer-ffmpeg</td>
<td><a href="./xref/org/opencastproject/composer/impl/EncoderEngine.html#L820">820</a></td></tr>
<tr class="a">
<td>org/opencastproject/composer/impl/EncoderEngine.java</td>
<td>Opencast :: composer-ffmpeg</td>
<td><a href="./xref/org/opencastproject/composer/impl/EncoderEngine.html#L994">994</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>while (i &lt; cmdToken.size()) {
          String opt = cmdToken.get(i);
          if (opt.startsWith(&quot;-vf&quot;) || opt.startsWith(&quot;-filter:v&quot;)) { // video filters
            vfilter.set(indx, cmdToken.get(i + 1).replace(&quot;\&quot;&quot;, &quot;&quot;)); // store without quotes
            i++;
          } else if (opt.startsWith(&quot;-filter_complex&quot;) || opt.startsWith(&quot;-lavfi&quot;)) { // safer to quit now than to
            // baffle users with strange errors later
            i++;
            logger.error(&quot;Command does not support complex filters - only simple -af or -vf filters are supported&quot;);
            throw new EncoderException(
                    &quot;Cannot parse complex filters in&quot; + profile.getIdentifier() + &quot; for this operation&quot;);
          } else if (opt.startsWith(&quot;-af&quot;) || opt.startsWith(&quot;-filter:a&quot;)) { // audio filter
            afilter.set(indx, cmdToken.get(i + 1).replace(&quot;\&quot;&quot;, &quot;&quot;)); // store without quotes
            i++;
          } else if (&quot;-i&quot;.equals(opt)) {
            i++; // inputs are now mapped, remove from command
          } else if (opt.startsWith(&quot;-c:&quot;) || opt.startsWith(&quot;-codec:&quot;) || opt.contains(&quot;-vcodec&quot;)
                  || opt.contains(&quot;-acodec&quot;)) { // cannot copy codec in complex filter
            String str = cmdToken.get(i + 1);
            if (str.contains(&quot;copy&quot;)) // c
              i++;
            else if (opt.startsWith(&quot;-codec:&quot;) || opt.contains(&quot;-vcodec&quot;)) { // becomes -c:v</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/aws/s3/AwsS3AssetStore.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/AwsS3AssetStore.html#L200">200</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/aws/s3/AwsS3DistributionServiceImpl.java</td>
<td>Opencast :: distribution-service-aws-s3</td>
<td><a href="./xref/org/opencastproject/distribution/aws/s3/AwsS3DistributionServiceImpl.html#L301">301</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>.getOrElse(AWS_S3_GLACIER_RESTORE_DAYS_DEFAULT);

      // Explicit credentials are optional.
      AWSCredentialsProvider provider = null;
      Option&lt;String&gt; accessKeyIdOpt = OsgiUtil.getOptCfg(cc.getProperties(), AWS_S3_ACCESS_KEY_ID_CONFIG);
      Option&lt;String&gt; accessKeySecretOpt = OsgiUtil.getOptCfg(cc.getProperties(), AWS_S3_SECRET_ACCESS_KEY_CONFIG);

      // Keys not informed so use default credentials provider chain, which
      // will look at the environment variables, java system props, credential files, and instance
      // profile credentials
      if (accessKeyIdOpt.isNone() &amp;&amp; accessKeySecretOpt.isNone()) {
        provider = new DefaultAWSCredentialsProviderChain();
      } else {
        provider = new AWSStaticCredentialsProvider(
                new BasicAWSCredentials(accessKeyIdOpt.get(), accessKeySecretOpt.get()));
      }

      // S3 client configuration
      ClientConfiguration clientConfiguration = new ClientConfiguration();

      int maxConnections = OsgiUtil.getOptCfgAsInt(cc.getProperties(), AWS_S3_MAX_CONNECTIONS)
              .getOrElse(DEFAULT_MAX_CONNECTIONS);
      logger.debug(&quot;Max Connections: {}&quot;, maxConnections);
      clientConfiguration.setMaxConnections(maxConnections);

      int connectionTimeout = OsgiUtil.getOptCfgAsInt(cc.getProperties(), AWS_S3_CONNECTION_TIMEOUT)
              .getOrElse(DEFAULT_CONNECTION_TIMEOUT);
      logger.debug(&quot;Connection Output: {}&quot;, connectionTimeout);
      clientConfiguration.setConnectionTimeout(connectionTimeout);

      int maxRetries = OsgiUtil.getOptCfgAsInt(cc.getProperties(), AWS_S3_MAX_RETRIES)
              .getOrElse(DEFAULT_MAX_RETRIES);
      logger.debug(&quot;Max Retry: {}&quot;, maxRetries);
      clientConfiguration.setMaxErrorRetry(maxRetries);

      // Create AWS client.
      s3 = AmazonS3ClientBuilder.standard()
              .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(endpoint
              , regionName))</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/scheduler/endpoint/SchedulerRestService.java</td>
<td>Opencast :: scheduler-impl</td>
<td><a href="./xref/org/opencastproject/scheduler/endpoint/SchedulerRestService.html#L1111">1111</a></td></tr>
<tr class="a">
<td>org/opencastproject/scheduler/endpoint/SchedulerRestService.java</td>
<td>Opencast :: scheduler-impl</td>
<td><a href="./xref/org/opencastproject/scheduler/endpoint/SchedulerRestService.html#L1150">1150</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@RestQuery(name = &quot;conflictingrecordingsasjson&quot;, description = &quot;Searches for conflicting recordings based on parameters&quot;, returnDescription = &quot;Returns NO CONTENT if no recordings are in conflict within specified period or list of conflicting recordings in JSON&quot;, restParameters = {
          @RestParameter(name = &quot;agent&quot;, description = &quot;Device identifier for which conflicts will be searched&quot;, isRequired = true, type = Type.STRING),
          @RestParameter(name = &quot;start&quot;, description = &quot;Start time of conflicting period, in milliseconds&quot;, isRequired = true, type = Type.INTEGER),
          @RestParameter(name = &quot;end&quot;, description = &quot;End time of conflicting period, in milliseconds&quot;, isRequired = true, type = Type.INTEGER),
          @RestParameter(name = &quot;rrule&quot;, description = &quot;Rule for recurrent conflicting, specified as: \&quot;FREQ=WEEKLY;BYDAY=day(s);BYHOUR=hour;BYMINUTE=minute\&quot;. FREQ is required. BYDAY may include one or more (separated by commas) of the following: SU,MO,TU,WE,TH,FR,SA.&quot;, isRequired = false, type = Type.STRING),
          @RestParameter(name = &quot;duration&quot;, description = &quot;If recurrence rule is specified duration of each conflicting period, in milliseconds&quot;, isRequired = false, type = Type.INTEGER),
          @RestParameter(name = &quot;timezone&quot;, description = &quot;The timezone of the capture device&quot;, isRequired = false, type = Type.STRING) }, responses = {
                  @RestResponse(responseCode = HttpServletResponse.SC_NO_CONTENT, description = &quot;No conflicting events found&quot;),
                  @RestResponse(responseCode = HttpServletResponse.SC_OK, description = &quot;Found conflicting events, returned in body of response&quot;),
                  @RestResponse(responseCode = HttpServletResponse.SC_BAD_REQUEST, description = &quot;Missing or invalid parameters&quot;),
                  @RestResponse(responseCode = HttpServletResponse.SC_UNAUTHORIZED, description = &quot;Not authorized to make this request&quot;),
                  @RestResponse(responseCode = HttpServletResponse.SC_INTERNAL_SERVER_ERROR, description = &quot;A detailed stack track of the internal issue.&quot;)})
  public Response getConflictingEventsJson(@QueryParam(&quot;agent&quot;) String device, @QueryParam(&quot;rrule&quot;) String rrule,</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/publication/oaipmh/remote/OaiPmhPublicationServiceRemoteImpl.java</td>
<td>Opencast :: publication-service-oaipmh-remote</td>
<td><a href="./xref/org/opencastproject/publication/oaipmh/remote/OaiPmhPublicationServiceRemoteImpl.html#L118">118</a></td></tr>
<tr class="a">
<td>org/opencastproject/publication/oaipmh/remote/OaiPmhPublicationServiceRemoteImpl.java</td>
<td>Opencast :: publication-service-oaipmh-remote</td>
<td><a href="./xref/org/opencastproject/publication/oaipmh/remote/OaiPmhPublicationServiceRemoteImpl.html#L165">165</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>public Job replace(
      MediaPackage mediaPackage,
      String repository,
      Set&lt;? extends MediaPackageElement&gt; downloadElements,
      Set&lt;? extends MediaPackageElement&gt; streamingElements,
      Set&lt;MediaPackageElementFlavor&gt; retractDownloadFlavors,
      Set&lt;MediaPackageElementFlavor&gt; retractStreamingFlavors,
      Set&lt;? extends Publication&gt; publications,
      boolean checkAvailability
  ) throws PublicationException {
    HttpResponse response = null;
    try {
      final String mediapackageXml = MediaPackageParser.getAsXml(mediaPackage);
      final String downloadElementsXml = MediaPackageElementParser.getArrayAsXml(downloadElements);
      final String streamingElementsXml = MediaPackageElementParser.getArrayAsXml(streamingElements);
      final String retractDownloadFlavorsString = StringUtils.join(retractDownloadFlavors, SEPARATOR);
      final String retractStreamingFlavorsString = StringUtils.join(retractStreamingFlavors, SEPARATOR);
      final String publicationsXml = MediaPackageElementParser.getArrayAsXml(publications);
      final List&lt;BasicNameValuePair&gt; params = Arrays.asList(
              new BasicNameValuePair(&quot;mediapackage&quot;, mediapackageXml),
              new BasicNameValuePair(&quot;channel&quot;, repository),
              new BasicNameValuePair(&quot;downloadElements&quot;, downloadElementsXml),
              new BasicNameValuePair(&quot;streamingElements&quot;, streamingElementsXml),
              new BasicNameValuePair(&quot;retractDownloadFlavors&quot;, retractDownloadFlavorsString),
              new BasicNameValuePair(&quot;retractStreamingFlavors&quot;, retractStreamingFlavorsString),
              new BasicNameValuePair(&quot;publications&quot;, publicationsXml),
              new BasicNameValuePair(&quot;checkAvailability&quot;, Boolean.toString(checkAvailability)));
      final HttpPost post = new HttpPost(&quot;replace&quot;);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/publication/oaipmh/endpoint/OaiPmhPublicationRestService.java</td>
<td>Opencast :: publication-service-oaipmh</td>
<td><a href="./xref/org/opencastproject/publication/oaipmh/endpoint/OaiPmhPublicationRestService.html#L203">203</a></td></tr>
<tr class="a">
<td>org/opencastproject/publication/oaipmh/endpoint/OaiPmhPublicationRestService.java</td>
<td>Opencast :: publication-service-oaipmh</td>
<td><a href="./xref/org/opencastproject/publication/oaipmh/endpoint/OaiPmhPublicationRestService.html#L303">303</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>returnDescription = &quot;The job that can be used to track the publication&quot;,
      restParameters = {
          @RestParameter(
              name = &quot;mediapackage&quot;,
              isRequired = true,
              description = &quot;The media package&quot;,
              type = Type.TEXT
          ),
          @RestParameter(
              name = &quot;channel&quot;,
              isRequired = true,
              description = &quot;The channel name&quot;,
              type = Type.STRING
          ),
          @RestParameter(
              name = &quot;downloadElements&quot;,
              isRequired = true,
              description = &quot;The additional elements to publish to download&quot;,
              type = Type.STRING
          ),
          @RestParameter(
              name = &quot;streamingElements&quot;,
              isRequired = true,
              description = &quot;The additional elements to publish to streaming&quot;,
              type = Type.STRING
          ),
          @RestParameter(
              name = &quot;retractDownloadFlavors&quot;,
              isRequired = true,
              description = &quot;The flavors of the elements to retract from download separated by  '&quot; + SEPARATOR + &quot;'&quot;,
              type = Type.STRING
          ),
          @RestParameter(
              name = &quot;retractStreamingFlavors&quot;,
              isRequired = true,
              description = &quot;The flavors of the elements to retract from streaming separated by  '&quot; + SEPARATOR + &quot;'&quot;,
              type = Type.STRING
          ),
          @RestParameter(
              name = &quot;publications&quot;,
              isRequired = true,
              description = &quot;The publications to update&quot;,
              type = Type.STRING
          ),
          @RestParameter(
              name = &quot;checkAvailability&quot;,
              isRequired = false,
              description = &quot;Whether to check for availability&quot;,
              type = Type.BOOLEAN,
              defaultValue = &quot;true&quot;
          )
      },
      responses = {
          @RestResponse(responseCode = SC_OK, description = &quot;An XML representation of the publication job&quot;)</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/util/data/Monadics.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/util/data/Monadics.html#L230">230</a></td></tr>
<tr class="a">
<td>org/opencastproject/util/data/Monadics.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/util/data/Monadics.html#L372">372</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>final List&lt;A&gt; target = newListBuilder(as.size());
        for (A a : as) {
          if (p.apply(a)) {
            target.add(a);
          }
        }
        return mlist(target);
      }

      @Override
      public Option&lt;A&gt; find(Function&lt;? super A, Boolean&gt; p) {
        for (A a : as) {
          if (p.apply(a))
            return some(a);
        }
        return none();
      }

      @Override
      public boolean exists(Function&lt;? super A, Boolean&gt; p) {
        for (A a : as) {
          if (p.apply(a))
            return true;
        }
        return false;
      }

      @Override
      public &lt;B&gt; B foldl(B zero, Function2&lt;? super B, ? super A, ? extends B&gt; f) {
        B fold = zero;
        for (A a : as) {
          fold = f.apply(fold, a);
        }
        return fold;
      }

      @Override
      public A reducel(Function2&lt;? super A, ? super A, ? extends A&gt; f) {
        if (as.size() == 0) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/security/aai/DynamicLoginHandler.java</td>
<td>Opencast :: security-aai</td>
<td><a href="./xref/org/opencastproject/security/aai/DynamicLoginHandler.html#L290">290</a></td></tr>
<tr class="a">
<td>org/opencastproject/userdirectory/OrganizationRoleProvider.java</td>
<td>Opencast :: userdirectory</td>
<td><a href="./xref/org/opencastproject/userdirectory/OrganizationRoleProvider.html#L122">122</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>if (like(role.getName(), query) || like(role.getDescription(), query)) {
        foundRoles.add(role);
      }
    }
    return offsetLimitCollection(offset, limit, foundRoles).iterator();

  }

  private &lt;T&gt; HashSet&lt;T&gt; offsetLimitCollection(int offset, int limit, HashSet&lt;T&gt; entries) {
    HashSet&lt;T&gt; result = new HashSet&lt;T&gt;();
    int i = 0;
    for (T entry : entries) {
      if (limit != 0 &amp;&amp; result.size() &gt;= limit) {
        break;
      }
      if (i &gt;= offset) {
        result.add(entry);
      }
      i++;
    }
    return result;
  }

  private boolean like(String string, final String query) {
    if (string == null) {
      return false;
    }
    String regex = query.replace(&quot;_&quot;, &quot;.&quot;).replace(&quot;%&quot;, &quot;.*?&quot;);
    Pattern p = Pattern.compile(regex, Pattern.CASE_INSENSITIVE | Pattern.DOTALL);
    return p.matcher(string).matches();
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/security/jwt/JWTRoleProvider.java</td>
<td>Opencast :: security-jwt</td>
<td><a href="./xref/org/opencastproject/security/jwt/JWTRoleProvider.html#L88">88</a></td></tr>
<tr class="a">
<td>org/opencastproject/userdirectory/OrganizationRoleProvider.java</td>
<td>Opencast :: userdirectory</td>
<td><a href="./xref/org/opencastproject/userdirectory/OrganizationRoleProvider.html#L122">122</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>if (like(role.getName(), query) || like(role.getDescription(), query)) {
        foundRoles.add(role);
      }
    }
    return offsetLimitCollection(offset, limit, foundRoles).iterator();

  }

  /**
   * Slices a given hash set with a given offset and a given limit of entries.
   *
   * @param offset The offset.
   * @param limit The limit for the number of entries.
   * @param entries The original entries.
   * @return The sliced hash set.
   */
  private &lt;T&gt; HashSet&lt;T&gt; offsetLimitCollection(int offset, int limit, HashSet&lt;T&gt; entries) {
    HashSet&lt;T&gt; result = new HashSet&lt;T&gt;();
    int i = 0;
    for (T entry : entries) {
      if (limit != 0 &amp;&amp; result.size() &gt;= limit) {
        break;
      }
      if (i &gt;= offset) {
        result.add(entry);
      }
      i++;
    }
    return result;
  }

  /**
   * Evaluates whether a given query matches on a string.
   *
   * @param string The string.
   * @param query The query.
   * @return &lt;code&gt;true&lt;/code&gt; if the query matches, &lt;code&gt;false&lt;/code&gt; otherwise.
   */
  private boolean like(String string, final String query) {
    if (string == null) {
      return false;
    }

    String regex = query.replace(&quot;_&quot;, &quot;.&quot;).replace(&quot;%&quot;, &quot;.*?&quot;);
    Pattern p = Pattern.compile(regex, Pattern.CASE_INSENSITIVE | Pattern.DOTALL);
    return p.matcher(string).matches();
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/caption/converters/GoogleSpeechCaptionConverter.java</td>
<td>Opencast :: caption-impl</td>
<td><a href="./xref/org/opencastproject/caption/converters/GoogleSpeechCaptionConverter.html#L155">155</a></td></tr>
<tr class="a">
<td>org/opencastproject/caption/converters/IBMWatsonCaptionConverter.java</td>
<td>Opencast :: caption-impl</td>
<td><a href="./xref/org/opencastproject/caption/converters/IBMWatsonCaptionConverter.html#L152">152</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>logger.warn(&quot;Error when parsing Google transcriptions result&quot;, e);
      throw new CaptionConverterException(e);
    }

    return captionList;
  }

  @Override
  public void exportCaption(OutputStream outputStream, List&lt;Caption&gt; captions, String language) throws IOException {
    throw new UnsupportedOperationException();
  }

  @Override
  public String[] getLanguageList(InputStream inputStream) throws CaptionConverterException {
    throw new UnsupportedOperationException();
  }

  @Override
  public String getExtension() {
    return &quot;json&quot;;
  }

  @Override
  public Type getElementType() {
    return MediaPackageElement.Type.Attachment;
  }

  private Time buildTime(long ms) throws IllegalTimeFormatException {
    int h = (int) (ms / 3600000L);
    int m = (int) ((ms % 3600000L) / 60000L);
    int s = (int) ((ms % 60000L) / 1000L);
    ms = (int) (ms % 1000);

    return new TimeImpl(h, m, s, (int) ms);
  }

  private String removeEndCharacter(String str, String end) {
    if (str.endsWith(end)) {
      str = str.replace(end, &quot;&quot;);
    }
    return str;
  }

}</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/scheduler/remote/SchedulerServiceRemoteImpl.java</td>
<td>Opencast :: scheduler-remote</td>
<td><a href="./xref/org/opencastproject/scheduler/remote/SchedulerServiceRemoteImpl.html#L646">646</a></td></tr>
<tr class="a">
<td>org/opencastproject/scheduler/remote/SchedulerServiceRemoteImpl.java</td>
<td>Opencast :: scheduler-remote</td>
<td><a href="./xref/org/opencastproject/scheduler/remote/SchedulerServiceRemoteImpl.html#L682">682</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>queryStringParams.add(new BasicNameValuePair(&quot;end&quot;, Long.toString(endDate.getTime())));
    HttpGet get = new HttpGet(&quot;conflicts.xml?&quot;.concat(URLEncodedUtils.format(queryStringParams, UTF_8)));
    HttpResponse response = getResponse(get, SC_OK, SC_NO_CONTENT);
    try {
      if (response != null) {
        if (SC_OK == response.getStatusLine().getStatusCode()) {
          String mediaPackageXml = EntityUtils.toString(response.getEntity(), UTF_8);
          List&lt;MediaPackage&gt; events = MediaPackageParser.getArrayFromXml(mediaPackageXml);
          logger.info(&quot;Successfully get conflicts from the remote scheduler service&quot;);
          return events;
        } else if (SC_UNAUTHORIZED == response.getStatusLine().getStatusCode()) {
          logger.info(&quot;Unauthorized to search for conflicting events&quot;);
          throw new UnauthorizedException(&quot;Unauthorized to search for conflicting events&quot;);
        } else if (SC_NO_CONTENT == response.getStatusLine().getStatusCode()) {
          return Collections.&lt;MediaPackage&gt; emptyList();
        }
      }
    } catch (UnauthorizedException e) {
      throw e;
    } catch (Exception e) {
      throw new SchedulerException(&quot;Unable to get conflicts from remote scheduler service&quot;, e);
    } finally {
      closeConnection(response);
    }
    throw new SchedulerException(&quot;Unable to get conflicts from remote scheduler service&quot;);
  }

  @Override
  public List&lt;MediaPackage&gt; findConflictingEvents(String captureAgentId, RRule rrule, Date startDate, Date endDate,</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/scheduler/endpoint/SchedulerRestService.java</td>
<td>Opencast :: scheduler-impl</td>
<td><a href="./xref/org/opencastproject/scheduler/endpoint/SchedulerRestService.html#L745">745</a></td></tr>
<tr class="a">
<td>org/opencastproject/scheduler/endpoint/SchedulerRestService.java</td>
<td>Opencast :: scheduler-impl</td>
<td><a href="./xref/org/opencastproject/scheduler/endpoint/SchedulerRestService.html#L852">852</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>Map&lt;String, String&gt; caProperties = new HashMap&lt;&gt;();
    if (StringUtils.isNotBlank(agentParameters)) {
      try {
        Properties prop = parseProperties(agentParameters);
        caProperties.putAll((Map) prop);
      } catch (Exception e) {
        logger.info(&quot;Could not parse capture agent properties: {}&quot;, agentParameters);
        return RestUtil.R.badRequest(&quot;Could not parse capture agent properties&quot;);
      }
    }

    Map&lt;String, String&gt; wfProperties = new HashMap&lt;&gt;();
    if (StringUtils.isNotBlank(workflowProperties)) {
      try {
        Properties prop = parseProperties(workflowProperties);
        wfProperties.putAll((Map) prop);
      } catch (IOException e) {
        logger.info(&quot;Could not parse workflow configuration properties: {}&quot;, workflowProperties);
        return RestUtil.R.badRequest(&quot;Could not parse workflow configuration properties&quot;);
      }
    }
    Set&lt;String&gt; userIds = new HashSet&lt;&gt;();
    String[] ids = StringUtils.split(users, &quot;,&quot;);
    if (ids != null)
      userIds.addAll(Arrays.asList(ids));

    DateTime startDate = new DateTime(startTime).toDateTime(DateTimeZone.UTC);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/amberscript/AmberscriptTranscriptionService.java</td>
<td>Opencast :: transcription-service-amberscript</td>
<td><a href="./xref/org/opencastproject/transcription/amberscript/AmberscriptTranscriptionService.html#L940">940</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/googlespeech/GoogleSpeechTranscriptionService.java</td>
<td>Opencast :: transcription-service-google-speech-impl</td>
<td><a href="./xref/org/opencastproject/transcription/googlespeech/GoogleSpeechTranscriptionService.html#L992">992</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  @Reference
  public void setWorkspace(Workspace ws) {
    this.workspace = ws;
  }

  @Reference
  public void setWorkingFileRepository(WorkingFileRepository wfr) {
    this.wfr = wfr;
  }

  @Reference
  public void setDatabase(TranscriptionDatabase service) {
    this.database = service;
  }

  @Reference
  public void setAssetManager(AssetManager service) {
    this.assetManager = service;
  }

  @Reference
  public void setWorkflowService(WorkflowService service) {
    this.workflowService = service;
  }

  @Override
  protected ServiceRegistry getServiceRegistry() {
    return serviceRegistry;
  }

  @Override
  protected SecurityService getSecurityService() {
    return securityService;
  }

  @Override
  protected UserDirectoryService getUserDirectoryService() {
    return userDirectoryService;
  }

  @Override
  protected OrganizationDirectoryService getOrganizationDirectoryService() {
    return organizationDirectoryService;
  }

  // Only used by unit tests!
  void setWfUtil(Workflows wfUtil) {
    this.wfUtil = wfUtil;
  }

  class WorkflowDispatcher implements Runnable {

    /**
     * {@inheritDoc}
     *
     * @see java.lang.Thread#run()
     */
    @Override
    public void run() {
      logger.debug(&quot;WorkflowDispatcher waking up...&quot;);

      try {
        // Find jobs that are in progress and jobs that had transcription complete

        long providerId;
        TranscriptionProviderControl providerInfo = database.findIdByProvider(PROVIDER);
        if (providerInfo != null) {
          providerId = providerInfo.getId();
        } else {
          logger.debug(&quot;No jobs yet for provider {}.&quot;, PROVIDER);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/external/endpoint/SeriesEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/SeriesEndpoint.html#L452">452</a></td></tr>
<tr class="a">
<td>org/opencastproject/external/endpoint/SeriesEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/SeriesEndpoint.html#L467">467</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>if (requestedVersion.isSmallerThan(VERSION_1_1_0)) {
        responseContent = obj(
                f(&quot;identifier&quot;, v(s.getIdentifier())),
                f(&quot;title&quot;, v(s.getTitle())),
                f(&quot;description&quot;, v(s.getDescription(), BLANK)),
                f(&quot;creator&quot;, v(s.getCreator(), BLANK)),
                f(&quot;subjects&quot;, subjects),
                f(&quot;organization&quot;, v(s.getOrganization())),
                f(&quot;created&quot;, v(createdDate != null ? toUTC(createdDate.getTime()) : null, BLANK)),
                f(&quot;contributors&quot;, arr($(s.getContributors()).map(Functions.stringToJValue))),
                f(&quot;organizers&quot;, arr($(s.getOrganizers()).map(Functions.stringToJValue))),
                // For compatibility (MH-13405)
                f(&quot;opt_out&quot;, false),
                f(&quot;publishers&quot;, arr($(s.getPublishers()).map(Functions.stringToJValue))));</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/amberscript/AmberscriptTranscriptionService.java</td>
<td>Opencast :: transcription-service-amberscript</td>
<td><a href="./xref/org/opencastproject/transcription/amberscript/AmberscriptTranscriptionService.html#L940">940</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/ibmwatson/IBMWatsonTranscriptionService.java</td>
<td>Opencast :: transcription-service-ibm-watson-impl</td>
<td><a href="./xref/org/opencastproject/transcription/ibmwatson/IBMWatsonTranscriptionService.html#L888">888</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  @Reference
  public void setWorkspace(Workspace ws) {
    this.workspace = ws;
  }

  @Reference
  public void setWorkingFileRepository(WorkingFileRepository wfr) {
    this.wfr = wfr;
  }

  @Reference
  public void setDatabase(TranscriptionDatabase service) {
    this.database = service;
  }

  @Reference
  public void setAssetManager(AssetManager service) {
    this.assetManager = service;
  }

  @Reference
  public void setWorkflowService(WorkflowService service) {
    this.workflowService = service;
  }

  @Override
  protected ServiceRegistry getServiceRegistry() {
    return serviceRegistry;
  }

  @Override
  protected SecurityService getSecurityService() {
    return securityService;
  }

  @Override
  protected UserDirectoryService getUserDirectoryService() {
    return userDirectoryService;
  }

  @Override
  protected OrganizationDirectoryService getOrganizationDirectoryService() {
    return organizationDirectoryService;
  }

  // Only used by unit tests!
  void setWfUtil(Workflows wfUtil) {
    this.wfUtil = wfUtil;
  }

  class WorkflowDispatcher implements Runnable {

    /**
     * {@inheritDoc}
     *
     * @see java.lang.Thread#run()
     */
    @Override
    public void run() {
      logger.debug(&quot;WorkflowDispatcher waking up...&quot;);

      try {
        // Find jobs that are in progress and jobs that had transcription complete

        long providerId;
        TranscriptionProviderControl providerInfo = database.findIdByProvider(PROVIDER);
        if (providerInfo != null) {
          providerId = providerInfo.getId();
        } else {
          logger.debug(&quot;No jobs yet for provider {}.&quot;, PROVIDER);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/statistics/export/impl/StatisticsExportServiceImpl.java</td>
<td>Opencast :: statistics-export-service-impl</td>
<td><a href="./xref/org/opencastproject/statistics/export/impl/StatisticsExportServiceImpl.html#L370">370</a></td></tr>
<tr class="a">
<td>org/opencastproject/statistics/export/impl/StatisticsExportServiceImpl.java</td>
<td>Opencast :: statistics-export-service-impl</td>
<td><a href="./xref/org/opencastproject/statistics/export/impl/StatisticsExportServiceImpl.html#L439">439</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>securityService.getUser()).withSeriesId(resourceId).withLimit(limit).withOffset(offset);
    for (Map.Entry&lt;String, String&gt; filter: filters.entrySet()) {
      query = (EventSearchQuery) applyFilter(filter.getKey(), filter.getValue(), query);
    }

    final SearchResult&lt;Event&gt; result = index.getByQuery(query);
    boolean first = offset == 0;
    for (SearchResultItem&lt;Event&gt; currentEvent : result.getItems()) {
      final TimeSeries dataEvent = statisticsService.getTimeSeriesData(eventProvider,
          currentEvent.getSource().getIdentifier(), from, to, dataResolution, zoneId);
      if (fullMetadata) {
        this.printFullEventData(printer, dataEvent, dataResolution,
            currentEvent.getSource().getIdentifier(), zoneId, first);
      } else {
        printData(printer, dataEvent, dataResolution, currentEvent.getSource().getIdentifier(),
                currentEvent.getSource().getTitle(), zoneId, first);
      }
      first = false;
    }
  }

  private void printOrganization(</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/themes/persistence/ThemesServiceDatabaseImpl.java</td>
<td>Opencast :: themes</td>
<td><a href="./xref/org/opencastproject/themes/persistence/ThemesServiceDatabaseImpl.html#L384">384</a></td></tr>
<tr class="a">
<td>org/opencastproject/themes/persistence/ThemesServiceDatabaseImpl.java</td>
<td>Opencast :: themes</td>
<td><a href="./xref/org/opencastproject/themes/persistence/ThemesServiceDatabaseImpl.html#L429">429</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>? theme.getCreator().getName() : theme.getCreator().getUsername();

        indexTheme.setCreationDate(theme.getCreationDate());
        indexTheme.setDefault(theme.isDefault());
        indexTheme.setName(theme.getName());
        indexTheme.setDescription(theme.getDescription());
        indexTheme.setCreator(creator);
        indexTheme.setBumperActive(theme.isBumperActive());
        indexTheme.setBumperFile(theme.getBumperFile());
        indexTheme.setTrailerActive(theme.isTrailerActive());
        indexTheme.setTrailerFile(theme.getTrailerFile());
        indexTheme.setTitleSlideActive(theme.isTitleSlideActive());
        indexTheme.setTitleSlideBackground(theme.getTitleSlideBackground());
        indexTheme.setTitleSlideMetadata(theme.getTitleSlideMetadata());
        indexTheme.setLicenseSlideActive(theme.isLicenseSlideActive());
        indexTheme.setLicenseSlideBackground(theme.getLicenseSlideBackground());
        indexTheme.setLicenseSlideDescription(theme.getLicenseSlideDescription());
        indexTheme.setWatermarkActive(theme.isWatermarkActive());
        indexTheme.setWatermarkFile(theme.getWatermarkFile());
        indexTheme.setWatermarkPosition(theme.getWatermarkPosition());
        return Optional.of(indexTheme);
      };</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/workflowoperation/AttachTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/AttachTranscriptionOperationHandler.html#L93">93</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/workflowoperation/GoogleSpeechAttachTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/GoogleSpeechAttachTranscriptionOperationHandler.html#L106">106</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>if (jobId == null) {
      throw new WorkflowOperationException(TRANSCRIPTION_JOB_ID + &quot; missing&quot;);
    }

    // Check which tags/flavors have been configured
    ConfiguredTagsAndFlavors tagsAndFlavors = getTagsAndFlavors(
        workflowInstance, Configuration.none, Configuration.none, Configuration.many, Configuration.one);
    List&lt;String&gt; targetTagOption = tagsAndFlavors.getTargetTags();
    MediaPackageElementFlavor targetFlavor = tagsAndFlavors.getSingleTargetFlavor();
    String captionFormatOption = StringUtils.trimToNull(operation.getConfiguration(TARGET_CAPTION_FORMAT));
    String typeUnparsed = StringUtils.trimToEmpty(operation.getConfiguration(TARGET_TYPE));
    MediaPackageElement.Type type = null;
    if (!typeUnparsed.isEmpty()) {
      // Case insensitive matching between user input (workflow config key) and enum value
      for (MediaPackageElement.Type t : MediaPackageElement.Type.values()) {
        if (t.name().equalsIgnoreCase(typeUnparsed)) {
          type = t;
        }
      }
      if (type == null || (type != Track.TYPE &amp;&amp; type != Attachment.TYPE)) {
        throw new IllegalArgumentException(String.format(&quot;The given type '%s' for mediapackage %s was illegal. Please&quot;
                + &quot;check the operations' configuration keys.&quot;, type, mediaPackage.getIdentifier()));
      }
    } else {
      type = Track.TYPE;
    }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/graphql/command/UpdateEventAclCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateEventAclCommand.html#L62">62</a></td></tr>
<tr class="a">
<td>org/opencastproject/graphql/command/UpdateEventCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateEventCommand.html#L89">89</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>try {
      AccessControlList acl = new AccessControlList();
      for (var entry : aclInput.getEntries()) {
        for (var action : entry.getAction()) {
          acl.getEntries().add(new AccessControlEntry(entry.getRole(), action, true));
        }
      }

      if (aclInput.getManagedAclId() != null) {
        AclService aclService = context.getService(AclServiceFactory.class)
                                       .serviceFor(context.getService(SecurityService.class).getOrganization());
        aclService.getAcl(aclInput.getManagedAclId())
                  .ifPresent(value -&gt; acl.merge(value.getAcl()));
      }
      indexService.updateEventAcl(eventId, acl, index);
    } catch (IndexServiceException | SearchIndexException e) {
      throw new GraphQLRuntimeException(e);
    } catch (UnauthorizedException e) {
      throw new GraphQLUnauthorizedException(e.getMessage());
    } catch (NotFoundException e) {
      throw new GraphQLNotFoundException(e.getMessage());
    }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/publication/oaipmh/endpoint/OaiPmhPublicationRestService.java</td>
<td>Opencast :: publication-service-oaipmh</td>
<td><a href="./xref/org/opencastproject/publication/oaipmh/endpoint/OaiPmhPublicationRestService.html#L269">269</a></td></tr>
<tr class="a">
<td>org/opencastproject/publication/oaipmh/endpoint/OaiPmhPublicationRestService.java</td>
<td>Opencast :: publication-service-oaipmh</td>
<td><a href="./xref/org/opencastproject/publication/oaipmh/endpoint/OaiPmhPublicationRestService.html#L370">370</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>try {
      final MediaPackage mediaPackage = MediaPackageParser.getFromXml(mediaPackageXml);
      final Set&lt;? extends MediaPackageElement&gt; downloadElements = new HashSet&lt;MediaPackageElement&gt;(
              MediaPackageElementParser.getArrayFromXml(downloadElementsXml));
      final Set&lt;? extends MediaPackageElement&gt; streamingElements = new HashSet&lt;MediaPackageElement&gt;(
              MediaPackageElementParser.getArrayFromXml(streamingElementsXml));
      final Set&lt;MediaPackageElementFlavor&gt; retractDownloadFlavors = split(retractDownloadFlavorsString).stream()
          .filter(s -&gt; !s.isEmpty())
          .map(MediaPackageElementFlavor::parseFlavor)
          .collect(Collectors.toSet());
      final Set&lt;MediaPackageElementFlavor&gt; retractStreamingFlavors = split(retractStreamingFlavorsString).stream()
          .filter(s -&gt; !s.isEmpty())
          .map(MediaPackageElementFlavor::parseFlavor)
          .collect(Collectors.toSet());
      final Set&lt;? extends Publication&gt; publications = MediaPackageElementParser.getArrayFromXml(publicationsXml)
          .stream().map(p -&gt; (Publication) p).collect(Collectors.toSet());</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/ListProvidersEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/ListProvidersEndpoint.html#L137">137</a></td></tr>
<tr class="a">
<td>org/opencastproject/external/endpoint/ListProviderEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/ListProviderEndpoint.html#L109">109</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@Produces(MediaType.APPLICATION_JSON)
  @RestQuery(name = &quot;list&quot;, description = &quot;Provides key-value list from the given source&quot;, pathParameters = { @RestParameter(name = &quot;source&quot;, description = &quot;The source for the key-value list&quot;, isRequired = true, type = RestParameter.Type.STRING) }, restParameters = {
          @RestParameter(description = &quot;The maximum number of items to return per page&quot;, isRequired = false, name = &quot;limit&quot;, type = RestParameter.Type.INTEGER),
          @RestParameter(description = &quot;The offset&quot;, isRequired = false, name = &quot;offset&quot;, type = RestParameter.Type.INTEGER),
          @RestParameter(description = &quot;Filters&quot;, isRequired = false, name = &quot;filter&quot;, type = RestParameter.Type.STRING) }, responses = { @RestResponse(description = &quot;Returns the key-value list for the given source.&quot;, responseCode = HttpServletResponse.SC_OK) }, returnDescription = &quot;&quot;)
  public Response getList(@PathParam(&quot;source&quot;) final String source, @QueryParam(&quot;limit&quot;) final int limit,
          @QueryParam(&quot;filter&quot;) final String filter, @QueryParam(&quot;offset&quot;) final int offset,
          @Context HttpHeaders headers) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/elasticsearch/index/objects/series/SeriesQueryBuilder.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/series/SeriesQueryBuilder.html#L146">146</a></td></tr>
<tr class="a">
<td>org/opencastproject/elasticsearch/index/objects/theme/ThemeQueryBuilder.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/theme/ThemeQueryBuilder.html#L141">141</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>StringBuffer queryText = new StringBuffer();
        for (String term : terms.getTerms()) {
          if (queryText.length() &gt; 0) {
            queryText.append(&quot; &quot;);
          }
          queryText.append(term);
        }
        if (query.isFuzzySearch()) {
          fuzzyText = queryText.toString();
        } else {
          this.text = queryText.toString();
        }
        if (Quantifier.All.equals(terms.getQuantifier())) {
          if (groups == null) {
            groups = new ArrayList&lt;ValueGroup&gt;();
          }
          if (query.isFuzzySearch()) {
            logger.warn(&quot;All quantifier not supported in conjunction with wildcard text&quot;);
          }
          groups.add(new ValueGroup(IndexSchema.TEXT, (Object[]) terms.getTerms().toArray(new String[terms.size()])));
        }
      }
    }

    // Filter query
    if (query.getFilter() != null) {
      this.filter = query.getFilter();
    }

  }

}</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/index/service/resources/list/provider/ContributorsListProvider.java</td>
<td>Opencast :: index-service</td>
<td><a href="./xref/org/opencastproject/index/service/resources/list/provider/ContributorsListProvider.html#L201">201</a></td></tr>
<tr class="a">
<td>org/opencastproject/index/service/resources/list/provider/ContributorsListProvider.java</td>
<td>Opencast :: index-service</td>
<td><a href="./xref/org/opencastproject/index/service/resources/list/provider/ContributorsListProvider.html#L258">258</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>protected Map&lt;String, String&gt; getListWithTechnicalPresenters(ResourceListQuery query) {
    int offset = 0;
    int limit = 0;

    List&lt;Contributor&gt; contributorsList = new ArrayList&lt;Contributor&gt;();

    HashSet&lt;String&gt; labels = new HashSet&lt;String&gt;();

    if (!excludeUserProvider.contains(ALL_USER_PROVIDERS_VALUE)) {
      Iterator&lt;User&gt; users = userDirectoryService.findUsers(&quot;%&quot;, offset, limit);
      while (users.hasNext()) {
        User u = users.next();
        if (!excludeUserProvider.contains(u.getProvider())) {
          if (StringUtils.isNotBlank(u.getName())) {
            contributorsList.add(new Contributor(u.getUsername(), u.getName()));
            labels.add(u.getName());
          } else {
            contributorsList.add(new Contributor(u.getUsername(), u.getUsername()));
            labels.add(u.getUsername());
          }
        }
      }
    }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/googlespeech/GoogleSpeechTranscriptionService.java</td>
<td>Opencast :: transcription-service-google-speech-impl</td>
<td><a href="./xref/org/opencastproject/transcription/googlespeech/GoogleSpeechTranscriptionService.html#L726">726</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/ibmwatson/IBMWatsonTranscriptionService.java</td>
<td>Opencast :: transcription-service-ibm-watson-impl</td>
<td><a href="./xref/org/opencastproject/transcription/ibmwatson/IBMWatsonTranscriptionService.html#L773">773</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>if (resultsArray != null) {
      // Save the results into a collection
      workspace.putInCollection(TRANSCRIPT_COLLECTION, jobId + &quot;.json&quot;,
              new ByteArrayInputStream(jsonObj.toJSONString().getBytes()));
    }
  }

  @Override
  public MediaPackageElement getGeneratedTranscription(String mpId, String jobId, MediaPackageElement.Type type)
          throws TranscriptionServiceException {
    try {
      // If jobId is unknown, look for all jobs associated to that mpId
      if (jobId == null || &quot;null&quot;.equals(jobId)) {
        jobId = null;
        for (TranscriptionJobControl jc : database.findByMediaPackage(mpId)) {
          if (TranscriptionJobControl.Status.Closed.name().equals(jc.getStatus())
                  || TranscriptionJobControl.Status.TranscriptionComplete.name().equals(jc.getStatus())) {
            jobId = jc.getTranscriptionJobId();
          }
        }
      }

      if (jobId == null) {
        throw new TranscriptionServiceException(
                &quot;No completed or closed transcription job found in database for media package &quot; + mpId);
      }

      // Results already saved?
      URI uri = workspace.getCollectionURI(TRANSCRIPT_COLLECTION, jobId + &quot;.json&quot;);
      try {
        workspace.get(uri);
      } catch (Exception e) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/composer/remote/ComposerServiceRemoteImpl.java</td>
<td>Opencast :: composer-service-remote</td>
<td><a href="./xref/org/opencastproject/composer/remote/ComposerServiceRemoteImpl.html#L118">118</a></td></tr>
<tr class="a">
<td>org/opencastproject/composer/remote/ComposerServiceRemoteImpl.java</td>
<td>Opencast :: composer-service-remote</td>
<td><a href="./xref/org/opencastproject/composer/remote/ComposerServiceRemoteImpl.html#L149">149</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>HttpPost post = new HttpPost(&quot;/encode&quot;);
    try {
      List&lt;BasicNameValuePair&gt; params = new ArrayList&lt;&gt;();
      params.add(new BasicNameValuePair(&quot;sourceTrack&quot;, MediaPackageElementParser.getAsXml(sourceTrack)));
      params.add(new BasicNameValuePair(&quot;profileId&quot;, profileId));
      post.setEntity(new UrlEncodedFormEntity(params, &quot;UTF-8&quot;));
    } catch (Exception e) {
      throw new EncoderException(&quot;Unable to assemble a remote composer request for track &quot; + sourceTrack, e);
    }
    HttpResponse response = null;
    try {
      response = getResponse(post);
      if (response != null) {
        String content = EntityUtils.toString(response.getEntity());
        Job r = JobParser.parseJob(content);
        logger.info(&quot;Encoding job {} started on a remote composer&quot;, r.getId());
        return r;
      }
    } catch (Exception e) {
      throw new EncoderException(&quot;Unable to encode track &quot; + sourceTrack + &quot; using a remote composer service&quot;, e);
    } finally {
      closeConnection(response);
    }
    throw new EncoderException(&quot;Unable to encode track &quot; + sourceTrack + &quot; using a remote composer service&quot;);
  }

  /**
   * {@inheritDoc}
   */
  @Override
  public Job parallelEncode(Track sourceTrack, String profileId) throws EncoderException {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/distribution/download/DownloadDistributionServiceImpl.java</td>
<td>Opencast :: distribution-service-download</td>
<td><a href="./xref/org/opencastproject/distribution/download/DownloadDistributionServiceImpl.html#L321">321</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/download/DownloadDistributionServiceImpl.java</td>
<td>Opencast :: distribution-service-download</td>
<td><a href="./xref/org/opencastproject/distribution/download/DownloadDistributionServiceImpl.html#L445">445</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>File source;
      try {
        source = workspace.get(element.getURI());
      } catch (NotFoundException e) {
        throw new DistributionException(&quot;Unable to find &quot; + element.getURI() + &quot; in the workspace&quot;, e);
      } catch (IOException e) {
        throw new DistributionException(&quot;Error loading &quot; + element.getURI() + &quot; from the workspace&quot;, e);
      }

      // Try to find a duplicated element source
      try {
        source = findDuplicatedElementSource(source, mediapackageId);
      } catch (IOException e) {
        logger.warn(&quot;Unable to find duplicated source {}: {}&quot;, source, ExceptionUtils.getMessage(e));
      }

      File destination = getDistributionFile(channelId, mediapackage, element);
      if (!destination.equals(source)) {
        // Put the file in place if sourcesfile differs destinationfile
        try {
          FileUtils.forceMkdir(destination.getParentFile());
        } catch (IOException e) {
          throw new DistributionException(&quot;Unable to create &quot; + destination.getParentFile(), e);
        }
        logger.debug(&quot;Distributing element {} of media package {} to publication channel {} ({})&quot;, elementId,
            mediapackageId, channelId, destination);

        try {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/execute/operation/handler/ExecuteManyWorkflowOperationHandler.java</td>
<td>Opencast :: execute-workflowoperation</td>
<td><a href="./xref/org/opencastproject/execute/operation/handler/ExecuteManyWorkflowOperationHandler.html#L126">126</a></td></tr>
<tr class="a">
<td>org/opencastproject/execute/operation/handler/ExecuteOnceWorkflowOperationHandler.java</td>
<td>Opencast :: execute-workflowoperation</td>
<td><a href="./xref/org/opencastproject/execute/operation/handler/ExecuteOnceWorkflowOperationHandler.html#L109">109</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>public static final String SET_WF_PROPS_PROPERTY = &quot;set-workflow-properties&quot;;

  /** The text analyzer */
  protected ExecuteService executeService;

  /** Reference to the media inspection service */
  private MediaInspectionService inspectionService = null;

  /** The workspace service */
  protected Workspace workspace;

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.workflow.api.WorkflowOperationHandler#start(org.opencastproject.workflow.api.WorkflowInstance,
   *      JobContext)
   */
  @Override
  public WorkflowOperationResult start(WorkflowInstance workflowInstance, JobContext context)
          throws WorkflowOperationException {

    MediaPackage mediaPackage = workflowInstance.getMediaPackage();
    WorkflowOperationInstance operation = workflowInstance.getCurrentOperation();

    logger.debug(&quot;Running execute workflow operation with ID {}&quot;, operation.getId());

    // Get operation parameters
    String exec = StringUtils.trimToNull(operation.getConfiguration(EXEC_PROPERTY));
    String params = StringUtils.trimToNull(operation.getConfiguration(PARAMS_PROPERTY));
    float load = 1.0f;
    String loadPropertyStr = StringUtils.trimToEmpty(operation.getConfiguration(LOAD_PROPERTY));
    if (StringUtils.isNotBlank(loadPropertyStr)) {
      try {
        load = Float.parseFloat(loadPropertyStr);
      } catch (NumberFormatException e) {
        String description = StringUtils.trimToEmpty(operation.getDescription());
        logger.warn(&quot;Ignoring invalid load value '{}' on execute operation with description '{}'&quot;, loadPropertyStr,
                description);
      }
    }
    ConfiguredTagsAndFlavors tagsAndFlavors = getTagsAndFlavors(workflowInstance,
        Configuration.many, Configuration.many, Configuration.many, Configuration.many);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/schema/OcDublinCoreBuilder.java</td>
<td>Opencast :: schema</td>
<td><a href="./xref/org/opencastproject/schema/OcDublinCoreBuilder.html#L702">702</a></td></tr>
<tr class="a">
<td>org/opencastproject/schema/test/TestUtil.java</td>
<td>Opencast :: schema</td>
<td><a href="./xref/org/opencastproject/schema/test/TestUtil.html#L94">94</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@Override public Option&lt;String&gt; getAbstract() {
    return abstrakt;
  }

  @Override public Option&lt;String&gt; getAccessRights() {
    return accessRights;
  }

  @Override public Option&lt;String&gt; getAccrualMethod() {
    return accrualMethod;
  }

  @Override public Option&lt;String&gt; getAccrualPeriodicity() {
    return accrualPeriodicity;
  }

  @Override public Option&lt;String&gt; getAccrualPolicy() {
    return accrualPolicy;
  }

  @Override public Option&lt;String&gt; getAlternative() {
    return alternative;
  }

  @Override public Option&lt;String&gt; getAudience() {
    return audience;
  }

  @Override public Option&lt;String&gt; getAvailable() {
    return available;
  }

  @Override public Option&lt;String&gt; getBibliographicCitation() {
    return bibliographicCitation;
  }

  @Override public Option&lt;String&gt; getConformsTo() {
    return conformsTo;
  }

  @Override public Option&lt;String&gt; getContributor() {
    return contributor;
  }

  @Override public Option&lt;String&gt; getCoverage() {
    return coverage;
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/scheduler/impl/SchedulerServiceImpl.java</td>
<td>Opencast :: scheduler-impl</td>
<td><a href="./xref/org/opencastproject/scheduler/impl/SchedulerServiceImpl.html#L1457">1457</a></td></tr>
<tr class="a">
<td>org/opencastproject/scheduler/impl/SchedulerServiceImpl.java</td>
<td>Opencast :: scheduler-impl</td>
<td><a href="./xref/org/opencastproject/scheduler/impl/SchedulerServiceImpl.html#L1826">1826</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>event.setTechnicalPresenters(new ArrayList&lt;&gt;(presenters.get()));
      }
      if (agentId.isSome()) {
        event.setAgentId(agentId.get());
      }
      if (recordingStatus.isSome() &amp;&amp; !recordingStatus.get().equals(RecordingState.UNKNOWN)) {
        event.setRecordingStatus(recordingStatus.get());
      }
      if (properties.isSome()) {
        event.setAgentConfiguration(properties.get());
      }
      if (startTime.isSome()) {
        String startTimeStr = startTime == null ? null : DateTimeSupport.toUTC(startTime.get().getTime());
        event.setTechnicalStartTime(startTimeStr);
      }
      if (endTime.isSome()) {
        String endTimeStr = endTime == null ? null : DateTimeSupport.toUTC(endTime.get().getTime());
        event.setTechnicalEndTime(endTimeStr);
      }

      return Optional.of(event);
    };</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/distribution/aws/s3/AwsS3DistributionServiceImpl.java</td>
<td>Opencast :: distribution-service-aws-s3</td>
<td><a href="./xref/org/opencastproject/distribution/aws/s3/AwsS3DistributionServiceImpl.html#L584">584</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/download/DownloadDistributionServiceImpl.java</td>
<td>Opencast :: distribution-service-download</td>
<td><a href="./xref/org/opencastproject/distribution/download/DownloadDistributionServiceImpl.html#L521">521</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>Set&lt;String&gt; elementIds = new HashSet&lt;&gt;();
    elementIds.add(elementId);
    return retract(channelId, mediapackage, elementIds);
  }

  @Override
  public Job retract(String channelId, MediaPackage mediapackage, Set&lt;String&gt; elementIds) throws DistributionException {
    notNull(mediapackage, &quot;mediapackage&quot;);
    notNull(elementIds, &quot;elementIds&quot;);
    notNull(channelId, &quot;channelId&quot;);
    try {
      return serviceRegistry.createJob(JOB_TYPE, Operation.Retract.toString(),
              Arrays.asList(channelId, MediaPackageParser.getAsXml(mediapackage), gson.toJson(elementIds)),
              retractJobLoad);
    } catch (ServiceRegistryException e) {
      throw new DistributionException(&quot;Unable to create a job&quot;, e);
    }
  }

  @Override
  public List&lt;MediaPackageElement&gt; distributeSync(String channelId, MediaPackage mediapackage, String elementId)
          throws DistributionException, MediaPackageException {
    Set&lt;String&gt; elementIds = new HashSet&lt;String&gt;();
    elementIds.add(elementId);
    return distributeSync(channelId, mediapackage, elementIds, true);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/graphql/command/CreateSeriesCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/CreateSeriesCommand.html#L92">92</a></td></tr>
<tr class="a">
<td>org/opencastproject/graphql/command/UpdateSeriesCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateSeriesCommand.html#L108">108</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

    try {
      return new GqlSeries(
          index.getSeries(seriesId, context.getOrganization().getId(), context.getUser()).get()
      );
    } catch (SearchIndexException e) {
      throw new GraphQLRuntimeException(e);
    }
  }

  private MetadataList createMetadataList(Map&lt;String, Object&gt; seriesMetadata, IndexService indexService) {
    CommonSeriesCatalogUIAdapter adapter = (CommonSeriesCatalogUIAdapter) indexService
        .getCommonSeriesCatalogUIAdapter();

    MetadataList list = new MetadataList();
    list.add(adapter, adapter.getRawFields());

    final MediaPackageElementFlavor flavor = MediaPackageElementFlavor
        .parseFlavor(&quot;dublincore/series&quot;);

    final DublinCoreMetadataCollection collection = list.getMetadataByFlavor(flavor.toString());

    seriesMetadata.keySet().forEach(k -&gt; {
      final MetadataField target = collection.getOutputFields().get(k);
      target.setValue(seriesMetadata.get(k));
    });

    return list;
  }

  public static Builder create(</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/userdirectory/sakai/SakaiUserProviderInstance.java</td>
<td>Opencast :: userdirectory-sakai</td>
<td><a href="./xref/org/opencastproject/userdirectory/sakai/SakaiUserProviderInstance.html#L594">594</a></td></tr>
<tr class="a">
<td>org/opencastproject/userdirectory/studip/StudipUserProviderInstance.java</td>
<td>Opencast :: userdirectory-studip</td>
<td><a href="./xref/org/opencastproject/userdirectory/studip/StudipUserProviderInstance.html#L369">369</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>if (!verifySakaiUser(query)) {
      return Collections.emptyIterator();
    }

    List&lt;User&gt; users = new LinkedList&lt;User&gt;();
    JaxbOrganization jaxbOrganization = JaxbOrganization.fromOrganization(organization);
    JaxbUser queryUser = new JaxbUser(query, PROVIDER_NAME, jaxbOrganization, new HashSet&lt;JaxbRole&gt;());
    users.add(queryUser);

    return users.iterator();
  }

  @Override
  public Iterator&lt;User&gt; getUsers() {
    // We never enumerate all users
    return Collections.emptyIterator();
  }

  @Override
  public void invalidate(String userName) {
    cache.invalidate(userName);
  }

  @Override
  public long countUsers() {
    // Not meaningful, as we never enumerate users
    return 0;
  }

  // RoleProvider methods

  @Override
  public List&lt;Role&gt; getRolesForUser(String userName) {

    List&lt;Role&gt; roles = new LinkedList&lt;Role&gt;();

    // Don't answer for admin, anonymous or empty user
    if (&quot;admin&quot;.equals(userName) || &quot;&quot;.equals(userName) || &quot;anonymous&quot;.equals(userName)) {
      logger.debug(&quot;we don't answer for: &quot; + userName);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/security/aai/ConfigurableLoginHandler.java</td>
<td>Opencast :: security-aai</td>
<td><a href="./xref/org/opencastproject/security/aai/ConfigurableLoginHandler.html#L529">529</a></td></tr>
<tr class="a">
<td>org/opencastproject/userdirectory/OrganizationRoleProvider.java</td>
<td>Opencast :: userdirectory</td>
<td><a href="./xref/org/opencastproject/userdirectory/OrganizationRoleProvider.html#L126">126</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>return offsetLimitCollection(offset, limit, roles).iterator();
  }

  private &lt;T&gt; HashSet&lt;T&gt; offsetLimitCollection(int offset, int limit, HashSet&lt;T&gt; entries) {
    HashSet&lt;T&gt; result = new HashSet&lt;T&gt;();
    int i = 0;
    for (T entry : entries) {
      if (limit != 0 &amp;&amp; result.size() &gt;= limit) {
        break;
      }
      if (i &gt;= offset) {
        result.add(entry);
      }
      i++;
    }
    return result;
  }

  private boolean like(String string, final String query) {
    if (string == null) {
      return false;
    }
    String regex = query.replace(&quot;_&quot;, &quot;.&quot;).replace(&quot;%&quot;, &quot;.*?&quot;);
    Pattern p = Pattern.compile(regex, Pattern.CASE_INSENSITIVE | Pattern.DOTALL);
    return p.matcher(string).matches();
  }

}</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/security/aai/ConfigurableLoginHandler.java</td>
<td>Opencast :: security-aai</td>
<td><a href="./xref/org/opencastproject/security/aai/ConfigurableLoginHandler.html#L529">529</a></td></tr>
<tr class="a">
<td>org/opencastproject/security/aai/DynamicLoginHandler.java</td>
<td>Opencast :: security-aai</td>
<td><a href="./xref/org/opencastproject/security/aai/DynamicLoginHandler.html#L294">294</a></td></tr>
<tr class="b">
<td>org/opencastproject/security/jwt/JWTRoleProvider.java</td>
<td>Opencast :: security-jwt</td>
<td><a href="./xref/org/opencastproject/security/jwt/JWTRoleProvider.html#L92">92</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>return offsetLimitCollection(offset, limit, roles).iterator();
  }

  private &lt;T&gt; HashSet&lt;T&gt; offsetLimitCollection(int offset, int limit, HashSet&lt;T&gt; entries) {
    HashSet&lt;T&gt; result = new HashSet&lt;T&gt;();
    int i = 0;
    for (T entry : entries) {
      if (limit != 0 &amp;&amp; result.size() &gt;= limit) {
        break;
      }
      if (i &gt;= offset) {
        result.add(entry);
      }
      i++;
    }
    return result;
  }

  private boolean like(String string, final String query) {
    if (string == null) {
      return false;
    }
    String regex = query.replace(&quot;_&quot;, &quot;.&quot;).replace(&quot;%&quot;, &quot;.*?&quot;);
    Pattern p = Pattern.compile(regex, Pattern.CASE_INSENSITIVE | Pattern.DOTALL);
    return p.matcher(string).matches();
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/distribution/aws/s3/remote/AwsS3DistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-aws-s3-remote</td>
<td><a href="./xref/org/opencastproject/distribution/aws/s3/remote/AwsS3DistributionServiceRemoteImpl.html#L123">123</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/streaming/remote/StreamingDistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-streaming-remote</td>
<td><a href="./xref/org/opencastproject/distribution/streaming/remote/StreamingDistributionServiceRemoteImpl.html#L138">138</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>param(PARAM_CHECK_AVAILABILITY, Boolean.toString(checkAvailability)));
    for (Job job : join(runRequest(req, jobFromHttpResponse))) {
      return job;
    }
    throw new DistributionException(format(&quot;Unable to distribute '%s' elements of &quot;
                    + &quot;mediapackage '%s' using a remote destribution service proxy&quot;,
            elementIds.size(), mediaPackage.getIdentifier().toString()));
  }

  @Override
  public Job retract(String channelId, MediaPackage mediaPackage, String elementId) throws DistributionException {
    Set&lt;String&gt; elementIds = new HashSet&lt;String&gt;();
    elementIds.add(elementId);
    return retract(channelId, mediaPackage, elementIds);
  }

  @Override
  public Job retract(String channelId, MediaPackage mediaPackage, Set&lt;String&gt; elementIds) throws DistributionException {
    logger.info(&quot;Retracting {} elements from {}@{}&quot;, elementIds.size(), channelId, distributionChannel);
    final HttpPost req = post(&quot;/retract&quot;,
            param(PARAM_MEDIAPACKAGE, MediaPackageParser.getAsXml(mediaPackage)),
            param(PARAM_ELEMENT_ID, gson.toJson(elementIds)),</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/workingfilerepository/impl/WorkingFileRepositoryCleaner.java</td>
<td>Opencast :: working-file-repository-service-impl</td>
<td><a href="./xref/org/opencastproject/workingfilerepository/impl/WorkingFileRepositoryCleaner.html#L102">102</a></td></tr>
<tr class="a">
<td>org/opencastproject/workspace/impl/WorkspaceCleaner.java</td>
<td>Opencast :: workspace-impl</td>
<td><a href="./xref/org/opencastproject/workspace/impl/WorkspaceCleaner.html#L95">95</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>logger.warn(&quot;Cancel scheduling of workspace cleaner due to invalid scheduling period&quot;);
      return;
    }
    logger.debug(&quot;Scheduling workspace cleaner to run every {} seconds.&quot;, schedulerPeriod);
    try {
      final Trigger trigger = TriggerUtils.makeSecondlyTrigger(schedulerPeriod);
      trigger.setStartTime(new Date());
      trigger.setName(TRIGGER_NAME);
      trigger.setGroup(TRIGGER_GROUP);
      trigger.setJobName(JOB_NAME);
      trigger.setJobGroup(JOB_GROUP);
      if (quartz.getTriggersOfJob(JOB_NAME, JOB_GROUP).length == 0) {
        quartz.scheduleJob(trigger);
      } else {
        quartz.rescheduleJob(TRIGGER_NAME, TRIGGER_GROUP, trigger);
      }
    } catch (Exception e) {
      logger.error(&quot;Error scheduling Quartz job&quot;, e);
    }
  }

  /** Shutdown the scheduler. */
  public void shutdown() {
    try {
      quartz.shutdown();
    } catch (org.quartz.SchedulerException ignore) {
    }
  }

  // just to make sure Quartz is being shut down...
  @Override
  protected void finalize() throws Throwable {
    super.finalize();
    shutdown();
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/elasticsearch/index/objects/event/Comment.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/event/Comment.html#L189">189</a></td></tr>
<tr class="a">
<td>org/opencastproject/elasticsearch/index/objects/event/Event.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/event/Event.html#L1153">1153</a></td></tr>
<tr class="b">
<td>org/opencastproject/elasticsearch/index/objects/series/Series.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/series/Series.html#L586">586</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>public static Comment valueOfJson(InputStream json)
          throws IOException, JSONException, XMLStreamException, JAXBException {
    // TODO Get this to work, it is currently returning null properties for all properties.
    if (context == null) {
      createJAXBContext();
    }

    BufferedReader streamReader = new BufferedReader(new InputStreamReader(json, &quot;UTF-8&quot;));
    StringBuilder jsonStringBuilder = new StringBuilder();
    String inputStr;
    while ((inputStr = streamReader.readLine()) != null) {
      jsonStringBuilder.append(inputStr);
    }

    JSONObject obj = new JSONObject(jsonStringBuilder.toString());
    Configuration config = new Configuration();
    config.setSupressAtAttributes(true);
    Map&lt;String, String&gt; xmlToJsonNamespaces = new HashMap&lt;String, String&gt;(1);
    xmlToJsonNamespaces.put(IndexObject.INDEX_XML_NAMESPACE, &quot;&quot;);
    config.setXmlToJsonNamespaces(xmlToJsonNamespaces);
    MappedNamespaceConvention con = new MappedNamespaceConvention(config);
    Unmarshaller unmarshaller = context.createUnmarshaller();
    // CHECKSTYLE:OFF
    // the xml is parsed from json and should be safe
    XMLStreamReader xmlStreamReader = new MappedXMLStreamReader(obj, con);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/fileupload/service/FileUploadServiceCleaner.java</td>
<td>Opencast :: fileupload</td>
<td><a href="./xref/org/opencastproject/fileupload/service/FileUploadServiceCleaner.html#L82">82</a></td></tr>
<tr class="a">
<td>org/opencastproject/workspace/impl/WorkspaceCleaner.java</td>
<td>Opencast :: workspace-impl</td>
<td><a href="./xref/org/opencastproject/workspace/impl/WorkspaceCleaner.html#L100">100</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>final Trigger trigger = TriggerUtils.makeHourlyTrigger();
      trigger.setStartTime(new Date());
      trigger.setName(TRIGGER_NAME);
      trigger.setGroup(TRIGGER_GROUP);
      trigger.setJobName(JOB_NAME);
      trigger.setJobGroup(JOB_GROUP);
      if (quartz.getTriggersOfJob(JOB_NAME, JOB_GROUP).length == 0) {
        quartz.scheduleJob(trigger);
      } else {
        quartz.rescheduleJob(TRIGGER_NAME, TRIGGER_GROUP, trigger);
      }
    } catch (Exception e) {
      logger.error(&quot;Error scheduling Quartz job&quot;, e);
    }
  }

  /** Shutdown the scheduler. */
  public void shutdown() {
    try {
      quartz.shutdown();
    } catch (org.quartz.SchedulerException ignore) {
    }
  }

  // just to make sure Quartz is being shut down...
  @Override
  protected void finalize() throws Throwable {
    super.finalize();
    shutdown();
  }

  // --

  /** Quartz work horse. */
  public static class Runner implements Job {

    @Override
    public void execute(JobExecutionContext jobExecutionContext) throws JobExecutionException {
      logger.info(&quot;Start file upload service cleaner&quot;);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/graphql/command/UpdateEventCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateEventCommand.html#L86">86</a></td></tr>
<tr class="a">
<td>org/opencastproject/graphql/command/UpdateSeriesAclCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateSeriesAclCommand.html#L58">58</a></td></tr>
<tr class="b">
<td>org/opencastproject/graphql/command/UpdateSeriesCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateSeriesCommand.html#L83">83</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>final AccessControlListInput aclInput = GraphQLObjectMapper.newInstance()
        .convertValue(environment.getArgument(&quot;acl&quot;), AccessControlListInput.class);
    if (aclInput != null) {
      try {
        AccessControlList acl = new AccessControlList();
        for (var entry : aclInput.getEntries()) {
          for (var action : entry.getAction()) {
            acl.getEntries().add(new AccessControlEntry(entry.getRole(), action, true));
          }
        }

        if (aclInput.getManagedAclId() != null) {
          AclService aclService = context.getService(AclServiceFactory.class)
                                         .serviceFor(context.getService(SecurityService.class).getOrganization());
          aclService.getAcl(aclInput.getManagedAclId())
                    .ifPresent(value -&gt; acl.merge(value.getAcl()));
        }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/workflowoperation/AttachTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/AttachTranscriptionOperationHandler.html#L128">128</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/workflowoperation/GoogleSpeechAttachTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/GoogleSpeechAttachTranscriptionOperationHandler.html#L150">150</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>Job job = captionService.convert(transcription, &quot;ibm-watson&quot;, captionFormatOption, service.getLanguage());
        if (!waitForStatus(job).isSuccess()) {
          throw new WorkflowOperationException(&quot;Transcription format conversion job did not complete successfully&quot;);
        }
        transcription = MediaPackageElementParser.getFromXml(job.getPayload());
      }

      // Set the target flavor if informed
      transcription.setFlavor(targetFlavor);

      // Add tags
      for (String tag : targetTagOption) {
        transcription.addTag(tag);
      }

      // Add to media package
      mediaPackage.add(transcription);

      String uri = transcription.getURI().toString();
      String ext = uri.substring(uri.lastIndexOf(&quot;.&quot;));
      transcription.setURI(workspace.moveTo(transcription.getURI(), mediaPackage.getIdentifier().toString(),
              transcription.getIdentifier(), &quot;captions.&quot; + ext));
    } catch (Exception e) {
      throw new WorkflowOperationException(e);
    }

    return createResult(mediaPackage, Action.CONTINUE);
  }

  @Reference(target = &quot;(provider=ibm.watson)&quot;)</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/scheduler/endpoint/SchedulerRestService.java</td>
<td>Opencast :: scheduler-impl</td>
<td><a href="./xref/org/opencastproject/scheduler/endpoint/SchedulerRestService.html#L702">702</a></td></tr>
<tr class="a">
<td>org/opencastproject/scheduler/endpoint/SchedulerRestService.java</td>
<td>Opencast :: scheduler-impl</td>
<td><a href="./xref/org/opencastproject/scheduler/endpoint/SchedulerRestService.html#L804">804</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@RestParameter(name = &quot;mediaPackage&quot;, isRequired = true, type = Type.TEXT, description = &quot;The media package of the event&quot;),
          @RestParameter(name = &quot;wfproperties&quot;, isRequired = false, type = Type.TEXT, description = &quot;Workflow &quot;
                  + &quot;configuration keys for the event. Each key will be prefixed by 'org.opencastproject.workflow&quot;
                  + &quot;.config.' and added to the capture agent parameters.&quot;),
          @RestParameter(name = &quot;agentparameters&quot;, isRequired = false, type = Type.TEXT, description = &quot;The capture agent properties for the event&quot;),
          @RestParameter(name = &quot;source&quot;, isRequired = false, type = Type.STRING, description = &quot;The scheduling source of the event&quot;),
          }, responses = {
          @RestResponse(responseCode = HttpServletResponse.SC_CREATED, description = &quot;Event is successfully created&quot;),
          @RestResponse(responseCode = HttpServletResponse.SC_CONFLICT, description = &quot;Unable to create event, conflicting events found (ConflicsFound)&quot;),
          @RestResponse(responseCode = HttpServletResponse.SC_CONFLICT, description = &quot;Unable to create event, event locked by a transaction  (TransactionLock)&quot;),
          @RestResponse(responseCode = HttpServletResponse.SC_UNAUTHORIZED, description = &quot;You do not have permission to create the event. Maybe you need to authenticate.&quot;),
          @RestResponse(responseCode = HttpServletResponse.SC_BAD_REQUEST, description = &quot;Missing or invalid information for this request&quot;) })
  public Response addEvent(@FormParam(&quot;start&quot;) long startTime, @FormParam(&quot;end&quot;) long endTime,</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/distribution/aws/s3/remote/AwsS3DistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-aws-s3-remote</td>
<td><a href="./xref/org/opencastproject/distribution/aws/s3/remote/AwsS3DistributionServiceRemoteImpl.html#L169">169</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/streaming/remote/StreamingDistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-streaming-remote</td>
<td><a href="./xref/org/opencastproject/distribution/streaming/remote/StreamingDistributionServiceRemoteImpl.html#L183">183</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>param(PARAM_CHECK_AVAILABILITY, Boolean.toString(checkAvailability)));
    for (List&lt;MediaPackageElement&gt; elements : join(runRequest(req, elementsFromHttpResponse))) {
      return elements;
    }
    throw new DistributionException(format(&quot;Unable to distribute '%s' elements of &quot;
            + &quot;mediapackage '%s' using a remote destribution service proxy&quot;,
        elementIds.size(), mediapackage.getIdentifier().toString()));
  }

  @Override
  public List&lt;MediaPackageElement&gt; retractSync(String channelId, MediaPackage mediaPackage, String elementId)
          throws DistributionException {
    Set&lt;String&gt; elementIds = new HashSet&lt;String&gt;();
    elementIds.add(elementId);
    return retractSync(channelId, mediaPackage, elementIds);
  }

  @Override
  public List&lt;MediaPackageElement&gt; retractSync(String channelId, MediaPackage mediaPackage, Set&lt;String&gt; elementIds)
          throws DistributionException {
    logger.info(&quot;Retracting {} elements from {}@{}&quot;, elementIds.size(), channelId, distributionChannel);
    final HttpPost req = post(&quot;/retractsync&quot;,</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/distribution/download/remote/DownloadDistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-download-remote</td>
<td><a href="./xref/org/opencastproject/distribution/download/remote/DownloadDistributionServiceRemoteImpl.html#L173">173</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/streaming/remote/StreamingDistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-streaming-remote</td>
<td><a href="./xref/org/opencastproject/distribution/streaming/remote/StreamingDistributionServiceRemoteImpl.html#L183">183</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>param(PARAM_CHECK_AVAILABILITY, Boolean.toString(checkAvailability)));
    for (List&lt;MediaPackageElement&gt; elements : join(runRequest(req, elementsFromHttpResponse))) {
      return elements;
    }
    throw new DistributionException(format(&quot;Unable to distribute '%s' elements of &quot;
            + &quot;mediapackage '%s' using a remote destribution service proxy&quot;,
        elementIds.size(), mediapackage.getIdentifier().toString()));
  }

  @Override
  public List&lt;MediaPackageElement&gt; retractSync(String channelId, MediaPackage mediaPackage, String elementId)
          throws DistributionException {
    Set&lt;String&gt; elementIds = new HashSet&lt;String&gt;();
    elementIds.add(elementId);
    return retractSync(channelId, mediaPackage, elementIds);
  }

  @Override
  public List&lt;MediaPackageElement&gt; retractSync(String channelId, MediaPackage mediaPackage, Set&lt;String&gt; elementIds)
          throws DistributionException {
    logger.info(&quot;Retracting {} elements from {}@{}&quot;, elementIds.size(), channelId, distributionChannel);
    final HttpPost req = post(&quot;/retractsync&quot;,</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/index/service/resources/list/provider/ThemesListProvider.java</td>
<td>Opencast :: index-service</td>
<td><a href="./xref/org/opencastproject/index/service/resources/list/provider/ThemesListProvider.html#L94">94</a></td></tr>
<tr class="a">
<td>org/opencastproject/index/service/resources/list/provider/ThemesListProvider.java</td>
<td>Opencast :: index-service</td>
<td><a href="./xref/org/opencastproject/index/service/resources/list/provider/ThemesListProvider.html#L114">114</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>if (NAME.equals(listName)) {
      ThemeSearchQuery themeQuery = new ThemeSearchQuery(securityService.getOrganization().getId(),
              securityService.getUser());
      themeQuery.withOffset(query.getOffset().getOrElse(0));
      int limit = query.getLimit().getOrElse(Integer.MAX_VALUE - themeQuery.getOffset());
      themeQuery.withLimit(limit);
      themeQuery.sortByName(Order.Ascending);
      SearchResult&lt;IndexTheme&gt; results = null;
      try {
        results = searchIndex.getByQuery(themeQuery);
      } catch (SearchIndexException e) {
        logger.error(&quot;The admin UI Search Index was not able to get the themes&quot;, e);
        throw new ListProviderException(&quot;No themes list for list name &quot; + listName + &quot; found!&quot;);
      }

      for (SearchResultItem&lt;IndexTheme&gt; item : results.getItems()) {
        IndexTheme theme = item.getSource();</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/search/endpoint/SearchRestService.java</td>
<td>Opencast :: search-service-impl</td>
<td><a href="./xref/org/opencastproject/search/endpoint/SearchRestService.html#L231">231</a></td></tr>
<tr class="a">
<td>org/opencastproject/search/endpoint/SearchRestService.java</td>
<td>Opencast :: search-service-impl</td>
<td><a href="./xref/org/opencastproject/search/endpoint/SearchRestService.html#L430">430</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>var validSort = Arrays.asList(&quot;identifier&quot;, &quot;title&quot;, &quot;contributor&quot;, &quot;creator&quot;, &quot;created&quot;, &quot;modified&quot;)
              .contains(sortParam[0]);
      var validOrder = sortParam.length &lt; 2 || Arrays.asList(&quot;asc&quot;, &quot;desc&quot;).contains(sortParam[1]);
      if (sortParam.length &gt; 2 || !validSort || !validOrder) {
        return Response.status(Response.Status.BAD_REQUEST)
            .entity(&quot;Invalid sort parameter&quot;)
            .build();
      }
      var order = SortOrder.fromString(sortParam.length &gt; 1 ? sortParam[1] : &quot;asc&quot;);
      if (&quot;modified&quot;.equals(sortParam[0])) {
        searchSource.sort(sortParam[0], order);
      } else {
        searchSource.sort(SearchResult.DUBLINCORE + &quot;.&quot; + sortParam[0], order);
      }
    }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/search/impl/persistence/SearchServiceDatabaseImpl.java</td>
<td>Opencast :: search-service-impl</td>
<td><a href="./xref/org/opencastproject/search/impl/persistence/SearchServiceDatabaseImpl.html#L437">437</a></td></tr>
<tr class="a">
<td>org/opencastproject/search/impl/persistence/SearchServiceDatabaseImpl.java</td>
<td>Opencast :: search-service-impl</td>
<td><a href="./xref/org/opencastproject/search/impl/persistence/SearchServiceDatabaseImpl.html#L471">471</a></td></tr>
<tr class="b">
<td>org/opencastproject/search/impl/persistence/SearchServiceDatabaseImpl.java</td>
<td>Opencast :: search-service-impl</td>
<td><a href="./xref/org/opencastproject/search/impl/persistence/SearchServiceDatabaseImpl.html#L522">522</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>public Date getModificationDate(String mediaPackageId) throws NotFoundException, SearchServiceDatabaseException {
    try {
      return db.execTxChecked(em -&gt; {
        Optional&lt;SearchEntity&gt; searchEntity = getSearchEntityQuery(mediaPackageId).apply(em);
        if (searchEntity.isEmpty()) {
          throw new NotFoundException(&quot;No media package with id=&quot; + mediaPackageId + &quot; exists&quot;);
        }
        // Ensure this user is allowed to read this media package
        String accessControlXml = searchEntity.get().getAccessControl();
        if (accessControlXml != null) {
          AccessControlList acl = AccessControlParser.parseAcl(accessControlXml);
          User currentUser = securityService.getUser();
          Organization currentOrg = securityService.getOrganization();
          if (!AccessControlUtil.isAuthorized(acl, currentUser, currentOrg, READ.toString(), mediaPackageId)) {
            throw new UnauthorizedException(
                currentUser + &quot; is not authorized to read media package &quot; + mediaPackageId);
          }
        }
        return searchEntity.get().getModificationDate();</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/annotation/impl/AnnotationRestService.java</td>
<td>Opencast :: annotation-impl</td>
<td><a href="./xref/org/opencastproject/annotation/impl/AnnotationRestService.html#L148">148</a></td></tr>
<tr class="a">
<td>org/opencastproject/annotation/impl/AnnotationRestService.java</td>
<td>Opencast :: annotation-impl</td>
<td><a href="./xref/org/opencastproject/annotation/impl/AnnotationRestService.html#L222">222</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>name = &quot;annotationsasxml&quot;,
      description = &quot;Get annotations by key and day&quot;,
      returnDescription = &quot;The user annotations.&quot;,
      restParameters = {
          @RestParameter(
              name = &quot;episode&quot;,
              description = &quot;The episode identifier&quot;,
              isRequired = false,
              type = Type.STRING
          ),
          @RestParameter(
              name = &quot;type&quot;,
              description = &quot;The type of annotation&quot;,
              isRequired = false,
              type = Type.STRING
          ),
          @RestParameter(
              name = &quot;day&quot;,
              description = &quot;The day of creation (format: YYYYMMDD)&quot;,
              isRequired = false,
              type = Type.STRING
          ),
          @RestParameter(
              name = &quot;limit&quot;,
              description = &quot;The maximum number of items to return per page&quot;,
              isRequired = false,
              type = Type.INTEGER
          ),
          @RestParameter(
              name = &quot;offset&quot;,
              description = &quot;The page number&quot;,
              isRequired = false,
              type = Type.INTEGER
          ),
      },
      responses = {
          @RestResponse(responseCode = SC_OK, description = &quot;An XML representation of the user annotations&quot;),</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/mediapackage/MediaPackageParser.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/mediapackage/MediaPackageParser.html#L95">95</a></td></tr>
<tr class="a">
<td>org/opencastproject/elasticsearch/index/objects/event/Comment.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/event/Comment.html#L236">236</a></td></tr>
<tr class="b">
<td>org/opencastproject/elasticsearch/index/objects/event/Event.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/event/Event.html#L1200">1200</a></td></tr>
<tr class="a">
<td>org/opencastproject/elasticsearch/index/objects/series/Series.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/series/Series.html#L633">633</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>Marshaller marshaller = MediaPackageImpl.context.createMarshaller();

      Configuration config = new Configuration();
      config.setSupressAtAttributes(true);
      MappedNamespaceConvention con = new MappedNamespaceConvention(config);
      StringWriter writer = new StringWriter();
      XMLStreamWriter xmlStreamWriter = new MappedXMLStreamWriter(con, writer) {
        @Override
        public void writeStartElement(String prefix, String local, String uri) throws XMLStreamException {
          super.writeStartElement(&quot;&quot;, local, &quot;&quot;);
        }

        @Override
        public void writeStartElement(String uri, String local) throws XMLStreamException {
          super.writeStartElement(&quot;&quot;, local, &quot;&quot;);
        }

        @Override
        public void setPrefix(String pfx, String uri) throws XMLStreamException {
        }

        @Override
        public void setDefaultNamespace(String uri) throws XMLStreamException {
        }
      };

      marshaller.marshal(mediaPackage, xmlStreamWriter);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/composer/impl/EncoderEngine.java</td>
<td>Opencast :: composer-ffmpeg</td>
<td><a href="./xref/org/opencastproject/composer/impl/EncoderEngine.html#L850">850</a></td></tr>
<tr class="a">
<td>org/opencastproject/composer/impl/EncoderEngine.java</td>
<td>Opencast :: composer-ffmpeg</td>
<td><a href="./xref/org/opencastproject/composer/impl/EncoderEngine.html#L1019">1019</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}
          i++;
        }

        /* Remove unused commandline parts */
        cmd = cmd.replaceAll(&quot;#\\{.*?\\}&quot;, &quot;&quot;);
        // Find the output map based on splits and filters
        if (size == 1) { // no split
          if (afilter.get(indx) == null)
            apads.set(indx, adjustForNoComplexFilter(aInputPad));
          else
            apads.set(indx, &quot;[oa&quot; + indx + &quot;]&quot;);
          if (vfilter.get(indx) == null)
            vpads.set(indx, adjustForNoComplexFilter(vInputPad)); // No split, no filter - straight from input
          else
            vpads.set(indx, &quot;[ov&quot; + indx + &quot;]&quot;);

        } else { // split
          vpads.set(indx, &quot;[ov&quot; + indx + &quot;]&quot;); // name the output pads from split -&gt; input to final format
          apads.set(indx, &quot;[oa&quot; + indx + &quot;]&quot;); // name the output audio pads
        }
        cmd = StringUtils.trimToNull(cmd); // remove all leading/trailing white spaces
        if (cmd != null) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/userdirectory/JpaUserAndRoleProvider.java</td>
<td>Opencast :: userdirectory</td>
<td><a href="./xref/org/opencastproject/userdirectory/JpaUserAndRoleProvider.html#L469">469</a></td></tr>
<tr class="a">
<td>org/opencastproject/userdirectory/JpaUserReferenceProvider.java</td>
<td>Opencast :: userdirectory</td>
<td><a href="./xref/org/opencastproject/userdirectory/JpaUserReferenceProvider.html#L378">378</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>private void updateGroupMembership(JpaUser user) {
    logger.debug(&quot;updateGroupMembership({}, roles={})&quot;, user.getUsername(), user.getRoles().size());
    List&lt;String&gt; internalGroupRoles = new ArrayList&lt;&gt;();

    for (Role role : user.getRoles()) {
      if (Role.Type.GROUP.equals(role.getType())
          || (Role.Type.INTERNAL.equals(role.getType()) &amp;&amp; role.getName().startsWith(Group.ROLE_PREFIX))) {
        internalGroupRoles.add(role.getName());
      }
    }

    groupRoleProvider.updateGroupMembershipFromRoles(
        user.getUsername(),
        user.getOrganization().getId(),
        internalGroupRoles
    );
  }

  /**
   * Delete the given user
   *
   * @param username
   *          the name of the user to delete
   * @param orgId
   *          the organization id
   * @throws NotFoundException
   *          if the requested user is not exist
   * @throws org.opencastproject.security.api.UnauthorizedException
   *          if you havn't permissions to delete an admin user (only admins may do that)
   * @throws Exception
   */
  public void deleteUser(String username, String orgId) throws NotFoundException, UnauthorizedException, Exception {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/fileupload/service/FileUploadServiceCleaner.java</td>
<td>Opencast :: fileupload</td>
<td><a href="./xref/org/opencastproject/fileupload/service/FileUploadServiceCleaner.html#L82">82</a></td></tr>
<tr class="a">
<td>org/opencastproject/workingfilerepository/impl/WorkingFileRepositoryCleaner.java</td>
<td>Opencast :: working-file-repository-service-impl</td>
<td><a href="./xref/org/opencastproject/workingfilerepository/impl/WorkingFileRepositoryCleaner.html#L107">107</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>final Trigger trigger = TriggerUtils.makeHourlyTrigger();
      trigger.setStartTime(new Date());
      trigger.setName(TRIGGER_NAME);
      trigger.setGroup(TRIGGER_GROUP);
      trigger.setJobName(JOB_NAME);
      trigger.setJobGroup(JOB_GROUP);
      if (quartz.getTriggersOfJob(JOB_NAME, JOB_GROUP).length == 0) {
        quartz.scheduleJob(trigger);
      } else {
        quartz.rescheduleJob(TRIGGER_NAME, TRIGGER_GROUP, trigger);
      }
    } catch (Exception e) {
      logger.error(&quot;Error scheduling Quartz job&quot;, e);
    }
  }

  /** Shutdown the scheduler. */
  public void shutdown() {
    try {
      quartz.shutdown();
    } catch (org.quartz.SchedulerException ignore) {
    }
  }

  // just to make sure Quartz is being shut down...
  @Override
  protected void finalize() throws Throwable {
    super.finalize();
    shutdown();
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/JobEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/JobEndpoint.html#L171">171</a></td></tr>
<tr class="a">
<td>org/opencastproject/adminui/endpoint/ServicesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/ServicesEndpoint.html#L119">119</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>query.setOffset(offset);

    String fHostname = null;
    if (query.getHostname().isSome())
      fHostname = StringUtils.trimToNull(query.getHostname().get());
    String fNodeName = null;
    if (query.getNodeName().isSome())
      fNodeName = StringUtils.trimToNull(query.getNodeName().get());
    String fStatus = null;
    if (query.getStatus().isSome())
      fStatus = StringUtils.trimToNull(query.getStatus().get());
    String fFreeText = null;
    if (query.getFreeText().isSome())
      fFreeText = StringUtils.trimToNull(query.getFreeText().get());

    List&lt;JobExtended&gt; jobs = new ArrayList&lt;&gt;();</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/impl/endpoint/AbstractTieredStorageAssetManagerRestEndpoint.java</td>
<td>Opencast :: asset-manager-impl</td>
<td><a href="./xref/org/opencastproject/assetmanager/impl/endpoint/AbstractTieredStorageAssetManagerRestEndpoint.html#L204">204</a></td></tr>
<tr class="a">
<td>org/opencastproject/assetmanager/impl/endpoint/AbstractTieredStorageAssetManagerRestEndpoint.java</td>
<td>Opencast :: asset-manager-impl</td>
<td><a href="./xref/org/opencastproject/assetmanager/impl/endpoint/AbstractTieredStorageAssetManagerRestEndpoint.html#L280">280</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@RestParameter(
              name = &quot;start&quot;,
              isRequired = true,
              type = RestParameter.Type.STRING,
              defaultValue = &quot;&quot;,
              description = &quot;The start date, in the format yyyy-MM-dd'T'HH:mm:ss'Z'.&quot;),
          @RestParameter(
              name = &quot;end&quot;,
              isRequired = true,
              type = RestParameter.Type.STRING,
              defaultValue = &quot;&quot;,
              description = &quot;The end date, in the format yyyy-MM-dd'T'HH:mm:ss'Z'.&quot;),
          @RestParameter(
              name = &quot;target&quot;,
              isRequired = true,
              type = RestParameter.Type.STRING,
              defaultValue = &quot;&quot;,
              description = &quot;The target storage to move the mediapackage to.&quot;)},
      responses = {
          @RestResponse(
              description = &quot;The job created to move the snapshots.&quot;,
              responseCode = SC_OK),
          @RestResponse(
              description = &quot;Invalid parameters, and the job was not created&quot;,
              responseCode = SC_BAD_REQUEST),
          @RestResponse(
              description = &quot;There has been an internal error, and the job was not created&quot;,
              responseCode = SC_INTERNAL_SERVER_ERROR)},
      returnDescription = &quot;The Job created&quot;)
  public Response moveByDate(</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/elasticsearch/index/objects/event/EventQueryBuilder.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/event/EventQueryBuilder.html#L260">260</a></td></tr>
<tr class="a">
<td>org/opencastproject/elasticsearch/index/objects/theme/ThemeQueryBuilder.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/theme/ThemeQueryBuilder.html#L135">135</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>and(EventIndexSchema.TECHNICAL_PRESENTERS, query.getTechnicalPresenters());
    }

    // Text
    if (query.getTerms() != null) {
      for (SearchTerms&lt;String&gt; terms : query.getTerms()) {
        StringBuilder queryText = new StringBuilder();
        for (String term : terms.getTerms()) {
          if (queryText.length() &gt; 0) {
            queryText.append(&quot; &quot;);
          }
          queryText.append(term);
        }
        if (query.isFuzzySearch()) {
          fuzzyText = queryText.toString();
        } else {
          this.text = queryText.toString();
        }
        if (Quantifier.All.equals(terms.getQuantifier())) {
          if (groups == null) {
            groups = new ArrayList&lt;&gt;();</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/amberscript/AmberscriptTranscriptionService.java</td>
<td>Opencast :: transcription-service-amberscript</td>
<td><a href="./xref/org/opencastproject/transcription/amberscript/AmberscriptTranscriptionService.html#L823">823</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/googlespeech/GoogleSpeechTranscriptionService.java</td>
<td>Opencast :: transcription-service-google-speech-impl</td>
<td><a href="./xref/org/opencastproject/transcription/googlespeech/GoogleSpeechTranscriptionService.html#L731">731</a></td></tr>
<tr class="b">
<td>org/opencastproject/transcription/ibmwatson/IBMWatsonTranscriptionService.java</td>
<td>Opencast :: transcription-service-ibm-watson-impl</td>
<td><a href="./xref/org/opencastproject/transcription/ibmwatson/IBMWatsonTranscriptionService.html#L778">778</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>}

  @Override
  // Called by the attach workflow operation
  public MediaPackageElement getGeneratedTranscription(String mpId, String jobId, MediaPackageElement.Type type)
          throws TranscriptionServiceException {
    try {
      // If jobId is unknown, look for all jobs associated to that mpId
      if (jobId == null || &quot;null&quot;.equals(jobId)) {
        jobId = null;
        for (TranscriptionJobControl jc : database.findByMediaPackage(mpId)) {
          if (TranscriptionJobControl.Status.Closed.name().equals(jc.getStatus())
                  || TranscriptionJobControl.Status.TranscriptionComplete.name().equals(jc.getStatus())) {
            jobId = jc.getTranscriptionJobId();
          }
        }
      }

      if (jobId == null) {
        throw new TranscriptionServiceException(
                &quot;No completed or closed transcription job found in database for media package &quot; + mpId);
      }

      // Results already saved?
      URI uri = workspace.getCollectionURI(TRANSCRIPT_COLLECTION, jobId + &quot;.srt&quot;);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/AbstractEventEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/AbstractEventEndpoint.html#L918">918</a></td></tr>
<tr class="a">
<td>org/opencastproject/authorization/xacml/manager/endpoint/AbstractAclServiceRestEndpoint.java</td>
<td>Opencast :: authorization-manager</td>
<td><a href="./xref/org/opencastproject/authorization/xacml/manager/endpoint/AbstractAclServiceRestEndpoint.html#L336">336</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>Option&lt;AccessControlList&gt; aclOpt = Option.option(accessControlList);
        // the episode service is the source of authority for the retrieval of media packages
        if (mediaPackage.isPresent()) {
          MediaPackage episodeSvcMp = mediaPackage.get();
          aclOpt.fold(new Option.EMatch&lt;AccessControlList&gt;() {
            // set the new episode ACL
            @Override
            public void esome(final AccessControlList acl) {
              // update in episode service
              try {
                MediaPackage mp = getAuthorizationService().setAcl(episodeSvcMp, AclScope.Episode, acl).getA();
                getAssetManager().takeSnapshot(mp);
              } catch (MediaPackageException e) {
                logger.error(&quot;Error getting ACL from media package&quot;, e);
              }
            }

            // if none EpisodeACLTransition#isDelete returns true so delete the episode ACL
            @Override
            public void enone() {
              // update in episode service
              MediaPackage mp = getAuthorizationService().removeAcl(episodeSvcMp, AclScope.Episode);
              getAssetManager().takeSnapshot(mp);
            }

          });
          return ok();
        }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/annotation/impl/AnnotationServiceJpaImpl.java</td>
<td>Opencast :: annotation-impl</td>
<td><a href="./xref/org/opencastproject/annotation/impl/AnnotationServiceJpaImpl.html#L257">257</a></td></tr>
<tr class="a">
<td>org/opencastproject/usertracking/impl/UserTrackingServiceImpl.java</td>
<td>Opencast :: usertracking-impl</td>
<td><a href="./xref/org/opencastproject/usertracking/impl/UserTrackingServiceImpl.html#L416">416</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>AnnotationListImpl result = new AnnotationListImpl();

    int year = Integer.parseInt(day.substring(0, 4));
    int month = Integer.parseInt(day.substring(4, 6)) - 1;
    int date = Integer.parseInt(day.substring(6, 8));

    Calendar calBegin = new GregorianCalendar();
    calBegin.set(year, month, date, 0, 0);
    Calendar calEnd = new GregorianCalendar();
    calEnd.set(year, month, date, 23, 59);

    db.exec(em -&gt; {
      result.setTotal(getTotalQuery(calBegin, calEnd).apply(em));
      result.setOffset(offset);
      result.setLimit(limit);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/workingfilerepository/impl/WorkingFileRepositoryRestEndpoint.java</td>
<td>Opencast :: working-file-repository-service-impl</td>
<td><a href="./xref/org/opencastproject/workingfilerepository/impl/WorkingFileRepositoryRestEndpoint.html#L430">430</a></td></tr>
<tr class="a">
<td>org/opencastproject/workingfilerepository/impl/WorkingFileRepositoryRestEndpoint.java</td>
<td>Opencast :: working-file-repository-service-impl</td>
<td><a href="./xref/org/opencastproject/workingfilerepository/impl/WorkingFileRepositoryRestEndpoint.html#L454">454</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@RestQuery(name = &quot;copy&quot;, description = &quot;Copies a file from a collection to a mediapackage&quot;, returnDescription = &quot;A URL to the copied file&quot;, pathParameters = {
          @RestParameter(name = &quot;fromCollection&quot;, description = &quot;the collection identifier hosting the source&quot;, isRequired = true, type = STRING),
          @RestParameter(name = &quot;fromFileName&quot;, description = &quot;the source file name&quot;, isRequired = true, type = STRING),
          @RestParameter(name = &quot;toMediaPackage&quot;, description = &quot;the destination mediapackage identifier&quot;, isRequired = true, type = STRING),
          @RestParameter(name = &quot;toMediaPackageElement&quot;, description = &quot;the destination mediapackage element identifier&quot;, isRequired = true, type = STRING),
          @RestParameter(name = &quot;toFileName&quot;, description = &quot;the destination file name&quot;, isRequired = true, type = STRING) }, responses = {
          @RestResponse(responseCode = SC_OK, description = &quot;URL returned&quot;),
          @RestResponse(responseCode = SC_NOT_FOUND, description = &quot;File to copy not found&quot;) })</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/index/service/resources/list/query/JobsListQuery.java</td>
<td>Opencast :: index-service</td>
<td><a href="./xref/org/opencastproject/index/service/resources/list/query/JobsListQuery.html#L158">158</a></td></tr>
<tr class="a">
<td>org/opencastproject/index/service/resources/list/query/ServicesListQuery.java</td>
<td>Opencast :: index-service</td>
<td><a href="./xref/org/opencastproject/index/service/resources/list/query/ServicesListQuery.html#L231">231</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>return getFilterValue(ResourceListFilter.FREETEXT);
  }

  /**
   * Create a new {@link ResourceListFilter} based on a hostname.
   *
   * @param value the hostname to filter on wrapped in an {@link Option} or {@link Option#none()}
   * @return a new {@link ResourceListFilter} for a hostname based query
   */
  public static &lt;String&gt; ResourceListFilter&lt;String&gt; createHostnameFilter(Option&lt;String&gt; value) {
    return FiltersUtils.generateFilter(
            value,
            FILTER_NAME_HOSTNAME,
            FILTER_LABEL_HOSTNAME,
            ResourceListFilter.SourceType.SELECT,
            Option.some(ServersListProvider.LIST_HOSTNAME));
  }

  /**
   * Create a new {@link ResourceListFilter} based on a nodeName.
   *
   * @param value the nodeName to filter on wrapped in an {@link Option} or {@link Option#none()}
   * @return a new {@link ResourceListFilter} for a nodeName based query
   */
  public static ResourceListFilter&lt;String&gt; createNodeNameFilter(Option&lt;String&gt; value) {
    return FiltersUtils.generateFilter(
            value,
            FILTER_NAME_NODE_NAME,
            FILTER_LABEL_NODE_NAME,
            ResourceListFilter.SourceType.SELECT,
            Option.some(ServersListProvider.LIST_NODE_NAME));
  }

  /**
   * Create a new {@link ResourceListFilter} based on a status.
   *
   * @param value the status to filter on wrapped in an {@link Option} or {@link Option#none()}
   * @return a new {@link ResourceListFilter} for a status based query
   */
  public static &lt;String&gt; ResourceListFilter&lt;String&gt; createStatusFilter(Option&lt;String&gt; value) {
    return FiltersUtils.generateFilter(
            value,
            FILTER_NAME_STATUS,
            FILTER_LABEL_STATUS,
            ResourceListFilter.SourceType.SELECT,
            Option.some(JobsListProvider.LIST_STATUS));</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/plugin/command/PluginDisable.java</td>
<td>Opencast :: plugin-manager</td>
<td><a href="./xref/org/opencastproject/plugin/command/PluginDisable.html#L55">55</a></td></tr>
<tr class="a">
<td>org/opencastproject/plugin/command/PluginEnable.java</td>
<td>Opencast :: plugin-manager</td>
<td><a href="./xref/org/opencastproject/plugin/command/PluginEnable.html#L55">55</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@Argument(name = &quot;plugins&quot;, description = &quot;The name of the plugin to disable.&quot;, required = true, multiValued = true)
  @Completion(PluginNameCompleter.class)
  private List&lt;String&gt; plugins;

  @Option(name = &quot;--persist&quot;, description = &quot;Persist changes&quot;, required = false, multiValued = false)
  private boolean persist = false;

  @Override
  public Object execute() throws Exception {
    var properties = configRepository.getConfigAdmin()
        .getConfiguration(PluginManagerImpl.class.getName()).getProperties();

    Set&lt;String&gt; available = pluginManager.listAvailablePlugins();
    for (String plugin : plugins) {
      if (!available.contains(plugin)) {
        throw new IllegalArgumentException(&quot;Plugin &quot; + plugin + &quot; is invalid&quot;);
      } else {
        properties.put(plugin, &quot;off&quot;);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/workflowoperation/GoogleSpeechStartTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/GoogleSpeechStartTranscriptionOperationHandler.html#L83">83</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/workflowoperation/StartTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/StartTranscriptionOperationHandler.html#L71">71</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>private String language = null;

  @Override
  @Activate
  protected void activate(ComponentContext cc) {
    super.activate(cc);
  }

  /**
   * {@inheritDoc}
   *
   * @see
   * org.opencastproject.workflow.api.WorkflowOperationHandler#start(org.opencastproject.workflow.api.WorkflowInstance,
   * JobContext)
   */
  @Override
  public WorkflowOperationResult start(final WorkflowInstance workflowInstance, JobContext context)
          throws WorkflowOperationException {
    MediaPackage mediaPackage = workflowInstance.getMediaPackage();
    WorkflowOperationInstance operation = workflowInstance.getCurrentOperation();

    String skipOption = StringUtils.trimToNull(operation.getConfiguration(SKIP_IF_FLAVOR_EXISTS));
    if (skipOption != null) {
      MediaPackageElement[] mpes = mediaPackage.getElementsByFlavor(MediaPackageElementFlavor.parseFlavor(skipOption));
      if (mpes != null &amp;&amp; mpes.length &gt; 0) {
        logger.info(
                &quot;Start transcription operation will be skipped because flavor {} already exists in the media package&quot;,
                skipOption);
        return createResult(Action.SKIP);
      }
    }

    logger.debug(&quot;Start transcription for mediapackage {} started&quot;, mediaPackage);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/userdirectory/sakai/SakaiUserProviderInstance.java</td>
<td>Opencast :: userdirectory-sakai</td>
<td><a href="./xref/org/opencastproject/userdirectory/sakai/SakaiUserProviderInstance.html#L436">436</a></td></tr>
<tr class="a">
<td>org/opencastproject/userdirectory/sakai/SakaiUserProviderInstance.java</td>
<td>Opencast :: userdirectory-sakai</td>
<td><a href="./xref/org/opencastproject/userdirectory/sakai/SakaiUserProviderInstance.html#L499">499</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>URL url = new URL(sakaiUrl + &quot;/direct/membership/fastroles/&quot; + userId + &quot;.xml&quot; + &quot;?__auth=basic&quot;);
      String encoded = Base64.encodeBase64String((sakaiUsername + &quot;:&quot; + sakaiPassword).getBytes(&quot;utf8&quot;));

      HttpURLConnection connection = (HttpURLConnection) url.openConnection();
      connection.setRequestMethod(&quot;GET&quot;);
      connection.setDoOutput(true);
      connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encoded);
      connection.setRequestProperty(&quot;User-Agent&quot;, OC_USERAGENT);

      String xml = IOUtils.toString(new BufferedInputStream(connection.getInputStream()));
      logger.debug(xml);

      DocumentBuilder parser = XmlSafeParser.newDocumentBuilderFactory().newDocumentBuilder();

      Document document = parser.parse(new org.xml.sax.InputSource(new StringReader(xml)));

      Element root = document.getDocumentElement();</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/workflow/handler/workflow/ConfigureByDublinCoreTermWOH.java</td>
<td>Opencast :: workflow-workflowoperation</td>
<td><a href="./xref/org/opencastproject/workflow/handler/workflow/ConfigureByDublinCoreTermWOH.html#L115">115</a></td></tr>
<tr class="a">
<td>org/opencastproject/workflow/handler/workflow/TagByDublinCoreTermWOH.java</td>
<td>Opencast :: workflow-workflowoperation</td>
<td><a href="./xref/org/opencastproject/workflow/handler/workflow/TagByDublinCoreTermWOH.html#L156">156</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>Catalog[] catalogs = mediaPackage
            .getCatalogs(new MediaPackageElementFlavor(&quot;dublincore&quot;, StringUtils.lowerCase(configuredCatalog)));

    if (catalogs != null &amp;&amp; catalogs.length &gt; 0) {
      Boolean foundValue = false;
      EName dcterm = new EName(TERMS_NS_URI, configuredDCTerm);

      // Find DCTerm
      for (Catalog catalog : catalogs) {
        DublinCoreCatalog dc = DublinCoreUtil.loadDublinCore(workspace, catalog);
        // Match Value
        List&lt;DublinCoreValue&gt; values = dc.get(dcterm);
        if (values.isEmpty()) {
          // Use default
          if (configuredDefaultValue != null) {
            foundValue = configuredDefaultValue.equals(configuredMatchValue);
          }
        } else {
          foundValue = values.contains(DublinCoreValue.mk(configuredMatchValue));
        }
      }

      if (foundValue) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.html#L121">121</a></td></tr>
<tr class="a">
<td>org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.html#L370">370</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>AQueryBuilder q = assetManager.createQuery();
        final ASelectQuery idQuery = q.select(q.snapshot())
            .where(
                q.organizationId(securityService.getOrganization().getId())
                    .and(q.mediaPackageId(getMediaPackageId()))
                    .and(q.version().isLatest()));
        final AResult result = idQuery.run();
        if (result.getSize() &gt; 1) {
          return serverError();
        }
        if (result.getSize() == 0) {
          return notFound();
        }
        final ARecord item = result.getRecords().stream().findFirst().get();</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.html#L203">203</a></td></tr>
<tr class="a">
<td>org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.html#L370">370</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>AQueryBuilder q = assetManager.createQuery();
        final ASelectQuery idQuery = q.select(q.snapshot())
            .where(
                q.organizationId(securityService.getOrganization().getId())
                    .and(q.mediaPackageId(getMediaPackageId()))
                    .and(q.version().isLatest()));
        final AResult result = idQuery.run();
        if (result.getSize() &gt; 1) {
          return serverError();
        }
        if (result.getSize() == 0) {
          return notFound();
        }
        final ARecord item = result.getRecords().stream().findFirst().get();</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.html#L277">277</a></td></tr>
<tr class="a">
<td>org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.java</td>
<td>Opencast :: asset-manager-storage-aws</td>
<td><a href="./xref/org/opencastproject/assetmanager/aws/s3/endpoint/AwsS3RestEndpoint.html#L370">370</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>AQueryBuilder q = assetManager.createQuery();
        final ASelectQuery idQuery = q.select(q.snapshot())
            .where(
                q.organizationId(securityService.getOrganization().getId())
                    .and(q.mediaPackageId(getMediaPackageId()))
                    .and(q.version().isLatest()));
        final AResult result = idQuery.run();
        if (result.getSize() &gt; 1) {
          return serverError();
        }
        if (result.getSize() == 0) {
          return notFound();
        }
        final ARecord item = result.getRecords().stream().findFirst().get();</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/animate/impl/AnimateServiceImpl.java</td>
<td>Opencast :: animate-impl</td>
<td><a href="./xref/org/opencastproject/animate/impl/AnimateServiceImpl.html#L263">263</a></td></tr>
<tr class="a">
<td>org/opencastproject/videogrid/impl/VideoGridServiceImpl.java</td>
<td>Opencast :: videogrid-service-impl</td>
<td><a href="./xref/org/opencastproject/videogrid/impl/VideoGridServiceImpl.html#L276">276</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  @Override
  protected ServiceRegistry getServiceRegistry() {
    return serviceRegistry;
  }

  @Override
  protected SecurityService getSecurityService() {
    return securityService;
  }

  @Override
  protected UserDirectoryService getUserDirectoryService() {
    return userDirectoryService;
  }

  @Override
  protected OrganizationDirectoryService getOrganizationDirectoryService() {
    return organizationDirectoryService;
  }

  @Reference
  public void setWorkspace(Workspace workspace) {
    this.workspace = workspace;
  }

  @Reference
  public void setServiceRegistry(ServiceRegistry jobManager) {
    this.serviceRegistry = jobManager;
  }

  @Reference
  public void setSecurityService(SecurityService securityService) {
    this.securityService = securityService;
  }

  @Reference
  public void setUserDirectoryService(UserDirectoryService userDirectoryService) {
    this.userDirectoryService = userDirectoryService;
  }

  @Reference
  public void setOrganizationDirectoryService(OrganizationDirectoryService organizationDirectoryService) {
    this.organizationDirectoryService = organizationDirectoryService;
  }
}</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/impl/TimedMediaArchiver.java</td>
<td>Opencast :: asset-manager-impl</td>
<td><a href="./xref/org/opencastproject/assetmanager/impl/TimedMediaArchiver.html#L80">80</a></td></tr>
<tr class="a">
<td>org/opencastproject/scheduler/impl/OldScheduledScanner.java</td>
<td>Opencast :: scheduler-impl</td>
<td><a href="./xref/org/opencastproject/scheduler/impl/OldScheduledScanner.html#L70">70</a></td></tr>
<tr class="b">
<td>org/opencastproject/workflow/impl/WorkflowCleanupScanner.java</td>
<td>Opencast :: workflow-service-impl</td>
<td><a href="./xref/org/opencastproject/workflow/impl/WorkflowCleanupScanner.html#L94">94</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>public TimedMediaArchiver() {
    try {
      quartz = new StdSchedulerFactory().getScheduler();
      quartz.start();
      // create and set the job. To actually run it call schedule(..)
      final JobDetail job = new JobDetail(getJobName(), getJobGroup(), Runner.class);
      job.setDurability(false);
      job.setVolatility(true);
      job.getJobDataMap().put(JOB_PARAM_PARENT, this);
      quartz.addJob(job, true);
    } catch (org.quartz.SchedulerException e) {
      throw new RuntimeException(e);
    }
  }

  @Activate
  @Override
  public void activate(ComponentContext cc) {
    super.activate(cc);
  }

  @Deactivate
  @Override
  public void deactivate() {
    super.deactivate();
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/composer/impl/ComposerServiceImpl.java</td>
<td>Opencast :: composer-ffmpeg</td>
<td><a href="./xref/org/opencastproject/composer/impl/ComposerServiceImpl.html#L2275">2275</a></td></tr>
<tr class="a">
<td>org/opencastproject/videoeditor/impl/VideoEditorServiceImpl.java</td>
<td>Opencast :: videoeditor-ffmpeg-impl</td>
<td><a href="./xref/org/opencastproject/videoeditor/impl/VideoEditorServiceImpl.html#L243">243</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>for (SmilMediaObject element : smil.getBody().getMediaElements()) {
        // body should contain par elements
        if (element.isContainer()) {
          SmilMediaContainer container = (SmilMediaContainer) element;
          if (SmilMediaContainer.ContainerType.PAR == container.getContainerType()) {
            // par element should contain media elements
            for (SmilMediaObject elementChild : container.getElements()) {
              if (!elementChild.isContainer()) {
                SmilMediaElement media = (SmilMediaElement) elementChild;
                if (trackParamGroupId.equals(media.getParamGroup())) {
                  long begin = media.getClipBeginMS();
                  long end = media.getClipEndMS();
                  URI clipTrackURI = media.getSrc();
                  File clipSourceFile = null;
                  if (clipTrackURI != null) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/publication/youtube/YouTubeV3PublicationServiceImpl.java</td>
<td>Opencast :: publication-service-youtube-v3</td>
<td><a href="./xref/org/opencastproject/publication/youtube/YouTubeV3PublicationServiceImpl.html#L412">412</a></td></tr>
<tr class="a">
<td>org/opencastproject/sox/impl/SoxServiceImpl.java</td>
<td>Opencast :: sox-impl</td>
<td><a href="./xref/org/opencastproject/sox/impl/SoxServiceImpl.html#L414">414</a></td></tr>
<tr class="b">
<td>org/opencastproject/timelinepreviews/ffmpeg/TimelinePreviewsServiceImpl.java</td>
<td>Opencast :: timelinepreviews-ffmpeg</td>
<td><a href="./xref/org/opencastproject/timelinepreviews/ffmpeg/TimelinePreviewsServiceImpl.html#L488">488</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>}

  /**
   * Callback for the OSGi environment to set the workspace reference.
   *
   * @param workspace
   *          the workspace
   */
  @Reference
  protected void setWorkspace(Workspace workspace) {
    this.workspace = workspace;
  }

  /**
   * Callback for the OSGi environment to set the service registry reference.
   *
   * @param serviceRegistry
   *          the service registry
   */
  @Reference
  protected void setServiceRegistry(ServiceRegistry serviceRegistry) {
    this.serviceRegistry = serviceRegistry;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getServiceRegistry()
   */
  @Override
  protected ServiceRegistry getServiceRegistry() {
    return serviceRegistry;
  }

  /**
   * Callback for setting the security service.
   *
   * @param securityService
   *          the securityService to set
   */
  @Reference
  public void setSecurityService(SecurityService securityService) {
    this.securityService = securityService;
  }

  /**
   * Callback for setting the user directory service.
   *
   * @param userDirectoryService
   *          the userDirectoryService to set
   */
  @Reference
  public void setUserDirectoryService(UserDirectoryService userDirectoryService) {
    this.userDirectoryService = userDirectoryService;
  }

  /**
   * Sets a reference to the organization directory service.
   *
   * @param organizationDirectory
   *          the organization directory
   */
  @Reference
  public void setOrganizationDirectoryService(OrganizationDirectoryService organizationDirectory) {
    this.organizationDirectoryService = organizationDirectory;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getSecurityService()
   */
  @Override
  protected SecurityService getSecurityService() {
    return securityService;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getUserDirectoryService()
   */
  @Override
  protected UserDirectoryService getUserDirectoryService() {
    return userDirectoryService;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getOrganizationDirectoryService()
   */
  @Override
  protected OrganizationDirectoryService getOrganizationDirectoryService() {
    return organizationDirectoryService;
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/serviceregistry/impl/ServiceRegistryJpaImpl.java</td>
<td>Opencast :: serviceregistry</td>
<td><a href="./xref/org/opencastproject/serviceregistry/impl/ServiceRegistryJpaImpl.html#L2335">2335</a></td></tr>
<tr class="a">
<td>org/opencastproject/serviceregistry/impl/ServiceRegistryJpaImpl.java</td>
<td>Opencast :: serviceregistry</td>
<td><a href="./xref/org/opencastproject/serviceregistry/impl/ServiceRegistryJpaImpl.html#L2422">2422</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>final List&lt;ServiceRegistration&gt; filteredList = new ArrayList&lt;&gt;();

    for (ServiceRegistration service : serviceRegistrations) {
      // Skip service if host not available
      if (!hostBaseUrls.contains(service.getHost())) {
        logger.trace(&quot;Not considering {} because it's host {} is not available for dispatching&quot;, service,
                service.getHost());
        continue;
      }

      // Skip services that are not of the requested type
      if (!jobType.equals(service.getServiceType())) {
        logger.trace(&quot;Not considering {} because it is of the wrong job type&quot;, service);
        continue;
      }

      // Skip services that are in error state
      if (service.getServiceState() == ERROR) {
        logger.trace(&quot;Not considering {} because it is in error state&quot;, service);
        continue;
      }

      // Skip services that are in maintenance mode
      if (service.isInMaintenanceMode()) {
        logger.trace(&quot;Not considering {} because it is in maintenance mode&quot;, service);
        continue;
      }

      // Skip services that are marked as offline
      if (!service.isOnline()) {
        logger.trace(&quot;Not considering {} because it is currently offline&quot;, service);
        continue;
      }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/ThemesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/ThemesEndpoint.html#L344">344</a></td></tr>
<tr class="a">
<td>org/opencastproject/adminui/endpoint/ThemesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/ThemesEndpoint.html#L406">406</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>public Response createTheme(@FormParam(&quot;default&quot;) boolean isDefault, @FormParam(&quot;name&quot;) String name,
          @FormParam(&quot;description&quot;) String description, @FormParam(&quot;bumperActive&quot;) Boolean bumperActive,
          @FormParam(&quot;trailerActive&quot;) Boolean trailerActive, @FormParam(&quot;titleSlideActive&quot;) Boolean titleSlideActive,
          @FormParam(&quot;licenseSlideActive&quot;) Boolean licenseSlideActive,
          @FormParam(&quot;watermarkActive&quot;) Boolean watermarkActive, @FormParam(&quot;bumperFile&quot;) String bumperFile,
          @FormParam(&quot;trailerFile&quot;) String trailerFile, @FormParam(&quot;watermarkFile&quot;) String watermarkFile,
          @FormParam(&quot;titleSlideBackground&quot;) String titleSlideBackground,
          @FormParam(&quot;licenseSlideBackground&quot;) String licenseSlideBackground,
          @FormParam(&quot;titleSlideMetadata&quot;) String titleSlideMetadata,
          @FormParam(&quot;licenseSlideDescription&quot;) String licenseSlideDescription,
          @FormParam(&quot;watermarkPosition&quot;) String watermarkPosition) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/graphql/command/UpdateEventAclCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateEventAclCommand.html#L62">62</a></td></tr>
<tr class="a">
<td>org/opencastproject/graphql/command/UpdateSeriesAclCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateSeriesAclCommand.html#L61">61</a></td></tr>
<tr class="b">
<td>org/opencastproject/graphql/command/UpdateSeriesCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateSeriesCommand.html#L86">86</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>try {
      AccessControlList acl = new AccessControlList();
      for (var entry : aclInput.getEntries()) {
        for (var action : entry.getAction()) {
          acl.getEntries().add(new AccessControlEntry(entry.getRole(), action, true));
        }
      }

      if (aclInput.getManagedAclId() != null) {
        AclService aclService = context.getService(AclServiceFactory.class)
                                       .serviceFor(context.getService(SecurityService.class).getOrganization());
        aclService.getAcl(aclInput.getManagedAclId())
                  .ifPresent(value -&gt; acl.merge(value.getAcl()));
      }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/usertracking/impl/UserTrackingServiceImpl.java</td>
<td>Opencast :: usertracking-impl</td>
<td><a href="./xref/org/opencastproject/usertracking/impl/UserTrackingServiceImpl.html#L318">318</a></td></tr>
<tr class="a">
<td>org/opencastproject/usertracking/impl/UserTrackingServiceImpl.java</td>
<td>Opencast :: usertracking-impl</td>
<td><a href="./xref/org/opencastproject/usertracking/impl/UserTrackingServiceImpl.html#L415">415</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>public UserActionList getUserActionsByTypeAndDay(String type, String day, int offset, int limit) {
    UserActionList result = new UserActionListImpl();

    int year = Integer.parseInt(day.substring(0, 4));
    int month = Integer.parseInt(day.substring(4, 6)) - 1;
    int date = Integer.parseInt(day.substring(6, 8));

    Calendar calBegin = new GregorianCalendar();
    calBegin.set(year, month, date, 0, 0);
    Calendar calEnd = new GregorianCalendar();
    calEnd.set(year, month, date, 23, 59);

    db.exec(em -&gt; {
      result.setTotal(getTotalQuery(type, calBegin, calEnd).apply(em));</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/external/endpoint/EventsEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/EventsEndpoint.html#L425">425</a></td></tr>
<tr class="a">
<td>org/opencastproject/external/endpoint/EventsEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/EventsEndpoint.html#L762">762</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@RestParameter(name = &quot;eventId&quot;, description = &quot;The event id&quot;, isRequired = true, type = STRING) }, restParameters = {
                  @RestParameter(name = &quot;sign&quot;, isRequired = false, description = &quot;Whether public distribution urls should be signed.&quot;, type = Type.BOOLEAN),
                  @RestParameter(name = &quot;withacl&quot;, isRequired = false, description = &quot;Whether the acl metadata should be included in the response.&quot;, type = Type.BOOLEAN),
                  @RestParameter(name = &quot;withmetadata&quot;, isRequired = false, description = &quot;Whether the metadata catalogs should be included in the response.&quot;, type = Type.BOOLEAN),
                  @RestParameter(name = &quot;withscheduling&quot;, isRequired = false, description = &quot;Whether the scheduling information should be included in the response.&quot;, type = Type.BOOLEAN),
                  @RestParameter(name = &quot;withpublications&quot;, isRequired = false, description = &quot;Whether the publication ids and urls should be included in the response.&quot;, type = Type.BOOLEAN),
                  @RestParameter(name = &quot;includeInternalPublication&quot;, isRequired = false, description = &quot;Whether internal publications should be included.&quot;, type = Type.BOOLEAN)}, responses = {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/impl/query/AbstractASelectQuery.java</td>
<td>Opencast :: asset-manager-impl</td>
<td><a href="./xref/org/opencastproject/assetmanager/impl/query/AbstractASelectQuery.html#L291">291</a></td></tr>
<tr class="a">
<td>org/opencastproject/assetmanager/impl/query/AbstractASelectQuery.java</td>
<td>Opencast :: asset-manager-impl</td>
<td><a href="./xref/org/opencastproject/assetmanager/impl/query/AbstractASelectQuery.html#L313">313</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@Override public ARecordImpl apply(Tuple tuple) {
        final String mediaPackageId;
        SnapshotDto snapshotDto = null;
        final long id;
        // Only fetch the snapshot if it is in the fetch list.
        if (c.fetch.exists(Booleans.&lt;Expression&lt;?&gt;&gt;eq(Q_SNAPSHOT))) {
          snapshotDto = RequireUtil.notNull(tuple.get(Q_SNAPSHOT), &quot;[BUG] snapshot table data&quot;);
          id = snapshotDto.getId();
          mediaPackageId = snapshotDto.getMediaPackageId();
        } else {
          // The media package ID and the snapshot's database ID must always be fetched.
          id = RequireUtil.notNull(tuple.get(Q_SNAPSHOT.id), &quot;[BUG] snapshot table id&quot;);
          mediaPackageId = RequireUtil.notNull(
              tuple.get(Q_SNAPSHOT.mediaPackageId),
              &quot;[BUG] snapshot table media package id&quot;
          );
        }
        return new ARecordImpl(id, mediaPackageId, new ArrayList&lt;&gt;(), snapshotDto);
      }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/graphql/command/CreateSeriesCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/CreateSeriesCommand.html#L74">74</a></td></tr>
<tr class="a">
<td>org/opencastproject/graphql/command/UpdateEventAclCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateEventAclCommand.html#L63">63</a></td></tr>
<tr class="b">
<td>org/opencastproject/graphql/command/UpdateEventCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateEventCommand.html#L90">90</a></td></tr>
<tr class="a">
<td>org/opencastproject/graphql/command/UpdateSeriesAclCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateSeriesAclCommand.html#L62">62</a></td></tr>
<tr class="b">
<td>org/opencastproject/graphql/command/UpdateSeriesCommand.java</td>
<td>Opencast :: graphql</td>
<td><a href="./xref/org/opencastproject/graphql/command/UpdateSeriesCommand.html#L87">87</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>AccessControlList acl = new AccessControlList();
    for (var entry : aclInput.getEntries()) {
      for (var action : entry.getAction()) {
        acl.getEntries().add(new AccessControlEntry(entry.getRole(), action, true));
      }
    }

    if (aclInput.getManagedAclId() != null) {
      AclService aclService = context.getService(AclServiceFactory.class)
          .serviceFor(context.getService(SecurityService.class).getOrganization());
      aclService.getAcl(aclInput.getManagedAclId())
          .ifPresent(value -&gt; acl.merge(value.getAcl()));
    }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/microsoft/azure/MicrosoftAzureAuthorization.java</td>
<td>Opencast :: transcription-service-microsoft-azure</td>
<td><a href="./xref/org/opencastproject/transcription/microsoft/azure/MicrosoftAzureAuthorization.html#L94">94</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/microsoft/azure/MicrosoftAzureAuthorization.java</td>
<td>Opencast :: transcription-service-microsoft-azure</td>
<td><a href="./xref/org/opencastproject/transcription/microsoft/azure/MicrosoftAzureAuthorization.html#L165">165</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>queryArgs.add(&quot;srt=&quot; + StringUtils.trimToEmpty(signedResourceType));
    Date startDate = signedStart;
    if (startDate == null) {
      startDate = Date.from(Instant.now().minus(15, ChronoUnit.MINUTES));
    }
    stringBuilder.append(df.format(startDate) + &quot;\n&quot;);
    queryArgs.add(&quot;st=&quot; + df.format(startDate));
    Date endDate = signedExpiry;
    if (endDate == null) {
      endDate = Date.from(Instant.now().plus(1, ChronoUnit.DAYS));
    }
    stringBuilder.append(df.format(endDate) + &quot;\n&quot;);
    queryArgs.add(&quot;se=&quot; + df.format(endDate));</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/impl/AssetManagerImpl.java</td>
<td>Opencast :: asset-manager-impl</td>
<td><a href="./xref/org/opencastproject/assetmanager/impl/AssetManagerImpl.html#L558">558</a></td></tr>
<tr class="a">
<td>org/opencastproject/assetmanager/impl/AssetManagerImpl.java</td>
<td>Opencast :: asset-manager-impl</td>
<td><a href="./xref/org/opencastproject/assetmanager/impl/AssetManagerImpl.html#L1626">1626</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>event.setAccessPolicy(AccessControlParser.toJsonSilent(acl));
      event.setArchiveVersion(Long.parseLong(snapshot.getVersion().toString()));
      if (StringUtils.isBlank(event.getCreator())) {
        event.setCreator(securityService.getUser().getName());
      }
      EventIndexUtils.updateEvent(event, mp);

      // common metadata
      for (Catalog catalog: mp.getCatalogs(MediaPackageElements.EPISODE)) {
        try (InputStream in = workspace.read(catalog.getURI())) {
          EventIndexUtils.updateEvent(event, DublinCores.read(in));
        } catch (IOException | NotFoundException e) {
          throw new IllegalStateException(String.format(&quot;Unable to load common dublin core catalog for event '%s'&quot;,</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/elasticsearch/index/objects/theme/IndexTheme.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/theme/IndexTheme.html#L217">217</a></td></tr>
<tr class="a">
<td>org/opencastproject/themes/persistence/ThemeDto.java</td>
<td>Opencast :: themes</td>
<td><a href="./xref/org/opencastproject/themes/persistence/ThemeDto.html#L190">190</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  public boolean isBumperActive() {
    return bumperActive;
  }

  public void setBumperActive(boolean bumperActive) {
    this.bumperActive = bumperActive;
  }

  public String getBumperFile() {
    return bumperFile;
  }

  public void setBumperFile(String bumperFile) {
    this.bumperFile = bumperFile;
  }

  public boolean isTrailerActive() {
    return trailerActive;
  }

  public void setTrailerActive(boolean trailerActive) {
    this.trailerActive = trailerActive;
  }

  public String getTrailerFile() {
    return trailerFile;
  }

  public void setTrailerFile(String trailerFile) {
    this.trailerFile = trailerFile;
  }

  public boolean isTitleSlideActive() {
    return titleSlideActive;
  }

  public void setTitleSlideActive(boolean titleSlideActive) {
    this.titleSlideActive = titleSlideActive;
  }

  public String getTitleSlideMetadata() {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/workflowoperation/GoogleSpeechStartTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/GoogleSpeechStartTranscriptionOperationHandler.html#L138">138</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/workflowoperation/StartTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/StartTranscriptionOperationHandler.html#L113">113</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>language = StringUtils.trim(langCode);
    }
    if (!sourceTagOption.isEmpty()) {
      elementSelector.addTag(sourceTagOption.get(0));
    }

    Collection&lt;Track&gt; elements = elementSelector.select(mediaPackage, false);
    Job job = null;
    for (Track track : elements) {
      if (track.hasVideo()) {
        logger.info(&quot;Skipping track {} since it contains a video stream&quot;, track);
        continue;
      }
      if (!track.hasAudio()) {
        logger.info(&quot;Track {} from media package {} doesn't contain audio stream. Skip subtitle generation.&quot;,
            track.getFlavor(), mediaPackage.getIdentifier());
        continue;
      }
      try {
        job = service.startTranscription(mediaPackage.getIdentifier().toString(), track, language);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/elasticsearch/index/objects/event/EventIndexUtils.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/event/EventIndexUtils.html#L345">345</a></td></tr>
<tr class="a">
<td>org/opencastproject/elasticsearch/index/objects/series/SeriesIndexUtils.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/series/SeriesIndexUtils.html#L137">137</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  /**
   * Adds extended metadata fields to the input document
   *
   * @param doc
   *          the input document
   * @param extendedMetadata
   *          the extended metadata map
   */
  private static void addExtendedMetadata(SearchMetadataCollection doc, Map&lt;String, Map&lt;String,
          List&lt;String&gt;&gt;&gt; extendedMetadata) {
    for (String type: extendedMetadata.keySet()) {
      Map&lt;String, List&lt;String&gt;&gt; extendedMetadataByType = extendedMetadata.get(type);
      for (String name: extendedMetadataByType.keySet()) {
        List&lt;String&gt; values = extendedMetadataByType.get(name);
        String fieldName = SeriesIndexSchema.EXTENDED_METADATA_PREFIX.concat(type + &quot;_&quot; + name);
        doc.addField(fieldName, values, true);
      }
    }
  }

  /**
   * Adds authorization fields to the input document.
   *
   * @param doc
   *          the input document
   * @param aclString
   *          the access control list string
   */
  private static void addAuthorization(SearchMetadataCollection doc, String aclString,</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/ingest/endpoint/IngestRestService.java</td>
<td>Opencast :: ingest-service-impl</td>
<td><a href="./xref/org/opencastproject/ingest/endpoint/IngestRestService.html#L997">997</a></td></tr>
<tr class="a">
<td>org/opencastproject/ingest/endpoint/IngestRestService.java</td>
<td>Opencast :: ingest-service-impl</td>
<td><a href="./xref/org/opencastproject/ingest/endpoint/IngestRestService.html#L1022">1022</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@RestQuery(name = &quot;addZippedMediaPackage&quot;, description = &quot;Create media package from a compressed file containing a manifest.xml document and all media tracks, metadata catalogs and attachments&quot;, pathParameters = { @RestParameter(description = &quot;Workflow definition id&quot;, isRequired = true, name = WORKFLOW_DEFINITION_ID_PARAM, type = RestParameter.Type.STRING) }, restParameters = { @RestParameter(description = &quot;The workflow instance ID to associate with this zipped mediapackage&quot;, isRequired = false, name = WORKFLOW_INSTANCE_ID_PARAM, type = RestParameter.Type.STRING) }, bodyParameter = @RestParameter(description = &quot;The compressed (application/zip) media package file&quot;, isRequired = true, name = &quot;BODY&quot;, type = RestParameter.Type.FILE), responses = {
          @RestResponse(description = &quot;&quot;, responseCode = HttpServletResponse.SC_OK),
          @RestResponse(description = &quot;&quot;, responseCode = HttpServletResponse.SC_BAD_REQUEST),
          @RestResponse(description = &quot;&quot;, responseCode = HttpServletResponse.SC_NOT_FOUND),
          @RestResponse(description = &quot;&quot;, responseCode = HttpServletResponse.SC_SERVICE_UNAVAILABLE) }, returnDescription = &quot;&quot;)
  public Response addZippedMediaPackage(@Context HttpServletRequest request,</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/ingest/scanner/Ingestor.java</td>
<td>Opencast :: ingest-service-impl</td>
<td><a href="./xref/org/opencastproject/ingest/scanner/Ingestor.html#L526">526</a></td></tr>
<tr class="a">
<td>org/opencastproject/scheduler/impl/SchedulerServiceImpl.java</td>
<td>Opencast :: scheduler-impl</td>
<td><a href="./xref/org/opencastproject/scheduler/impl/SchedulerServiceImpl.html#L1643">1643</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  /**
   *
   * @param mp
   *          the mediapackage to update
   * @param dc
   *          the dublincore metadata to use to update the mediapackage
   * @return the updated mediapackage
   * @throws IOException
   *           Thrown if an IO error occurred adding the dc catalog file
   * @throws MediaPackageException
   *           Thrown if an error occurred updating the mediapackage or the mediapackage does not contain a catalog
   */
  private MediaPackage updateDublincCoreCatalog(MediaPackage mp, DublinCoreCatalog dc)
          throws IOException, MediaPackageException {
    try (InputStream inputStream = IOUtils.toInputStream(dc.toXmlString(), &quot;UTF-8&quot;)) {
      // Update dublincore catalog
      Catalog[] catalogs = mp.getCatalogs(MediaPackageElements.EPISODE);
      if (catalogs.length &gt; 0) {
        Catalog catalog = catalogs[0];
        URI uri = workspace.put(mp.getIdentifier().toString(), catalog.getIdentifier(), &quot;dublincore.xml&quot;, inputStream);
        catalog.setURI(uri);
        // setting the URI to a new source so the checksum will most like be invalid
        catalog.setChecksum(null);
      } else {
        throw new MediaPackageException(&quot;Unable to find catalog&quot;);
      }
    }
    return mp;
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/workflowoperation/AmberscriptStartTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/AmberscriptStartTranscriptionOperationHandler.html#L74">74</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/workflowoperation/StartTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/StartTranscriptionOperationHandler.html#L68">68</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>static final String SKIP_IF_FLAVOR_EXISTS = &quot;skip-if-flavor-exists&quot;;

  /** The transcription service */
  private TranscriptionService service = null;

  @Override
  @Activate
  protected void activate(ComponentContext cc) {
    super.activate(cc);
  }

  @Override
  public WorkflowOperationResult start(final WorkflowInstance workflowInstance, JobContext context)
          throws WorkflowOperationException {
    MediaPackage mediaPackage = workflowInstance.getMediaPackage();
    WorkflowOperationInstance operation = workflowInstance.getCurrentOperation();

    String skipOption = StringUtils.trimToNull(operation.getConfiguration(SKIP_IF_FLAVOR_EXISTS));
    if (skipOption != null) {
      MediaPackageElement[] mpes = mediaPackage.getElementsByFlavor(MediaPackageElementFlavor.parseFlavor(skipOption));
      if (mpes != null &amp;&amp; mpes.length &gt; 0) {
        logger.info(</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/AbstractEventEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/AbstractEventEndpoint.html#L1078">1078</a></td></tr>
<tr class="a">
<td>org/opencastproject/adminui/endpoint/AbstractEventEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/AbstractEventEndpoint.html#L1125">1125</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>Opt&lt;Event&gt; optEvent = getIndexService().getEvent(eventId, getIndex());
    if (optEvent.isNone())
      return notFound(&quot;Cannot find an event with id '%s'.&quot;, eventId);

    EventComment comment = null;
    EventCommentReply reply = null;
    try {
      comment = getEventCommentService().getComment(commentId);
      for (EventCommentReply r : comment.getReplies()) {
        if (r.getId().isNone() || replyId != r.getId().get().longValue())
          continue;
        reply = r;
        break;
      }

      if (reply == null)
        throw new NotFoundException(&quot;Reply with id &quot; + replyId + &quot; not found!&quot;);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/composer/remote/ComposerServiceRemoteImpl.java</td>
<td>Opencast :: composer-service-remote</td>
<td><a href="./xref/org/opencastproject/composer/remote/ComposerServiceRemoteImpl.html#L279">279</a></td></tr>
<tr class="a">
<td>org/opencastproject/composer/remote/ComposerServiceRemoteImpl.java</td>
<td>Opencast :: composer-service-remote</td>
<td><a href="./xref/org/opencastproject/composer/remote/ComposerServiceRemoteImpl.html#L345">345</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>params.add(new BasicNameValuePair(&quot;time&quot;, buildTimeArray(times)));
      post.setEntity(new UrlEncodedFormEntity(params, &quot;UTF-8&quot;));
    } catch (Exception e) {
      throw new EncoderException(e);
    }
    HttpResponse response = null;
    try {
      response = getResponse(post);
      if (response != null) {
        Job r = JobParser.parseJob(response.getEntity().getContent());
        logger.info(&quot;Image extraction job {} started on a remote composer&quot;, r.getId());
        return r;
      }
    } catch (Exception e) {
      throw new EncoderException(e);
    } finally {
      closeConnection(response);
    }
    throw new EncoderException(&quot;Unable to compose an image from track &quot; + sourceTrack
            + &quot; using the remote composer service proxy&quot;);
  }

  @Override
  public List&lt;Attachment&gt; imageSync(Track sourceTrack, String profileId, double... times) throws EncoderException, MediaPackageException {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/execute/remote/ExecuteServiceRemoteImpl.java</td>
<td>Opencast :: execute-remote</td>
<td><a href="./xref/org/opencastproject/execute/remote/ExecuteServiceRemoteImpl.html#L89">89</a></td></tr>
<tr class="a">
<td>org/opencastproject/execute/remote/ExecuteServiceRemoteImpl.java</td>
<td>Opencast :: execute-remote</td>
<td><a href="./xref/org/opencastproject/execute/remote/ExecuteServiceRemoteImpl.html#L134">134</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>formStringParams.add(new BasicNameValuePair(INPUT_ELEM_FORM_PARAM, inElementStr));
      if (outFileName != null)
        formStringParams.add(new BasicNameValuePair(OUTPUT_NAME_FORM_PARAMETER, outFileName));
      if (type != null)
        formStringParams.add(new BasicNameValuePair(TYPE_FORM_PARAMETER, type.toString()));

      logger.info(&quot;Executing command {} using a remote execute service&quot;, exec);

      post = new HttpPost(&quot;/&quot; + ExecuteService.ENDPOINT_NAME);
      post.setEntity(new UrlEncodedFormEntity(formStringParams, &quot;UTF-8&quot;));
      response = getResponse(post);

      if (response != null) {
        Job job = JobParser.parseJob(response.getEntity().getContent());
        logger.info(&quot;Completing execution of command {} using a remote execute service&quot;, exec);
        return job;
      } else</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/publication/configurable/endpoint/ConfigurablePublicationRestService.java</td>
<td>Opencast :: publication-service-configurable</td>
<td><a href="./xref/org/opencastproject/publication/configurable/endpoint/ConfigurablePublicationRestService.html#L125">125</a></td></tr>
<tr class="a">
<td>org/opencastproject/publication/configurable/endpoint/ConfigurablePublicationRestService.java</td>
<td>Opencast :: publication-service-configurable</td>
<td><a href="./xref/org/opencastproject/publication/configurable/endpoint/ConfigurablePublicationRestService.html#L190">190</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>returnDescription = &quot;The job that can be used to track the publication&quot;,
      restParameters = {
          @RestParameter(
              name = &quot;mediapackage&quot;,
              isRequired = true,
              description = &quot;The media package&quot;,
              type = RestParameter.Type.TEXT
          ),
          @RestParameter(
              name = &quot;channel&quot;,
              isRequired = true,
              description = &quot;The channel name&quot;,
              type = RestParameter.Type.STRING
          ),
          @RestParameter(
              name = &quot;addElements&quot;,
              isRequired = true,
              description = &quot;The media package elements to published&quot;,
              type = RestParameter.Type.STRING
          ),
          @RestParameter(
              name = &quot;retractElements&quot;,
              isRequired = true,
              description = &quot;The identifiers of the media package elements to be retracted from the media package&quot;,
              type = RestParameter.Type.STRING
          )
      },
      responses = {
          @RestResponse(
              responseCode = HttpServletResponse.SC_OK,
              description = &quot;An XML representation of the publication job&quot;</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/SeriesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/SeriesEndpoint.html#L434">434</a></td></tr>
<tr class="a">
<td>org/opencastproject/external/endpoint/SeriesEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/SeriesEndpoint.html#L630">630</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>newPublishers.setValue(series.getPublishers());
    metadata.addField(newPublishers);

    // Admin UI only field
    MetadataField createdBy = new MetadataField(
      &quot;createdBy&quot;,
      null,
      &quot;EVENTS.SERIES.DETAILS.METADATA.CREATED_BY&quot;,
      true,
      false,
      null,
      null,
      MetadataField.Type.TEXT,
      null,
      null,
      CREATED_BY_UI_ORDER,
      null,
      null,
      null,
      null);
    createdBy.setValue(series.getCreator());
    metadata.addField(createdBy);

    MetadataField uid = metadata.getOutputFields().get(DublinCore.PROPERTY_IDENTIFIER.getLocalName());
    metadata.removeField(uid);
    MetadataField newUID = new MetadataField(uid);
    newUID.setValue(series.getIdentifier());
    metadata.addField(newUID);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/scheduler/impl/OldScheduledScanner.java</td>
<td>Opencast :: scheduler-impl</td>
<td><a href="./xref/org/opencastproject/scheduler/impl/OldScheduledScanner.html#L175">175</a></td></tr>
<tr class="a">
<td>org/opencastproject/workflow/impl/WorkflowCleanupScanner.java</td>
<td>Opencast :: workflow-service-impl</td>
<td><a href="./xref/org/opencastproject/workflow/impl/WorkflowCleanupScanner.html#L249">249</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  /** Quartz job to which cleans up the workflow instances */
  public static class Runner extends TypedQuartzJob&lt;AbstractScanner&gt; {
    private static final NeedleEye eye = new NeedleEye();

    public Runner() {
      super(some(eye));
    }

    @Override
    protected void execute(final AbstractScanner parameters, JobExecutionContext ctx) {
      logger.debug(&quot;Starting &quot; + parameters.getScannerName() + &quot; job.&quot;);

      // iterate all organizations
      for (final Organization org : parameters.getOrganizationDirectoryService().getOrganizations()) {
        // set the organization on the current thread
        parameters.getAdminContextFor(org.getId()).runInContext(parameters::scan);
      }

      logger.info(&quot;Finished &quot; + parameters.getScannerName() + &quot; job.&quot;);
    }
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/usertracking/endpoint/UserTrackingRestService.java</td>
<td>Opencast :: usertracking-impl</td>
<td><a href="./xref/org/opencastproject/usertracking/endpoint/UserTrackingRestService.html#L155">155</a></td></tr>
<tr class="a">
<td>org/opencastproject/usertracking/endpoint/UserTrackingRestService.java</td>
<td>Opencast :: usertracking-impl</td>
<td><a href="./xref/org/opencastproject/usertracking/endpoint/UserTrackingRestService.html#L192">192</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@RestQuery(name = &quot;actionsasxml&quot;, description = &quot;Get user actions by type and day&quot;, returnDescription = &quot;The user actions.&quot;, restParameters = {
          @RestParameter(name = &quot;type&quot;, description = &quot;The type of the user action&quot;, isRequired = false, type = Type.STRING),
          @RestParameter(name = &quot;day&quot;, description = &quot;The day of creation (format: YYYYMMDD)&quot;, isRequired = false, type = Type.STRING),
          @RestParameter(name = &quot;limit&quot;, description = &quot;The maximum number of items to return per page&quot;, isRequired = false, type = Type.INTEGER),
          @RestParameter(name = &quot;offset&quot;, description = &quot;The page number&quot;, isRequired = false, type = Type.INTEGER) }, responses = { @RestResponse(responseCode = SC_OK, description = &quot;An XML representation of the user actions&quot;) })</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/usertracking/endpoint/UserTrackingRestService.java</td>
<td>Opencast :: usertracking-impl</td>
<td><a href="./xref/org/opencastproject/usertracking/endpoint/UserTrackingRestService.html#L228">228</a></td></tr>
<tr class="a">
<td>org/opencastproject/usertracking/endpoint/UserTrackingRestService.java</td>
<td>Opencast :: usertracking-impl</td>
<td><a href="./xref/org/opencastproject/usertracking/endpoint/UserTrackingRestService.html#L259">259</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@RestQuery(name = &quot;reportasxml&quot;, description = &quot;Get a report for a time range&quot;, returnDescription = &quot;The report.&quot;, restParameters = {
          @RestParameter(name = &quot;from&quot;, description = &quot;The beginning of the time range&quot;, isRequired = false, type = Type.STRING),
          @RestParameter(name = &quot;to&quot;, description = &quot;The end of the time range&quot;, isRequired = false, type = Type.STRING),
          @RestParameter(name = &quot;limit&quot;, description = &quot;The maximum number of items to return per page&quot;, isRequired = false, type = Type.INTEGER),
          @RestParameter(name = &quot;offset&quot;, description = &quot;The page number&quot;, isRequired = false, type = Type.INTEGER) }, responses = { @RestResponse(responseCode = SC_OK, description = &quot;An XML representation of the report&quot;) })</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/serviceregistry/api/HostRegistrationInMemory.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/serviceregistry/api/HostRegistrationInMemory.html#L69">69</a></td></tr>
<tr class="a">
<td>org/opencastproject/serviceregistry/api/JaxbHostRegistration.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/serviceregistry/api/JaxbHostRegistration.html#L214">214</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  @Override
  public float getMaxLoad() {
    return maxLoad;
  }

  @Override
  public void setMaxLoad(float maxLoad) {
    this.maxLoad = maxLoad;
  }

  @Override
  public boolean isActive() {
    return active;
  }

  @Override
  public void setActive(boolean active) {
    this.active = active;
  }

  @Override
  public boolean isOnline() {
    return online;
  }

  @Override
  public void setOnline(boolean online) {
    this.online = online;
  }

  @Override
  public boolean isMaintenanceMode() {
    return maintenanceMode;
  }

  @Override
  public void setMaintenanceMode(boolean maintenanceMode) {
    this.maintenanceMode = maintenanceMode;
  }

  @Override
  public String getIpAddress() {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/util/ZipUtil.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/util/ZipUtil.html#L315">315</a></td></tr>
<tr class="a">
<td>org/opencastproject/util/ZipUtil.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/util/ZipUtil.html#L354">354</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>throw new IllegalArgumentException(&quot;Destination file name must be set&quot;);
    }

    Vector&lt;java.io.File&gt; files = new Vector&lt;java.io.File&gt;();
    for (String name : sourceFiles) {
      if (name == null) {
        logger.error(&quot;One of the input file names is null&quot;);
        throw new IllegalArgumentException(&quot;One of the input file names is null&quot;);
      } else if (&quot;&quot;.equals(name)) {
        logger.error(&quot;One of the input file names is blank&quot;);
        throw new IllegalArgumentException(&quot;One of the input file names is blank&quot;);
      }
      files.add(new java.io.File(name));
    }

    return zip(files.toArray(new java.io.File[files.size()]), new java.io.File(destination), recursive, level);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/workflow/remote/WorkflowServiceRemoteImpl.java</td>
<td>Opencast :: workflow-service-remote</td>
<td><a href="./xref/org/opencastproject/workflow/remote/WorkflowServiceRemoteImpl.html#L387">387</a></td></tr>
<tr class="a">
<td>org/opencastproject/workflow/remote/WorkflowServiceRemoteImpl.java</td>
<td>Opencast :: workflow-service-remote</td>
<td><a href="./xref/org/opencastproject/workflow/remote/WorkflowServiceRemoteImpl.html#L422">422</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>HttpPost post = new HttpPost(&quot;/stop&quot;);
    List&lt;BasicNameValuePair&gt; params = new ArrayList&lt;&gt;();
    params.add(new BasicNameValuePair(&quot;id&quot;, Long.toString(workflowInstanceId)));
    try {
      post.setEntity(new UrlEncodedFormEntity(params, &quot;UTF-8&quot;));
    } catch (UnsupportedEncodingException e) {
      throw new IllegalStateException(&quot;Unable to assemble a remote workflow service request&quot;, e);
    }
    HttpResponse response = getResponse(post, SC_OK, SC_NOT_FOUND);
    try {
      if (response != null) {
        if (response.getStatusLine().getStatusCode() == SC_NOT_FOUND) {
          throw new NotFoundException(&quot;Workflow instance with id='&quot; + workflowInstanceId + &quot;' not found&quot;);
        } else {
          logger.info(&quot;Workflow '{}' stopped&quot;, workflowInstanceId);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/impl/endpoint/AbstractTieredStorageAssetManagerRestEndpoint.java</td>
<td>Opencast :: asset-manager-impl</td>
<td><a href="./xref/org/opencastproject/assetmanager/impl/endpoint/AbstractTieredStorageAssetManagerRestEndpoint.html#L239">239</a></td></tr>
<tr class="a">
<td>org/opencastproject/assetmanager/impl/endpoint/AbstractTieredStorageAssetManagerRestEndpoint.java</td>
<td>Opencast :: asset-manager-impl</td>
<td><a href="./xref/org/opencastproject/assetmanager/impl/endpoint/AbstractTieredStorageAssetManagerRestEndpoint.html#L321">321</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>Date start;
    Date end;
    try {
      start = sdf.parse(startString);
      end = sdf.parse(endString);
    } catch (ParseException e) {
      return badRequest(&quot;Invalid start or end date format&quot;);
    }

    if (end.before(start)) {
      return badRequest(&quot;Start date &quot; + start + &quot; must be before end date &quot; + end);
    }

    final String trimmedTarget = StringUtils.trimToNull(target);
    if (null == trimmedTarget) {
      return badRequest(&quot;Invalid target store ID: &quot; + trimmedTarget);
    } else if (!tsamjp.datastoreExists(trimmedTarget)) {
      return badRequest(&quot;Target store &quot; + trimmedTarget + &quot; not found&quot;);
    }

    try {
      Job j = tsamjp.moveByDate(start, end, trimmedTarget);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/composer/impl/EncoderEngine.java</td>
<td>Opencast :: composer-ffmpeg</td>
<td><a href="./xref/org/opencastproject/composer/impl/EncoderEngine.html#L1147">1147</a></td></tr>
<tr class="a">
<td>org/opencastproject/composer/impl/EncoderEngine.java</td>
<td>Opencast :: composer-ffmpeg</td>
<td><a href="./xref/org/opencastproject/composer/impl/EncoderEngine.html#L1179">1179</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>VideoClip vclip = clips.get(i);
        int fileindx = vclip.getSrc(); // get source file by index
        double inpt = vclip.getStart(); // get in points
        double duration = vclip.getDuration();
        double vend = Math.max(duration - vfade, 0);
        double aend = Math.max(duration - afade, 0);
        if (hasVideo) {
          String vvclip;
          vvclip = &quot;[&quot; + fileindx + &quot;:v]trim=&quot; + f.format(inpt) + &quot;:duration=&quot; + f.format(duration)
                  + &quot;,setpts=PTS-STARTPTS&quot;
                  + ((vfade &gt; 0) ? &quot;,fade=t=in:st=0:d=&quot; + vfade + &quot;,fade=t=out:st=&quot; + f.format(vend) + &quot;:d=&quot; + vfade
                          : &quot;&quot;)
                  + &quot;[&quot; + outmap + &quot;v&quot; + i + &quot;]&quot;;</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/distribution/aws/s3/remote/AwsS3DistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-aws-s3-remote</td>
<td><a href="./xref/org/opencastproject/distribution/aws/s3/remote/AwsS3DistributionServiceRemoteImpl.html#L99">99</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/download/remote/DownloadDistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-download-remote</td>
<td><a href="./xref/org/opencastproject/distribution/download/remote/DownloadDistributionServiceRemoteImpl.html#L96">96</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>return this.distributionChannel;
  }

  @Override
  public Job distribute(String channelId, MediaPackage mediaPackage, String elementId) throws DistributionException {
    return distribute(channelId, mediaPackage, elementId, true);
  }

  @Override
  public Job distribute(String channelId, MediaPackage mediaPackage, String elementId, boolean checkAvailability)
          throws DistributionException {
    Set&lt;String&gt; elementIds = new HashSet&lt;String&gt;();
    elementIds.add(elementId);
    return distribute(channelId, mediaPackage, elementIds, checkAvailability);
  }

  @Override
  public Job distribute(String channelId, final MediaPackage mediaPackage, Set&lt;String&gt; elementIds,
          boolean checkAvailability)
          throws DistributionException {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/distribution/aws/s3/remote/AwsS3DistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-aws-s3-remote</td>
<td><a href="./xref/org/opencastproject/distribution/aws/s3/remote/AwsS3DistributionServiceRemoteImpl.html#L144">144</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/streaming/remote/StreamingDistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-streaming-remote</td>
<td><a href="./xref/org/opencastproject/distribution/streaming/remote/StreamingDistributionServiceRemoteImpl.html#L159">159</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>param(PARAM_ELEMENT_ID, gson.toJson(elementIds)),
            param(PARAM_CHANNEL_ID, channelId));
    for (Job job : join(runRequest(req, jobFromHttpResponse))) {
      return job;
    }
    throw new DistributionException(format(&quot;Unable to retract '%s' elements of &quot;
                    + &quot;mediapackage '%s' using a remote destribution service proxy&quot;,
            elementIds.size(), mediaPackage.getIdentifier().toString()));
  }

  @Override
  public List&lt;MediaPackageElement&gt;  distributeSync(String channelId, MediaPackage mediaPackage, String elementId)
          throws DistributionException {
    Set&lt;String&gt; elementIds = new HashSet&lt;String&gt;();
    elementIds.add(elementId);
    return distributeSync(channelId, mediaPackage, elementIds, true);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/publication/oaipmh/OaiPmhPublicationServiceImpl.java</td>
<td>Opencast :: publication-service-oaipmh</td>
<td><a href="./xref/org/opencastproject/publication/oaipmh/OaiPmhPublicationServiceImpl.html#L1056">1056</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/microsoft/azure/MicrosoftAzureTranscriptionService.java</td>
<td>Opencast :: transcription-service-microsoft-azure</td>
<td><a href="./xref/org/opencastproject/transcription/microsoft/azure/MicrosoftAzureTranscriptionService.html#L843">843</a></td></tr>
<tr class="b">
<td>org/opencastproject/waveform/ffmpeg/WaveformServiceImpl.java</td>
<td>Opencast :: waveform-ffmpeg</td>
<td><a href="./xref/org/opencastproject/waveform/ffmpeg/WaveformServiceImpl.html#L487">487</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>}

  @Override
  protected ServiceRegistry getServiceRegistry() {
    return serviceRegistry;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getSecurityService()
   */
  @Override
  protected SecurityService getSecurityService() {
    return securityService;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getUserDirectoryService()
   */
  @Override
  protected UserDirectoryService getUserDirectoryService() {
    return userDirectoryService;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getOrganizationDirectoryService()
   */
  @Override
  protected OrganizationDirectoryService getOrganizationDirectoryService() {
    return organizationDirectoryService;
  }

  /** OSGI DI */
  @Reference
  public void setServiceRegistry(ServiceRegistry serviceRegistry) {
    this.serviceRegistry = serviceRegistry;
  }

  /** OSGI DI */
  @Reference
  public void setSecurityService(SecurityService securityService) {
    this.securityService = securityService;
  }

  /** OSGI DI */
  @Reference
  public void setUserDirectoryService(UserDirectoryService userDirectoryService) {
    this.userDirectoryService = userDirectoryService;
  }

  /** OSGI DI */
  @Reference
  public void setOrganizationDirectoryService(OrganizationDirectoryService organizationDirectoryService) {
    this.organizationDirectoryService = organizationDirectoryService;
  }

  /** OSGI DI */
  @Reference(target = &quot;(distribution.channel=download)&quot;)</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/execute/impl/ExecuteServiceImpl.java</td>
<td>Opencast :: execute-impl</td>
<td><a href="./xref/org/opencastproject/execute/impl/ExecuteServiceImpl.html#L566">566</a></td></tr>
<tr class="a">
<td>org/opencastproject/ingestdownloadservice/impl/IngestDownloadServiceImpl.java</td>
<td>Opencast :: ingest-download-service-impl</td>
<td><a href="./xref/org/opencastproject/ingestdownloadservice/impl/IngestDownloadServiceImpl.html#L133">133</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  /**
   * Sets the receipt service
   *
   * @param serviceRegistry
   *          the service registry
   */
  @Reference
  public void setServiceRegistry(ServiceRegistry serviceRegistry) {
    this.serviceRegistry = serviceRegistry;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getServiceRegistry()
   */
  @Override
  protected ServiceRegistry getServiceRegistry() {
    return serviceRegistry;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getSecurityService()
   */
  @Override
  protected SecurityService getSecurityService() {
    return securityService;
  }

  /**
   * Callback for setting the security service.
   *
   * @param securityService
   *          the securityService to set
   */
  @Reference
  public void setSecurityService(SecurityService securityService) {
    this.securityService = securityService;
  }

  /**
   * Callback for setting the user directory service.
   *
   * @param userDirectoryService
   *          the userDirectoryService to set
   */
  @Reference
  public void setUserDirectoryService(UserDirectoryService userDirectoryService) {
    this.userDirectoryService = userDirectoryService;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getUserDirectoryService()
   */
  @Override
  protected UserDirectoryService getUserDirectoryService() {
    return userDirectoryService;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getOrganizationDirectoryService()
   */
  @Override
  protected OrganizationDirectoryService getOrganizationDirectoryService() {
    return organizationDirectoryService;
  }

  /**
   * Sets a reference to the organization directory service.
   *
   * @param organizationDirectory
   *          the organization directory
   */
  @Reference
  public void setOrganizationDirectoryService(OrganizationDirectoryService organizationDirectory) {
    this.organizationDirectoryService = organizationDirectory;
  }

  /**
   * Sets a reference to the workspace service.
   *
   * @param workspace
   */
  @Reference</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/timelinepreviews/ffmpeg/TimelinePreviewsServiceImpl.java</td>
<td>Opencast :: timelinepreviews-ffmpeg</td>
<td><a href="./xref/org/opencastproject/timelinepreviews/ffmpeg/TimelinePreviewsServiceImpl.html#L499">499</a></td></tr>
<tr class="a">
<td>org/opencastproject/videosegmenter/ffmpeg/VideoSegmenterServiceImpl.java</td>
<td>Opencast :: videosegmenter-ffmpeg</td>
<td><a href="./xref/org/opencastproject/videosegmenter/ffmpeg/VideoSegmenterServiceImpl.html#L1325">1325</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  /**
   * Sets the receipt service
   *
   * @param serviceRegistry
   *            the service registry
   */
  @Reference
  protected void setServiceRegistry(ServiceRegistry serviceRegistry) {
    this.serviceRegistry = serviceRegistry;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getServiceRegistry()
   */
  @Override
  protected ServiceRegistry getServiceRegistry() {
    return serviceRegistry;
  }

  /**
   * Callback for setting the security service.
   *
   * @param securityService
   *            the securityService to set
   */
  @Reference
  public void setSecurityService(SecurityService securityService) {
    this.securityService = securityService;
  }

  /**
   * Callback for setting the user directory service.
   *
   * @param userDirectoryService
   *            the userDirectoryService to set
   */
  @Reference
  public void setUserDirectoryService(
      UserDirectoryService userDirectoryService) {
    this.userDirectoryService = userDirectoryService;
  }

  /**
   * Sets a reference to the organization directory service.
   *
   * @param organizationDirectory
   *            the organization directory
   */
  @Reference
  public void setOrganizationDirectoryService(
      OrganizationDirectoryService organizationDirectory) {
    this.organizationDirectoryService = organizationDirectory;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getSecurityService()
   */
  @Override
  protected SecurityService getSecurityService() {
    return securityService;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getUserDirectoryService()
   */
  @Override
  protected UserDirectoryService getUserDirectoryService() {
    return userDirectoryService;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getOrganizationDirectoryService()
   */
  @Override
  protected OrganizationDirectoryService getOrganizationDirectoryService() {
    return organizationDirectoryService;
  }

}</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/AbstractEventEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/AbstractEventEndpoint.html#L1317">1317</a></td></tr>
<tr class="a">
<td>org/opencastproject/adminui/endpoint/AbstractEventEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/AbstractEventEndpoint.html#L1613">1613</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>public Response getEventsMetadata(@FormParam(&quot;eventIds&quot;) String eventIds) throws Exception {
    if (StringUtils.isBlank(eventIds)) {
      return badRequest(&quot;Event ids can't be empty&quot;);
    }

    JSONParser parser = new JSONParser();
    List&lt;String&gt; ids;
    try {
      ids = (List&lt;String&gt;) parser.parse(eventIds);
    } catch (org.json.simple.parser.ParseException e) {
      logger.error(&quot;Unable to parse '{}'&quot;, eventIds, e);
      return badRequest(&quot;Unable to parse event ids&quot;);
    } catch (ClassCastException e) {
      logger.error(&quot;Unable to cast '{}'&quot;, eventIds, e);
      return badRequest(&quot;Unable to parse event ids&quot;);
    }

    Set&lt;String&gt; eventsNotFound = new HashSet();</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/auth/AssetManagerStaticFileAuthorization.java</td>
<td>Opencast :: asset-manager-static-file-authorization</td>
<td><a href="./xref/org/opencastproject/assetmanager/auth/AssetManagerStaticFileAuthorization.html#L105">105</a></td></tr>
<tr class="a">
<td>org/opencastproject/search/impl/SearchServiceImpl.java</td>
<td>Opencast :: search-service-impl</td>
<td><a href="./xref/org/opencastproject/search/impl/SearchServiceImpl.html#L401">401</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  @Override
  public boolean verifyUrlAccess(final String path) {
    // Always allow access for admin
    final User user = securityService.getUser();
    if (user.hasRole(GLOBAL_ADMIN_ROLE)) {
      logger.debug(&quot;Allow access for admin `{}`&quot;, user);
      return true;
    }

    // Check pattern
    final Matcher m = staticFilePattern.matcher(path);
    if (!m.matches()) {
      logger.debug(&quot;Path does not match pattern. Preventing access.&quot;);
      return false;
    }

    // Check organization
    final String organizationId = m.group(1);
    if (!securityService.getOrganization().getId().equals(organizationId)) {
      logger.debug(&quot;The user's organization does not match. Preventing access.&quot;);
      return false;
    }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/publication/youtube/YouTubeV3PublicationServiceImpl.java</td>
<td>Opencast :: publication-service-youtube-v3</td>
<td><a href="./xref/org/opencastproject/publication/youtube/YouTubeV3PublicationServiceImpl.html#L423">423</a></td></tr>
<tr class="a">
<td>org/opencastproject/videosegmenter/ffmpeg/VideoSegmenterServiceImpl.java</td>
<td>Opencast :: videosegmenter-ffmpeg</td>
<td><a href="./xref/org/opencastproject/videosegmenter/ffmpeg/VideoSegmenterServiceImpl.html#L1325">1325</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  /**
   * Callback for the OSGi environment to set the service registry reference.
   *
   * @param serviceRegistry
   *          the service registry
   */
  @Reference
  protected void setServiceRegistry(ServiceRegistry serviceRegistry) {
    this.serviceRegistry = serviceRegistry;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getServiceRegistry()
   */
  @Override
  protected ServiceRegistry getServiceRegistry() {
    return serviceRegistry;
  }

  /**
   * Callback for setting the security service.
   *
   * @param securityService
   *          the securityService to set
   */
  @Reference
  public void setSecurityService(SecurityService securityService) {
    this.securityService = securityService;
  }

  /**
   * Callback for setting the user directory service.
   *
   * @param userDirectoryService
   *          the userDirectoryService to set
   */
  @Reference
  public void setUserDirectoryService(UserDirectoryService userDirectoryService) {
    this.userDirectoryService = userDirectoryService;
  }

  /**
   * Sets a reference to the organization directory service.
   *
   * @param organizationDirectory
   *          the organization directory
   */
  @Reference
  public void setOrganizationDirectoryService(OrganizationDirectoryService organizationDirectory) {
    this.organizationDirectoryService = organizationDirectory;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getSecurityService()
   */
  @Override
  protected SecurityService getSecurityService() {
    return securityService;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getUserDirectoryService()
   */
  @Override
  protected UserDirectoryService getUserDirectoryService() {
    return userDirectoryService;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getOrganizationDirectoryService()
   */
  @Override
  protected OrganizationDirectoryService getOrganizationDirectoryService() {
    return organizationDirectoryService;
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/sox/impl/SoxServiceImpl.java</td>
<td>Opencast :: sox-impl</td>
<td><a href="./xref/org/opencastproject/sox/impl/SoxServiceImpl.html#L425">425</a></td></tr>
<tr class="a">
<td>org/opencastproject/videosegmenter/ffmpeg/VideoSegmenterServiceImpl.java</td>
<td>Opencast :: videosegmenter-ffmpeg</td>
<td><a href="./xref/org/opencastproject/videosegmenter/ffmpeg/VideoSegmenterServiceImpl.html#L1325">1325</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  /**
   * Sets the service registry
   *
   * @param serviceRegistry
   *          the service registry
   */
  @Reference
  protected void setServiceRegistry(ServiceRegistry serviceRegistry) {
    this.serviceRegistry = serviceRegistry;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getServiceRegistry()
   */
  @Override
  protected ServiceRegistry getServiceRegistry() {
    return serviceRegistry;
  }

  /**
   * Callback for setting the security service.
   *
   * @param securityService
   *          the securityService to set
   */
  @Reference
  public void setSecurityService(SecurityService securityService) {
    this.securityService = securityService;
  }

  /**
   * Callback for setting the user directory service.
   *
   * @param userDirectoryService
   *          the userDirectoryService to set
   */
  @Reference
  public void setUserDirectoryService(UserDirectoryService userDirectoryService) {
    this.userDirectoryService = userDirectoryService;
  }

  /**
   * Sets a reference to the organization directory service.
   *
   * @param organizationDirectory
   *          the organization directory
   */
  @Reference
  public void setOrganizationDirectoryService(OrganizationDirectoryService organizationDirectory) {
    this.organizationDirectoryService = organizationDirectory;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getSecurityService()
   */
  @Override
  protected SecurityService getSecurityService() {
    return securityService;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getUserDirectoryService()
   */
  @Override
  protected UserDirectoryService getUserDirectoryService() {
    return userDirectoryService;
  }

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#getOrganizationDirectoryService()
   */
  @Override
  protected OrganizationDirectoryService getOrganizationDirectoryService() {
    return organizationDirectoryService;
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/caption/converters/GoogleSpeechCaptionConverter.java</td>
<td>Opencast :: caption-impl</td>
<td><a href="./xref/org/opencastproject/caption/converters/GoogleSpeechCaptionConverter.html#L136">136</a></td></tr>
<tr class="a">
<td>org/opencastproject/caption/converters/IBMWatsonCaptionConverter.java</td>
<td>Opencast :: caption-impl</td>
<td><a href="./xref/org/opencastproject/caption/converters/IBMWatsonCaptionConverter.html#L132">132</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}
                  if (start == -1 || end == -1) {
                    logger.warn(&quot;Could not build caption object for job {}, result index {}: start/end times not found&quot;, jobId, i);
                    continue resultsLoop;
                  }

                  String[] captionLines = new String[1];
                  captionLines[0] = line.toString().replace(&quot;%HESITATION&quot;, &quot;...&quot;);
                  captionList.add(new CaptionImpl(buildTime((long) (start * 1000)), buildTime((long) (end * 1000)), captionLines));
                  indexFirst = -1;
                  indexLast = -1;
                  line.setLength(0);
                }
              }
            }
          }
        }
      }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/caption/converters/Mpeg7CaptionConverter.java</td>
<td>Opencast :: caption-impl</td>
<td><a href="./xref/org/opencastproject/caption/converters/Mpeg7CaptionConverter.html#L100">100</a></td></tr>
<tr class="a">
<td>org/opencastproject/caption/converters/Mpeg7CaptionConverter.java</td>
<td>Opencast :: caption-impl</td>
<td><a href="./xref/org/opencastproject/caption/converters/Mpeg7CaptionConverter.html#L261">261</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>content: while (audioContentIterator.hasNext()) {
      Audio audioContent = audioContentIterator.next();
      TemporalDecomposition&lt;AudioSegment&gt; audioSegments = (TemporalDecomposition&lt;AudioSegment&gt;) audioContent
              .getTemporalDecomposition();
      Iterator&lt;AudioSegment&gt; audioSegmentIterator = audioSegments.segments();
      if (audioSegmentIterator == null)
        continue content;
      while (audioSegmentIterator.hasNext()) {
        AudioSegment segment = audioSegmentIterator.next();
        Iterator&lt;TextAnnotation&gt; annotationIterator = segment.textAnnotations();
        if (annotationIterator == null)
          continue content;
        while (annotationIterator.hasNext()) {
          TextAnnotation annotation = annotationIterator.next();</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/composer/impl/endpoint/ComposerRestService.java</td>
<td>Opencast :: composer-ffmpeg</td>
<td><a href="./xref/org/opencastproject/composer/impl/endpoint/ComposerRestService.html#L214">214</a></td></tr>
<tr class="a">
<td>org/opencastproject/composer/impl/endpoint/ComposerRestService.java</td>
<td>Opencast :: composer-ffmpeg</td>
<td><a href="./xref/org/opencastproject/composer/impl/endpoint/ComposerRestService.html#L767">767</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>public Response encode(@FormParam(&quot;sourceTrack&quot;) String sourceTrackAsXml, @FormParam(&quot;profileId&quot;) String profileId)
          throws Exception {
    // Ensure that the POST parameters are present
    if (StringUtils.isBlank(sourceTrackAsXml) || StringUtils.isBlank(profileId))
      return Response.status(Response.Status.BAD_REQUEST).entity(&quot;sourceTrack and profileId must not be null&quot;).build();

    // Deserialize the track
    MediaPackageElement sourceTrack = MediaPackageElementParser.getFromXml(sourceTrackAsXml);
    if (!Track.TYPE.equals(sourceTrack.getElementType()))
      return Response.status(Response.Status.BAD_REQUEST).entity(&quot;sourceTrack element must be of type track&quot;).build();

    try {
      // Asynchronously encode the specified tracks
      Job job = composerService.encode((Track) sourceTrack, profileId);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/annotation/impl/AnnotationServiceJpaImpl.java</td>
<td>Opencast :: annotation-impl</td>
<td><a href="./xref/org/opencastproject/annotation/impl/AnnotationServiceJpaImpl.html#L257">257</a></td></tr>
<tr class="a">
<td>org/opencastproject/usertracking/impl/UserTrackingServiceImpl.java</td>
<td>Opencast :: usertracking-impl</td>
<td><a href="./xref/org/opencastproject/usertracking/impl/UserTrackingServiceImpl.html#L319">319</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>AnnotationListImpl result = new AnnotationListImpl();

    int year = Integer.parseInt(day.substring(0, 4));
    int month = Integer.parseInt(day.substring(4, 6)) - 1;
    int date = Integer.parseInt(day.substring(6, 8));

    Calendar calBegin = new GregorianCalendar();
    calBegin.set(year, month, date, 0, 0);
    Calendar calEnd = new GregorianCalendar();
    calEnd.set(year, month, date, 23, 59);

    db.exec(em -&gt; {
      result.setTotal(getTotalQuery(calBegin, calEnd).apply(em));</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/util/data/Monadics.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/util/data/Monadics.html#L215">215</a></td></tr>
<tr class="a">
<td>org/opencastproject/util/data/Monadics.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/util/data/Monadics.html#L356">356</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>final List&lt;B&gt; target = newListBuilder(as.size());
        for (A a : as) target.add(f.apply(a));
        return mlist(target);
      }

      @Override
      public &lt;B&gt; ListMonadic&lt;B&gt; bind(Function&lt;? super A, ? extends Iterable&lt;B&gt;&gt; f) {
        final List&lt;B&gt; target = newListBuilder();
        for (A a : as)
          appendTo(target, f.apply(a));
        return mlist(target);
      }

      @Override
      public ListMonadic&lt;A&gt; filter(Function&lt;? super A, Boolean&gt; p) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/elasticsearch/index/objects/event/Comment.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/event/Comment.html#L280">280</a></td></tr>
<tr class="a">
<td>org/opencastproject/elasticsearch/index/objects/event/Event.java</td>
<td>Opencast :: elasticsearch-index</td>
<td><a href="./xref/org/opencastproject/elasticsearch/index/objects/event/Event.html#L1244">1244</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>Marshaller marshaller = Comment.context.createMarshaller();
      marshaller.marshal(this, writer);
      return writer.toString();
    } catch (JAXBException e) {
      throw new IllegalStateException(e.getLinkedException() != null ? e.getLinkedException() : e);
    }
  }

  /**
   * Create an unmarshaller for comments
   * @return an unmarshaller for comments
   * @throws IOException
   */
  public static Unmarshaller createUnmarshaller() throws IOException {
    try {
      if (context == null) {
        createJAXBContext();
      }
      return context.createUnmarshaller();
    } catch (JAXBException e) {
      throw new IOException(e.getLinkedException() != null ? e.getLinkedException() : e);
    }
  }

}</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/workflow/handler/mattermost/notification/MattermostNotificationWorkflowOperationHandler.java</td>
<td>Opencast :: mattermost-notification-workflowoperation</td>
<td><a href="./xref/org/opencastproject/workflow/handler/mattermost/notification/MattermostNotificationWorkflowOperationHandler.html#L288">288</a></td></tr>
<tr class="a">
<td>org/opencastproject/workflow/handler/notification/HttpNotificationWorkflowOperationHandler.java</td>
<td>Opencast :: notification-workflowoperation</td>
<td><a href="./xref/org/opencastproject/workflow/handler/notification/HttpNotificationWorkflowOperationHandler.html#L225">225</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>logger.error(&quot;I/O error during execution of query on target {}&quot;, request.getURI(), e);
      return false;
    }

    Integer statusCode = response.getStatusLine().getStatusCode();
    if (statusCode == SC_OK || statusCode == SC_NO_CONTENT || statusCode == SC_ACCEPTED) {
      logger.debug(&quot;Request successfully executed on target {}, status code: {}&quot;, request.getURI(), statusCode);
      return true;
    } else if (maxAttempts &gt; 1) {
      logger.debug(&quot;Request failed on target {}, status code: {}, will retry in {} seconds&quot;, request.getURI(),
              statusCode, sleepTime / 1000);
      try {
        Thread.sleep(sleepTime);
        return executeRequest(request, --maxAttempts, timeout, sleepTime * SLEEP_SCALE_FACTOR);
      } catch (InterruptedException e) {
        logger.error(&quot;Error during sleep time before new notification request try&quot;, e);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/series/remote/SeriesServiceRemoteImpl.java</td>
<td>Opencast :: series-service-remote</td>
<td><a href="./xref/org/opencastproject/series/remote/SeriesServiceRemoteImpl.html#L243">243</a></td></tr>
<tr class="a">
<td>org/opencastproject/series/remote/SeriesServiceRemoteImpl.java</td>
<td>Opencast :: series-service-remote</td>
<td><a href="./xref/org/opencastproject/series/remote/SeriesServiceRemoteImpl.html#L517">517</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>HttpDelete del = new HttpDelete(seriesID);
    HttpResponse response = getResponse(del, SC_OK, SC_NOT_FOUND, SC_UNAUTHORIZED);
    try {
      if (response != null) {
        int statusCode = response.getStatusLine().getStatusCode();
        if (SC_NOT_FOUND == statusCode) {
          throw new NotFoundException(&quot;Series not found: &quot; + seriesID);
        } else if (SC_UNAUTHORIZED == statusCode) {
          throw new UnauthorizedException(&quot;Not authorized to delete series &quot; + seriesID);
        } else if (SC_OK == statusCode) {
          logger.info(&quot;Successfully deleted {} from the remote series index&quot;, seriesID);
          return;
        }
      }
    } finally {
      closeConnection(response);
    }
    throw new SeriesException(&quot;Unable to remove &quot; + seriesID + &quot; from a remote series index&quot;);
  }

  @GET</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/workflowoperation/AmberscriptStartTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/AmberscriptStartTranscriptionOperationHandler.html#L77">77</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/workflowoperation/GoogleSpeechStartTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/GoogleSpeechStartTranscriptionOperationHandler.html#L83">83</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>private TranscriptionService service = null;

  @Override
  @Activate
  protected void activate(ComponentContext cc) {
    super.activate(cc);
  }

  @Override
  public WorkflowOperationResult start(final WorkflowInstance workflowInstance, JobContext context)
          throws WorkflowOperationException {
    MediaPackage mediaPackage = workflowInstance.getMediaPackage();
    WorkflowOperationInstance operation = workflowInstance.getCurrentOperation();

    String skipOption = StringUtils.trimToNull(operation.getConfiguration(SKIP_IF_FLAVOR_EXISTS));
    if (skipOption != null) {
      MediaPackageElement[] mpes = mediaPackage.getElementsByFlavor(MediaPackageElementFlavor.parseFlavor(skipOption));
      if (mpes != null &amp;&amp; mpes.length &gt; 0) {
        logger.info(</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/serviceregistry/impl/endpoint/ServiceRegistryEndpoint.java</td>
<td>Opencast :: serviceregistry</td>
<td><a href="./xref/org/opencastproject/serviceregistry/impl/endpoint/ServiceRegistryEndpoint.html#L336">336</a></td></tr>
<tr class="a">
<td>org/opencastproject/serviceregistry/impl/endpoint/ServiceRegistryEndpoint.java</td>
<td>Opencast :: serviceregistry</td>
<td><a href="./xref/org/opencastproject/serviceregistry/impl/endpoint/ServiceRegistryEndpoint.html#L350">350</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@Produces(MediaType.APPLICATION_JSON)
  @RestQuery(name = &quot;health&quot;, description = &quot;Checks the status of the registered services&quot;, returnDescription = &quot;Returns NO_CONTENT if services are in a proper state&quot;, restParameters = {
          @RestParameter(name = &quot;serviceType&quot;, isRequired = false, type = Type.STRING, description = &quot;The service type identifier&quot;),
          @RestParameter(name = &quot;host&quot;, isRequired = false, type = Type.STRING, description = &quot;The host, including the http(s) protocol&quot;) }, responses = {
          @RestResponse(responseCode = SC_OK, description = &quot;Service states returned&quot;),
          @RestResponse(responseCode = SC_NOT_FOUND, description = &quot;No service of that type on that host is registered.&quot;),
          @RestResponse(responseCode = SC_SERVICE_UNAVAILABLE, description = &quot;An error has occurred during stats processing&quot;) })
  public Response getHealthStatusAsJson(@QueryParam(&quot;serviceType&quot;) String serviceType, @QueryParam(&quot;host&quot;) String host)</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/googlespeech/GoogleSpeechTranscriptionService.java</td>
<td>Opencast :: transcription-service-google-speech-impl</td>
<td><a href="./xref/org/opencastproject/transcription/googlespeech/GoogleSpeechTranscriptionService.html#L1063">1063</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/ibmwatson/IBMWatsonTranscriptionService.java</td>
<td>Opencast :: transcription-service-ibm-watson-impl</td>
<td><a href="./xref/org/opencastproject/transcription/ibmwatson/IBMWatsonTranscriptionService.html#L959">959</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>logger.debug(&quot;No jobs yet for provider {}&quot;, PROVIDER);
          return;
        }

        List&lt;TranscriptionJobControl&gt; jobs = database.findByStatus(TranscriptionJobControl.Status.InProgress.name(),
                TranscriptionJobControl.Status.TranscriptionComplete.name());
        for (TranscriptionJobControl j : jobs) {

          // Don't process jobs for other services
          if (j.getProviderId() != providerId) {
            continue;
          }

          String mpId = j.getMediaPackageId();
          String jobId = j.getTranscriptionJobId();

          // If the job in progress, check if it should already have finished.
          if (TranscriptionJobControl.Status.InProgress.name().equals(j.getStatus())) {
            // If job should already have been completed, try to get the results. Consider a buffer factor so that we
            // don't try it too early. Results normally should be ready 1/3 of the time of the track duration.
            // The completionCheckBuffer can be used to delay results check.
            if (j.getDateCreated().getTime() + (j.getTrackDuration() / 3) + completionCheckBuffer * 1000 &lt; System</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/microsoft/azure/MicrosoftAzureSpeechServicesClient.java</td>
<td>Opencast :: transcription-service-microsoft-azure</td>
<td><a href="./xref/org/opencastproject/transcription/microsoft/azure/MicrosoftAzureSpeechServicesClient.html#L140">140</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/microsoft/azure/MicrosoftAzureSpeechServicesClient.java</td>
<td>Opencast :: transcription-service-microsoft-azure</td>
<td><a href="./xref/org/opencastproject/transcription/microsoft/azure/MicrosoftAzureSpeechServicesClient.html#L248">248</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>String url = StringUtils.trimToEmpty(transcriptionUrl);
    try (CloseableHttpClient httpClient = HttpUtils.makeHttpClient()) {
      HttpGet httpGet = new HttpGet(url);
      httpGet.addHeader(&quot;Ocp-Apim-Subscription-Key&quot;, azureCognitiveServicesSubscriptionKey);
      try (CloseableHttpResponse response = httpClient.execute(httpGet)) {
        int code = response.getStatusLine().getStatusCode();
        String responseString = &quot;&quot;;
        if (response.getEntity() != null) {
          responseString = EntityUtils.toString(response.getEntity());
        }
        switch (code) {
          case HttpStatus.SC_OK: // 200
            break;
          case HttpStatus.SC_FORBIDDEN: // 403
            throw new MicrosoftAzureNotAllowedException(String.format(&quot;Not allowed to get transcription '%s'. &quot;</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/workflowoperation/GoogleSpeechStartTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/GoogleSpeechStartTranscriptionOperationHandler.html#L118">118</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/workflowoperation/StartTranscriptionOperationHandler.java</td>
<td>Opencast :: transcription-service-workflowoperation</td>
<td><a href="./xref/org/opencastproject/transcription/workflowoperation/StartTranscriptionOperationHandler.html#L96">96</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>String langCode = operation.getConfiguration(LANGUAGE_CODE);

    // Check which tags have been configured
    ConfiguredTagsAndFlavors tagsAndFlavors = getTagsAndFlavors(
        workflowInstance, Configuration.many, Configuration.many, Configuration.none, Configuration.none);
    List&lt;String&gt; sourceTagOption = tagsAndFlavors.getSrcTags();
    List&lt;MediaPackageElementFlavor&gt; sourceFlavorOption = tagsAndFlavors.getSrcFlavors();

    AbstractMediaPackageElementSelector&lt;Track&gt; elementSelector = new TrackSelector();

    // Make sure either one of tags or flavors are provided
    if (sourceTagOption.isEmpty() &amp;&amp; sourceFlavorOption.isEmpty()) {
      throw new WorkflowOperationException(&quot;No source tag or flavor have been specified!&quot;);
    }

    if (!sourceFlavorOption.isEmpty()) {
      MediaPackageElementFlavor flavor = sourceFlavorOption.get(0);
      elementSelector.addFlavor(flavor);
    }
    if (StringUtils.isNotBlank(langCode)) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/AclEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/AclEndpoint.html#L306">306</a></td></tr>
<tr class="a">
<td>org/opencastproject/authorization/xacml/manager/endpoint/AbstractAclServiceRestEndpoint.java</td>
<td>Opencast :: authorization-manager</td>
<td><a href="./xref/org/opencastproject/authorization/xacml/manager/endpoint/AbstractAclServiceRestEndpoint.html#L206">206</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@Path(&quot;&quot;)
  @Produces(MediaType.APPLICATION_JSON)
  @RestQuery(name = &quot;createacl&quot;, description = &quot;Create an ACL&quot;, returnDescription = &quot;Create an ACL&quot;, restParameters = {
          @RestParameter(name = &quot;name&quot;, isRequired = true, description = &quot;The ACL name&quot;, type = STRING),
          @RestParameter(name = &quot;acl&quot;, isRequired = true, description = &quot;The access control list&quot;, type = STRING) }, responses = {
          @RestResponse(responseCode = SC_OK, description = &quot;The ACL has successfully been added&quot;),
          @RestResponse(responseCode = SC_CONFLICT, description = &quot;An ACL with the same name already exists&quot;),
          @RestResponse(responseCode = SC_BAD_REQUEST, description = &quot;Unable to parse the ACL&quot;) })</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/composer/remote/ComposerServiceRemoteImpl.java</td>
<td>Opencast :: composer-service-remote</td>
<td><a href="./xref/org/opencastproject/composer/remote/ComposerServiceRemoteImpl.html#L274">274</a></td></tr>
<tr class="a">
<td>org/opencastproject/composer/remote/ComposerServiceRemoteImpl.java</td>
<td>Opencast :: composer-service-remote</td>
<td><a href="./xref/org/opencastproject/composer/remote/ComposerServiceRemoteImpl.html#L303">303</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>HttpPost post = new HttpPost(&quot;/image&quot;);
    try {
      List&lt;BasicNameValuePair&gt; params = new ArrayList&lt;BasicNameValuePair&gt;();
      params.add(new BasicNameValuePair(&quot;sourceTrack&quot;, MediaPackageElementParser.getAsXml(sourceTrack)));
      params.add(new BasicNameValuePair(&quot;profileId&quot;, profileId));
      params.add(new BasicNameValuePair(&quot;time&quot;, buildTimeArray(times)));
      post.setEntity(new UrlEncodedFormEntity(params, &quot;UTF-8&quot;));
    } catch (Exception e) {
      throw new EncoderException(e);
    }
    HttpResponse response = null;
    try {
      response = getResponse(post);
      if (response != null) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/distribution/aws/s3/endpoint/AwsS3DistributionRestService.java</td>
<td>Opencast :: distribution-service-aws-s3</td>
<td><a href="./xref/org/opencastproject/distribution/aws/s3/endpoint/AwsS3DistributionRestService.html#L141">141</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/aws/s3/endpoint/AwsS3DistributionRestService.java</td>
<td>Opencast :: distribution-service-aws-s3</td>
<td><a href="./xref/org/opencastproject/distribution/aws/s3/endpoint/AwsS3DistributionRestService.html#L201">201</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>returnDescription = &quot;The job that can be used to track the distribution&quot;,
      restParameters = {
          @RestParameter(
              name = &quot;mediapackage&quot;,
              isRequired = true,
              description = &quot;The mediapackage&quot;,
              type = Type.TEXT
          ),
          @RestParameter(
              name = &quot;channelId&quot;,
              isRequired = true,
              description = &quot;The publication channel ID&quot;,
              type = Type.TEXT
          ),
          @RestParameter(
              name = &quot;elementId&quot;,
              isRequired = true,
              description = &quot;The element to distribute&quot;,
              type = Type.STRING
          ),
          @RestParameter(
              name = &quot;checkAvailability&quot;,
              isRequired = false,
              description = &quot;If the service should try to access the distributed element&quot;,
              type = Type.BOOLEAN
          )
      },
      responses = {
          @RestResponse(responseCode = SC_OK, description = &quot;An XML representation of the distribution job&quot;)</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/distribution/download/remote/DownloadDistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-download-remote</td>
<td><a href="./xref/org/opencastproject/distribution/download/remote/DownloadDistributionServiceRemoteImpl.html#L196">196</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/streaming/remote/StreamingDistributionServiceRemoteImpl.java</td>
<td>Opencast :: distribution-service-streaming-remote</td>
<td><a href="./xref/org/opencastproject/distribution/streaming/remote/StreamingDistributionServiceRemoteImpl.html#L206">206</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>param(PARAM_ELEMENT_ID, gson.toJson(elementIds)),
        param(PARAM_CHANNEL_ID, channelId));
    for (List&lt;MediaPackageElement&gt; elements : join(runRequest(req, elementsFromHttpResponse))) {
      return elements;
    }
    throw new DistributionException(format(&quot;Unable to retract '%s' elements of &quot;
            + &quot;mediapackage '%s' using a remote destribution service proxy&quot;,
        elementIds.size(), mediaPackage.getIdentifier().toString()));
  }

  @Reference
  @Override
  public void setTrustedHttpClient(TrustedHttpClient trustedHttpClient) {
    super.setTrustedHttpClient(trustedHttpClient);
  }

  @Reference
  @Override
  public void setRemoteServiceManager(ServiceRegistry serviceRegistry) {
    super.setRemoteServiceManager(serviceRegistry);
  }

}</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/external/endpoint/EventsEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/EventsEndpoint.html#L951">951</a></td></tr>
<tr class="a">
<td>org/opencastproject/external/endpoint/EventsEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/EventsEndpoint.html#L1035">1035</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>SearchResult&lt;Event&gt; results = null;
        try {
          results = elasticsearchIndex.getByQuery(query);
        } catch (SearchIndexException e) {
          logger.error(&quot;The External Search Index was not able to get the events list&quot;, e);
          throw new WebApplicationException(Status.INTERNAL_SERVER_ERROR);
        }

        SearchResultItem&lt;Event&gt;[] items = results.getItems();
        List&lt;IndexObject&gt; events = new ArrayList&lt;&gt;();
        for (SearchResultItem&lt;Event&gt; item : items) {
          Event source = item.getSource();
          source.updatePreview(previewSubtype);
          events.add(source);
        }
        //Append  filtered results to the list
        allEvents.addAll(events);
      }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/ingest/endpoint/IngestRestService.java</td>
<td>Opencast :: ingest-service-impl</td>
<td><a href="./xref/org/opencastproject/ingest/endpoint/IngestRestService.html#L340">340</a></td></tr>
<tr class="a">
<td>org/opencastproject/ingest/endpoint/IngestRestService.java</td>
<td>Opencast :: ingest-service-impl</td>
<td><a href="./xref/org/opencastproject/ingest/endpoint/IngestRestService.html#L387">387</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>@RestParameter(description = &quot;The tags of the media track&quot;, isRequired = false, name = &quot;tags&quot;, type = RestParameter.Type.STRING),
      @RestParameter(description = &quot;The media package as XML&quot;, isRequired = true, name = &quot;mediaPackage&quot;, type = RestParameter.Type.TEXT) },
    bodyParameter = @RestParameter(description = &quot;The media track file&quot;, isRequired = true, name = &quot;BODY&quot;, type = RestParameter.Type.FILE),
    responses = {
      @RestResponse(description = &quot;Returns augmented media package&quot;, responseCode = HttpServletResponse.SC_OK),
      @RestResponse(description = &quot;Media package not valid&quot;, responseCode = HttpServletResponse.SC_BAD_REQUEST),
      @RestResponse(description = &quot;&quot;, responseCode = HttpServletResponse.SC_INTERNAL_SERVER_ERROR) },
    returnDescription = &quot;&quot;)
  public Response addMediaPackageTrack(@Context HttpServletRequest request) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/transcription/googlespeech/GoogleSpeechTranscriptionService.java</td>
<td>Opencast :: transcription-service-google-speech-impl</td>
<td><a href="./xref/org/opencastproject/transcription/googlespeech/GoogleSpeechTranscriptionService.html#L1167">1167</a></td></tr>
<tr class="a">
<td>org/opencastproject/transcription/ibmwatson/IBMWatsonTranscriptionService.java</td>
<td>Opencast :: transcription-service-ibm-watson-impl</td>
<td><a href="./xref/org/opencastproject/transcription/ibmwatson/IBMWatsonTranscriptionService.html#L1077">1077</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>return null;
    }

    String org = Enrichments.enrich(r).getSnapshots().stream().findFirst().get().getOrganizationId();
    Organization organization = null;
    try {
      organization = organizationDirectoryService.getOrganization(org);
      if (organization == null) {
        logger.warn(&quot;Media package {} has an unknown organization {}.&quot;, mpId, org);
        return null;
      }
    } catch (NotFoundException e) {
      logger.warn(&quot;Organization {} not found for media package {}.&quot;, org, mpId);
      return null;
    }
    securityService.setOrganization(organization);

    try {
      WorkflowDefinition wfDef = workflowService.getWorkflowDefinitionById(wfDefId);
      Workflows workflows;</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/composer/remote/ComposerServiceRemoteImpl.java</td>
<td>Opencast :: composer-service-remote</td>
<td><a href="./xref/org/opencastproject/composer/remote/ComposerServiceRemoteImpl.html#L546">546</a></td></tr>
<tr class="a">
<td>org/opencastproject/composer/remote/ComposerServiceRemoteImpl.java</td>
<td>Opencast :: composer-service-remote</td>
<td><a href="./xref/org/opencastproject/composer/remote/ComposerServiceRemoteImpl.html#L635">635</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>params.add(new BasicNameValuePair(&quot;sameCodec&quot;, &quot;true&quot;));
      post.setEntity(new UrlEncodedFormEntity(params, &quot;UTF-8&quot;));
    } catch (Exception e) {
      throw new EncoderException(e);
    }
    HttpResponse response = null;
    try {
      response = getResponse(post);
      if (response != null) {
        Job r = JobParser.parseJob(response.getEntity().getContent());
        logger.info(&quot;Concat video job {} started on a remote composer&quot;, r.getId());
        return r;
      }
    } catch (Exception e) {
      throw new EncoderException(e);
    } finally {
      closeConnection(response);
    }
    throw new EncoderException(&quot;Unable to concat videos from tracks &quot; + tracks</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/event/comment/persistence/EventCommentDatabaseServiceImpl.java</td>
<td>Opencast :: event-comment</td>
<td><a href="./xref/org/opencastproject/event/comment/persistence/EventCommentDatabaseServiceImpl.html#L368">368</a></td></tr>
<tr class="a">
<td>org/opencastproject/event/comment/persistence/EventCommentDatabaseServiceImpl.java</td>
<td>Opencast :: event-comment</td>
<td><a href="./xref/org/opencastproject/event/comment/persistence/EventCommentDatabaseServiceImpl.html#L481">481</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>return Optional.empty();
      }
      Event event = eventOpt.get();
      event.setHasComments(hasComments);
      event.setHasOpenComments(hasOpenComments);
      List&lt;Comment&gt; indexComments = new ArrayList&lt;Comment&gt;();
      for (EventComment comment : comments) {
        indexComments.add(new Comment(
                comment.getId().get().toString(), comment.getReason(), comment.getText(), comment.isResolvedStatus()
        ));
        // Do we want to include replies? Maybe not, no good reason to filter for them?
      }
      event.setComments(indexComments);
      event.setNeedsCutting(needsCutting);
      return Optional.of(event);
    };</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/scheduler/remote/SchedulerServiceRemoteImpl.java</td>
<td>Opencast :: scheduler-remote</td>
<td><a href="./xref/org/opencastproject/scheduler/remote/SchedulerServiceRemoteImpl.html#L144">144</a></td></tr>
<tr class="a">
<td>org/opencastproject/scheduler/remote/SchedulerServiceRemoteImpl.java</td>
<td>Opencast :: scheduler-remote</td>
<td><a href="./xref/org/opencastproject/scheduler/remote/SchedulerServiceRemoteImpl.html#L200">200</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>throw new SchedulerConflictException(&quot;Conflicting events found when adding event &quot; + eventId);
        } else {
          throw new SchedulerException(&quot;Unexpected error code &quot; + errorCode);
        }
      } else if (response != null &amp;&amp; SC_UNAUTHORIZED == response.getStatusLine().getStatusCode()) {
        logger.info(&quot;Unauthorized to create the event&quot;);
        throw new UnauthorizedException(&quot;Unauthorized to create the event&quot;);
      } else {
        throw new SchedulerException(&quot;Unable to add event &quot; + eventId + &quot; to the scheduler service&quot;);
      }
    } catch (UnauthorizedException | SchedulerConflictException e) {
      throw e;
    } catch (Exception e) {
      throw new SchedulerException(&quot;Unable to add event &quot; + eventId + &quot; to the scheduler service&quot;, e);
    } finally {
      closeConnection(response);
    }
  }

  @Override
  public Map&lt;String, Period&gt; addMultipleEvents(RRule rRule, Date start, Date end, Long duration, TimeZone tz,</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/userdirectory/UserEndpoint.java</td>
<td>Opencast :: userdirectory</td>
<td><a href="./xref/org/opencastproject/userdirectory/UserEndpoint.html#L98">98</a></td></tr>
<tr class="a">
<td>org/opencastproject/userdirectory/UserEndpoint.java</td>
<td>Opencast :: userdirectory</td>
<td><a href="./xref/org/opencastproject/userdirectory/UserEndpoint.html#L153">153</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>returnDescription = &quot;Returns a XML representation of the list of user accounts&quot;,
      restParameters = {
          @RestParameter(
              name = &quot;query&quot;,
              description = &quot;The search query, must be at lest 3 characters long.&quot;,
              isRequired = false,
              type = RestParameter.Type.STRING
          ),
          @RestParameter(
              name = &quot;limit&quot;,
              defaultValue = &quot;100&quot;,
              description = &quot;The maximum number of items to return per page.&quot;,
              isRequired = false,
              type = RestParameter.Type.INTEGER
          ),
          @RestParameter(
              name = &quot;offset&quot;,
              defaultValue = &quot;0&quot;,
              description = &quot;The page number.&quot;,
              isRequired = false,
              type = RestParameter.Type.INTEGER
          ),
      },
      responses = { @RestResponse(responseCode = SC_OK, description = &quot;The user accounts.&quot;) }
  )
  public Response getUsersAsXml(</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/adminui/endpoint/ThemesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/ThemesEndpoint.html#L357">357</a></td></tr>
<tr class="a">
<td>org/opencastproject/adminui/endpoint/ThemesEndpoint.java</td>
<td>Opencast :: admin-ui</td>
<td><a href="./xref/org/opencastproject/adminui/endpoint/ThemesEndpoint.html#L454">454</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>Theme theme = new Theme(Option.&lt;Long&gt; none(), new Date(), isDefault, creator, name,
            StringUtils.trimToNull(description), BooleanUtils.toBoolean(bumperActive),
            StringUtils.trimToNull(bumperFile), BooleanUtils.toBoolean(trailerActive),
            StringUtils.trimToNull(trailerFile), BooleanUtils.toBoolean(titleSlideActive),
            StringUtils.trimToNull(titleSlideMetadata), StringUtils.trimToNull(titleSlideBackground),
            BooleanUtils.toBoolean(licenseSlideActive), StringUtils.trimToNull(licenseSlideBackground),
            StringUtils.trimToNull(licenseSlideDescription), BooleanUtils.toBoolean(watermarkActive),
            StringUtils.trimToNull(watermarkFile), StringUtils.trimToNull(watermarkPosition));

    try {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/assetmanager/impl/endpoint/AbstractAssetManagerRestEndpoint.java</td>
<td>Opencast :: asset-manager-impl</td>
<td><a href="./xref/org/opencastproject/assetmanager/impl/endpoint/AbstractAssetManagerRestEndpoint.html#L167">167</a></td></tr>
<tr class="a">
<td>org/opencastproject/search/endpoint/SearchRestService.java</td>
<td>Opencast :: search-service-impl</td>
<td><a href="./xref/org/opencastproject/search/endpoint/SearchRestService.html#L469">469</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  @POST
  @Path(&quot;updateIndex&quot;)
  @RestQuery(name = &quot;updateIndex&quot;,
      description = &quot;Trigger search index update for event. The usage of this is limited to global administrators.&quot;,
      restParameters = {
          @RestParameter(
              name = &quot;id&quot;,
              isRequired = true,
              type = STRING,
              description = &quot;The event ID to trigger an index update for.&quot;)},
      responses = {
          @RestResponse(
              description = &quot;Update successfully triggered.&quot;,
              responseCode = SC_NO_CONTENT),
          @RestResponse(
              description = &quot;Not allowed to trigger update.&quot;,
              responseCode = SC_FORBIDDEN),
          @RestResponse(
              description = &quot;No such event found.&quot;,
              responseCode = SC_NOT_FOUND)},
      returnDescription = &quot;No content is returned.&quot;)
  public Response indexUpdate(@FormParam(&quot;id&quot;) final String id) {
    try {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/mediapackage/elementbuilder/AbstractAttachmentBuilderPlugin.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/mediapackage/elementbuilder/AbstractAttachmentBuilderPlugin.html#L180">180</a></td></tr>
<tr class="a">
<td>org/opencastproject/mediapackage/elementbuilder/CatalogBuilderPlugin.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/mediapackage/elementbuilder/CatalogBuilderPlugin.html#L154">154</a></td></tr>
<tr class="b">
<td>org/opencastproject/mediapackage/elementbuilder/TrackBuilderPlugin.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/mediapackage/elementbuilder/TrackBuilderPlugin.html#L156">156</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>size = Long.parseLong(attachmentSize);

      // checksum
      String checksumValue = (String) xpath.evaluate(&quot;checksum/text()&quot;, elementNode, XPathConstants.STRING);
      String checksumType = (String) xpath.evaluate(&quot;checksum/@type&quot;, elementNode, XPathConstants.STRING);
      if (StringUtils.isNotEmpty(checksumValue) &amp;&amp; checksumType != null)
        checksum = Checksum.create(checksumType.trim(), checksumValue.trim());

      // mimetype
      String mimeTypeValue = (String) xpath.evaluate(&quot;mimetype/text()&quot;, elementNode, XPathConstants.STRING);
      if (StringUtils.isNotEmpty(mimeTypeValue))
        mimeType = MimeTypes.parseMimeType(mimeTypeValue);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/distribution/download/DownloadDistributionServiceImpl.java</td>
<td>Opencast :: distribution-service-download</td>
<td><a href="./xref/org/opencastproject/distribution/download/DownloadDistributionServiceImpl.html#L695">695</a></td></tr>
<tr class="a">
<td>org/opencastproject/distribution/streaming/wowza/WowzaStreamingDistributionService.java</td>
<td>Opencast :: distribution-service-streaming-wowza</td>
<td><a href="./xref/org/opencastproject/distribution/streaming/wowza/WowzaStreamingDistributionService.html#L1094">1094</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  /**
   * {@inheritDoc}
   *
   * @see org.opencastproject.job.api.AbstractJobProducer#process(org.opencastproject.job.api.Job)
   */
  @Override
  protected String process(Job job) throws Exception {
    Operation op = null;
    String operation = job.getOperation();
    List&lt;String&gt; arguments = job.getArguments();
    try {
      op = Operation.valueOf(operation);
      String channelId = arguments.get(0);
      MediaPackage mediapackage = MediaPackageParser.getFromXml(arguments.get(1));
      Set&lt;String&gt; elementIds = gson.fromJson(arguments.get(2), new TypeToken&lt;Set&lt;String&gt;&gt;() { }.getType());</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/ingest/impl/IngestServiceImpl.java</td>
<td>Opencast :: ingest-service-impl</td>
<td><a href="./xref/org/opencastproject/ingest/impl/IngestServiceImpl.html#L807">807</a></td></tr>
<tr class="a">
<td>org/opencastproject/ingest/impl/IngestServiceImpl.java</td>
<td>Opencast :: ingest-service-impl</td>
<td><a href="./xref/org/opencastproject/ingest/impl/IngestServiceImpl.html#L835">835</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>URI newUrl = addContentToRepo(mediaPackage, elementId, uri);
      MediaPackage mp = addContentToMediaPackage(mediaPackage, elementId, newUrl, MediaPackageElement.Type.Track,
              flavor);
      job.setStatus(Job.Status.FINISHED);
      // store startTime
      partialTrackStartTimes.put(elementId, startTime);
      logger.debug(&quot;Added start time {} for track {}&quot;, startTime, elementId);
      logger.info(&quot;Successful added partial track {} on mediapackage {} at URL {}&quot;, elementId, mediaPackage, newUrl);
      return mp;
    } catch (ServiceRegistryException e) {
      throw new IngestException(e);
    } catch (NotFoundException e) {
      throw new IngestException(&quot;Unable to update ingest job&quot;, e);
    } finally {
      finallyUpdateJob(job);
    }
  }

  @Override
  public MediaPackage addPartialTrack(InputStream in, String fileName, MediaPackageElementFlavor flavor, long startTime,</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/annotation/impl/AnnotationImpl.java</td>
<td>Opencast :: annotation-impl</td>
<td><a href="./xref/org/opencastproject/annotation/impl/AnnotationImpl.html#L262">262</a></td></tr>
<tr class="a">
<td>org/opencastproject/usertracking/impl/UserActionImpl.java</td>
<td>Opencast :: usertracking-impl</td>
<td><a href="./xref/org/opencastproject/usertracking/impl/UserActionImpl.html#L165">165</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  @Override
  public int getInpoint() {
    return inpoint;
  }

  @Override
  public void setInpoint(int inpoint) {
    this.inpoint = inpoint;
    updateLength();
  }

  @Override
  public int getOutpoint() {
    return outpoint;
  }

  @Override
  public void setOutpoint(int outpoint) {
    this.outpoint = outpoint;
    updateLength();
  }

  @Override
  public int getLength() {
    return length;
  }

  @Override
  public String getType() {
    return type;
  }

  @Override
  public void setType(String type) {
    this.type = type;
  }

  @Override
  public String getValue() {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/mediapackage/AbstractMediaPackageElement.java</td>
<td>Opencast :: common</td>
<td><a href="./xref/org/opencastproject/mediapackage/AbstractMediaPackageElement.html#L205">205</a></td></tr>
<tr class="a">
<td>org/opencastproject/workflow/api/WorkflowDefinitionImpl.java</td>
<td>Opencast :: workflow-service-api</td>
<td><a href="./xref/org/opencastproject/workflow/api/WorkflowDefinitionImpl.html#L264">264</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>this.tags = new TreeSet&lt;String&gt;(Arrays.asList(tags));
  }

  /**
   * @see org.opencastproject.mediapackage.MediaPackageElement#addTag(java.lang.String)
   */
  @Override
  public void addTag(String tag) {
    if (tag == null)
      throw new IllegalArgumentException(&quot;Tag must not be null&quot;);
    tags.add(tag);
  }

  /**
   * @see org.opencastproject.mediapackage.MediaPackageElement#removeTag(java.lang.String)
   */
  @Override
  public void removeTag(String tag) {
    if (tag == null)
      return;
    tags.remove(tag);
  }

  /**
   * @see org.opencastproject.mediapackage.MediaPackageElement#containsTag(java.lang.String)
   */
  @Override
  public boolean containsTag(String tag) {
    if (tag == null || tags == null)
      return false;
    return tags.contains(tag);
  }

  /**
   * @see org.opencastproject.mediapackage.MediaPackageElement#containsTag(java.util.Collection)
   */
  @Override
  public boolean containsTag(Collection&lt;String&gt; tags) {
    if (tags == null || tags.size() == 0)</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/external/endpoint/SeriesEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/SeriesEndpoint.html#L366">366</a></td></tr>
<tr class="a">
<td>org/opencastproject/external/endpoint/SeriesEndpoint.java</td>
<td>Opencast :: external-api</td>
<td><a href="./xref/org/opencastproject/external/endpoint/SeriesEndpoint.html#L378">378</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>f(&quot;title&quot;, v(s.getTitle())),
                  f(&quot;creator&quot;, v(s.getCreator(), BLANK)),
                  f(&quot;created&quot;, v(createdDate != null ? toUTC(createdDate.getTime()) : null, BLANK)),
                  f(&quot;subjects&quot;, subjects),
                  f(&quot;contributors&quot;, arr($(s.getContributors()).map(Functions.stringToJValue))),
                  f(&quot;organizers&quot;, arr($(s.getOrganizers()).map(Functions.stringToJValue))),
                  f(&quot;publishers&quot;, arr($(s.getPublishers()).map(Functions.stringToJValue))));</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/opencastproject/terminationstate/endpoint/aws/AutoScalingTerminationStateRestService.java</td>
<td>Opencast :: termination-state-aws</td>
<td><a href="./xref/org/opencastproject/terminationstate/endpoint/aws/AutoScalingTerminationStateRestService.html#L104">104</a></td></tr>
<tr class="a">
<td>org/opencastproject/terminationstate/endpoint/impl/TerminationStateRestServiceImpl.java</td>
<td>Opencast :: termination-state-impl</td>
<td><a href="./xref/org/opencastproject/terminationstate/endpoint/impl/TerminationStateRestServiceImpl.html#L96">96</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}
  )
  public Response getState() {
    if (service != null) {
      JSONObject json  = new JSONObject();
      String state = service.getState().toString();
      json.put(&quot;state&quot;, state);
      return Response.ok(json.toJSONString()).build();
    } else {
      logger.error(&quot;TerminationStateService is not available&quot;);
      return Response.status(Response.Status.SERVICE_UNAVAILABLE).build();
    }
  }

  @Override
  @PUT
  @Path(&quot;/state&quot;)
  @RestQuery(
      name = &quot;setstate&quot;,
      description = &quot;Set the termination state. The only permissable value to write to the state is 'wait'&quot;,</pre></td></tr></table></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Â©      2009â€“2025
<a href="http://www.opencast.org/">Opencast Project</a>
</p>
        </div>
      </div>
    </footer>
<script>
  if(anchors) {
    anchors.add();
  }
</script>
  </body>
</html>
